<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>HTML ⇌ Markdown Converter</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background:linear-gradient(135deg,#667eea 0,#764ba2 100%);min-height:100vh;padding:20px}.container{max-width:1200px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,.1);overflow:hidden}header{background:linear-gradient(135deg,#4f46e5 0,#7c3aed 100%);color:#fff;padding:2rem;text-align:center}header h1{font-size:2.5rem;margin-bottom:.5rem;font-weight:700}.subtitle{opacity:.9;font-size:1.1rem}.converter{padding:2rem;display:grid;grid-template-columns:1fr auto 1fr;gap:2rem;align-items:start}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header h2{font-size:1.5rem;color:#4f46e5}.format-toggle{display:flex;border-radius:8px;overflow:hidden;border:2px solid #e5e7eb}.toggle-btn{padding:.5rem 1rem;border:none;background:#f9fafb;color:#6b7280;cursor:pointer;transition:.2s;font-weight:500}.toggle-btn.active{background:#4f46e5;color:#fff}.toggle-btn:hover:not(.active){background:#e5e7eb}textarea{width:100%;height:300px;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;font-family:Monaco,Menlo,'Ubuntu Mono',monospace;font-size:14px;line-height:1.5;resize:vertical;transition:border-color .2s}textarea:focus{outline:0;border-color:#4f46e5}.controls{display:flex;flex-direction:column;gap:1rem;align-self:center}.clear-btn,.convert-btn{padding:1rem 2rem;border:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:.2s}.convert-btn{background:linear-gradient(135deg,#4f46e5 0,#7c3aed 100%);color:#fff}.convert-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(79,70,229,.3)}.clear-btn{background:#f3f4f6;color:#6b7280}.clear-btn:hover{background:#e5e7eb}.output-controls{display:flex;gap:.5rem}.copy-btn,.download-btn{padding:.5rem 1rem;border:1px solid #d1d5db;background:#fff;color:#6b7280;border-radius:6px;cursor:pointer;font-size:.875rem;transition:.2s}.copy-btn:hover,.download-btn:hover{border-color:#4f46e5;color:#4f46e5}.preview-section{padding:0 2rem 2rem}.preview-section h3{color:#4f46e5;margin-bottom:1rem;font-size:1.25rem}.preview-content{border:2px solid #e5e7eb;border-radius:8px;padding:1.5rem;min-height:100px;background:#fafafa}.preview-content h1,.preview-content h2,.preview-content h3{color:#1f2937;margin-bottom:.5rem}.preview-content p{margin-bottom:1rem}.preview-content code{background:#f3f4f6;padding:.25rem .5rem;border-radius:4px;font-family:Monaco,Menlo,'Ubuntu Mono',monospace}.preview-content pre{background:#1f2937;color:#f9fafb;padding:1rem;border-radius:6px;overflow-x:auto;margin-bottom:1rem}footer{background:#f9fafb;padding:1rem;text-align:center;color:#6b7280;font-size:.875rem}@media (max-width:968px){.converter{grid-template-columns:1fr;gap:1.5rem}.controls{flex-direction:row;justify-content:center}header h1{font-size:2rem}}</style><div class=container><header><h1>HTML ⇌ Markdown Converter</h1><p class=subtitle>Convert between HTML and Markdown formats offline</header><div class=converter><div class=input-section><div class=section-header><h2>Input</h2><div class=format-toggle><button class="toggle-btn active"id=htmlInput>HTML</button> <button class=toggle-btn id=markdownInput>Markdown</button></div></div><textarea id=inputText placeholder="Paste your content here..."></textarea></div><div class=controls><button class=convert-btn id=convertBtn>Convert →</button> <button class=clear-btn id=clearBtn>Clear All</button></div><div class=output-section><div class=section-header><h2>Output</h2><div class=output-controls><button class=copy-btn id=copyBtn>Copy</button> <button class=download-btn id=downloadBtn>Download</button></div></div><textarea id=outputText placeholder="Converted content will appear here..."readonly=readonly></textarea></div></div><div class=preview-section><h3>Preview</h3><div class=preview-content id=preview></div></div><footer><p>Works offline • No data sent to servers • Built for privacy</footer></div><script>(()=>{var t=Object.defineProperty,e=t=>{throw TypeError(t)},n=(e,n,r)=>((e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r)(e,"symbol"!=typeof n?n+"":n,r),r=(t,n,r)=>(((t,n)=>{n.has(t)||e("Cannot access private method")})(t,n),r),i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}
function s(t){i=t}var o=/[&<>"']/,a=RegExp(o.source,"g"),l=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c=RegExp(l.source,"g"),h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=t=>h[t]
function f(t,e){if(e){if(o.test(t))return t.replace(a,u)}else if(l.test(t))return t.replace(c,u)
return t}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi
function d(t){return t.replace(p,(t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}var g=/(^|[^\[])\^/g
function m(t,e){let n="string"==typeof t?t:t.source
e=e||""
const r={replace:(t,e)=>{let i="string"==typeof e?e:e.source
return i=i.replace(g,"$1"),n=n.replace(t,i),r},getRegex:()=>RegExp(n,e)}
return r}function b(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch(t){return null}return t}var k={exec:()=>null}
function w(t,e){const n=t.replace(/\|/g,(t,e,n)=>{let r=!1,i=e
for(;--i>=0&&"\\"===n[i];)r=!r
return r?"|":" |"}).split(/ \|/)
let r=0
if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e)
else for(;n.length<e;)n.push("")
for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|")
return n}function x(t,e,n){const r=t.length
if(0===r)return""
let i=0
for(;r>i;){const s=t.charAt(r-i-1)
if(s!==e||n){if(s===e||!n)break
i++}else i++}return t.slice(0,r-i)}function $(t,e,n,r){const i=e.href,s=e.title?f(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1")
if("!"!==t[0].charAt(0)){r.state.inLink=!0
const t={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)}
return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:s,text:f(o)}}var y,v,A,E=class{constructor(t){n(this,"options"),n(this,"rules"),n(this,"lexer"),this.options=t||i}space(t){const e=this.rules.block.newline.exec(t)
if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t)
if(e){const t=e[0].replace(/^ {1,4}/gm,"")
return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:x(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t)
if(e){const t=e[0],n=function(t,e){const n=t.match(/^(\s+)(?:```)/)
if(null===n)return e
const r=n[1]
return e.split("\n").map(t=>{const e=t.match(/^\s+/)
if(null===e)return t
const[n]=e
return n.length<r.length?t:t.slice(r.length)}).join("\n")}(t,e[3]||"")
return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t)
if(e){let t=e[2].trim()
if(/#$/.test(t)){const e=x(t,"#")
this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t)
if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t)
if(e){let t=e[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1")
t=x(t.replace(/^ *>[ \t]?/gm,""),"\n")
const n=this.lexer.state.top
this.lexer.state.top=!0
const r=this.lexer.blockTokens(t)
return this.lexer.state.top=n,{type:"blockquote",raw:e[0],tokens:r,text:t}}}list(t){let e=this.rules.block.list.exec(t)
if(e){let n=e[1].trim()
const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]}
n=r?"\\d{1,9}\\"+n.slice(-1):"\\"+n,this.options.pedantic&&(n=r?n:"[*+-]")
const s=RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`)
let o="",a="",l=!1
for(;t;){let n=!1
if(!(e=s.exec(t)))break
if(this.rules.block.hr.test(t))break
o=e[0],t=t.substring(o.length)
let r=e[2].split("\n",1)[0].replace(/^\t+/,t=>" ".repeat(3*t.length)),c=t.split("\n",1)[0],h=0
this.options.pedantic?(h=2,a=r.trimStart()):(h=e[2].search(/[^ ]/),h=h>4?1:h,a=r.slice(h),h+=e[1].length)
let u=!1
if(!r&&/^ *$/.test(c)&&(o+=c+"\n",t=t.substring(c.length+1),n=!0),!n){const e=RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),s=RegExp(`^ {0,${Math.min(3,h-1)}}#`)
for(;t;){const l=t.split("\n",1)[0]
if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break
if(s.test(c))break
if(e.test(c))break
if(n.test(t))break
if(c.search(/[^ ]/)<h&&c.trim()){if(u)break
if(r.search(/[^ ]/)>=4)break
if(i.test(r))break
if(s.test(r))break
if(n.test(r))break
a+="\n"+c}else a+="\n"+c.slice(h)
u||c.trim()||(u=!0),o+=l+"\n",t=t.substring(l.length+1),r=c.slice(h)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(o)&&(l=!0))
let f,p=null
this.options.gfm&&(p=/^\[[ xX]\] /.exec(a),p&&(f="[ ] "!==p[0],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:o,task:!!p,checked:f,loose:!1,text:a,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=o.trimEnd(),i.items[i.items.length-1].text=a.trimEnd(),i.raw=i.raw.trimEnd()
for(let t=0;t<i.items.length;t++)if(this.lexer.state.top=!1,i.items[t].tokens=this.lexer.blockTokens(i.items[t].text,[]),!i.loose){const e=i.items[t].tokens.filter(t=>"space"===t.type),n=e.length>0&&e.some(t=>/\n.*\n/.test(t.raw))
i.loose=n}if(i.loose)for(let t=0;t<i.items.length;t++)i.items[t].loose=!0
return i}}html(t){const e=this.rules.block.html.exec(t)
if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t)
if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),n=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3]
return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t)
if(!e)return
if(!/[:|]/.test(e[2]))return
const n=w(e[1]),r=e[2].replace(/^\||\| *$/g,"").split("|"),i=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]}
if(n.length===r.length){for(const t of r)/^ *-+: *$/.test(t)?s.align.push("right"):/^ *:-+: *$/.test(t)?s.align.push("center"):/^ *:-+ *$/.test(t)?s.align.push("left"):s.align.push(null)
for(const t of n)s.header.push({text:t,tokens:this.lexer.inline(t)})
for(const t of i)s.rows.push(w(t,s.header.length).map(t=>({text:t,tokens:this.lexer.inline(t)})))
return s}}lheading(t){const e=this.rules.block.lheading.exec(t)
if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t)
if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]
return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t)
if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t)
if(e)return{type:"escape",raw:e[0],text:f(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t)
if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t)
if(e){const t=e[2].trim()
if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return
const e=x(t.slice(0,-1),"\\")
if((t.length-e.length)%2==0)return}else{const t=function(t){if(-1===t.indexOf(")"))return-1
let e=0
for(let n=0;n<t.length;n++)if("\\"===t[n])n++
else if("("===t[n])e++
else if(")"===t[n]&&(e--,0>e))return n
return-1}(e[2])
if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t
e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r=""
if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n)
t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):""
return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1)),$(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},e[0],this.lexer)}}reflink(t,e){let n
if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()]
if(!t){const t=n[0].charAt(0)
return{type:"text",raw:t,text:t}}return $(n,t,n[0],this.lexer)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t)
if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1
let i,s,o=n,a=0
const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd
for(l.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=l.exec(e));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue
if(s=[...i].length,r[3]||r[4]){o+=s
continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){a+=s
continue}if(o-=s,o>0)continue
s=Math.min(s,s+o+a)
const e=[...r[0]][0].length,l=t.slice(0,n+r.index+e+s)
if(Math.min(n,s)%2){const t=l.slice(1,-1)
return{type:"em",raw:l,text:t,tokens:this.lexer.inlineTokens(t)}}const c=l.slice(2,-2)
return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(t){const e=this.rules.inline.code.exec(t)
if(e){let t=e[2].replace(/\n/g," ")
return/[^ ]/.test(t)&&/^ /.test(t)&&/ $/.test(t)&&(t=t.substring(1,t.length-1)),t=f(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t)
if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t)
if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t)
if(e){let t,n
return"@"===e[2]?(t=f(e[1]),n="mailto:"+t):(t=f(e[1]),n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){var e,n
let r
if(r=this.rules.inline.url.exec(t)){let t,i
if("@"===r[2])t=f(r[0]),i="mailto:"+t
else{let s
do{s=r[0],r[0]=null!=(n=null==(e=this.rules.inline.t.exec(r[0]))?void 0:e[0])?n:""}while(s!==r[0])
t=f(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:t,href:i,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t)
if(e){let t
return t=this.lexer.state.inRawBlock?e[0]:f(e[0]),{type:"text",raw:e[0],text:t}}}},T=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,S=/(?:[*+-]|\d{1,9}[.)])/,_=m(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,S).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),R=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,D=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O=m(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",D).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),I=m(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,S).getRegex(),z="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,C=m("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",M).replace("tag",z).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P=m(R).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex(),B={blockquote:m(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",P).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:O,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:T,html:C,lheading:_,list:I,newline:/^(?: *(?:\n|$))+/,paragraph:P,table:k,text:/^[^\n]+/},L=m("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex(),Z={...B,table:L,paragraph:m(R).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",L).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z).getRegex()},q={...B,html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:k,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:m(R).replace("hr",T).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},H=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,N=/^( {2,}|\\)\n(?!\s*$)/,U="\\p{P}\\p{S}",F=m(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,U).getRegex(),X=m(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,U).getRegex(),G=m("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,U).getRegex(),V=m("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,U).getRegex(),Y=m(/\\([punct])/,"gu").replace(/punct/g,U).getRegex(),j=m(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),K=m(M).replace("(?:--\x3e|$)","--\x3e").getRegex(),W=m("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",K).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Q=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,J=m(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tt=m(/^!?\[(label)\]\[(ref)\]/).replace("label",Q).replace("ref",D).getRegex(),et=m(/^!?\[(ref)\](?:\[\])?/).replace("ref",D).getRegex(),nt={t:k,anyPunctuation:Y,autolink:j,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:N,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:k,emStrongLDelim:X,emStrongRDelimAst:G,emStrongRDelimUnd:V,escape:H,link:J,nolink:et,punctuation:F,reflink:tt,reflinkSearch:m("reflink|nolink(?!\\()","g").replace("reflink",tt).replace("nolink",et).getRegex(),tag:W,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:k},rt={...nt,link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",Q).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Q).getRegex()},it={...nt,escape:m(H).replace("])","~|])").getRegex(),url:m(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),t:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},st={...it,br:m(N).replace("{2,}","*").getRegex(),text:m(it.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ot={normal:B,gfm:Z,pedantic:q},at={normal:nt,gfm:it,breaks:st,pedantic:rt},lt=class t{constructor(t){n(this,"tokens"),n(this,"options"),n(this,"state"),n(this,"tokenizer"),n(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||i,this.options.tokenizer=this.options.tokenizer||new E,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0}
const e={block:ot.normal,inline:at.normal}
this.options.pedantic?(e.block=ot.pedantic,e.inline=at.pedantic):this.options.gfm&&(e.block=ot.gfm,this.options.breaks?e.inline=at.breaks:e.inline=at.gfm),this.tokenizer.rules=e}static get rules(){return{block:ot,inline:at}}static lex(e,n){return new t(n).lex(e)}static lexInline(e,n){return new t(n).inlineTokens(e)}lex(t){t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens)
for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t]
this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[]){let n,r,i,s
for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(t,e,n)=>e+"    ".repeat(n.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),1===n.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(n)
else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?e.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text)
else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text)
else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),e.push(n)
else{if(i=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0
const n=t.slice(1)
let r
this.options.extensions.startBlock.forEach(t=>{r=t.call({lexer:this},n),"number"!=typeof r||0>r||(e=Math.min(e,r))}),1/0>e&&e>=0&&(i=t.substring(0,e+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=e[e.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n),s=i.length!==t.length,t=t.substring(n.raw.length)
else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n)
else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0)
if(this.options.silent)break
throw Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n,r,i,s,o,a,l=t
if(this.tokens.links){const t=Object.keys(this.tokens.links)
if(t.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)t.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex)
for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex)
for(;t;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n)
else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n)
else if(n=this.tokenizer.emStrong(t,l,a))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n)
else if(n=this.tokenizer.autolink(t))t=t.substring(n.raw.length),e.push(n)
else if(this.state.inLink||!(n=this.tokenizer.url(t))){if(i=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0
const n=t.slice(1)
let r
this.options.extensions.startInline.forEach(t=>{r=t.call({lexer:this},n),"number"!=typeof r||0>r||(e=Math.min(e,r))}),1/0>e&&e>=0&&(i=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(i))t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0,r=e[e.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n)
else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0)
if(this.options.silent)break
throw Error(e)}}else t=t.substring(n.raw.length),e.push(n)
return e}},ct=class{constructor(t){n(this,"options"),this.options=t||i}code(t,e,n){var r
const i=null==(r=(e||"").match(/^\S*/))?void 0:r[0]
return t=t.replace(/\n$/,"")+"\n",i?'<pre><code class="language-'+f(i)+'">'+(n?t:f(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:f(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,e){return t}heading(t,e,n){return`<h${e}>${t}</h${e}>\n`}hr(){return"<hr>\n"}list(t,e,n){const r=e?"ol":"ul"
return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"}listitem(t,e,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const n=e.header?"th":"td"
return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,e,n){const r=b(t)
if(null===r)return n
let i='<a href="'+(t=r)+'"'
return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>",i}image(t,e,n){const r=b(t)
if(null===r)return n
let i=`<img src="${t=r}" alt="${n}"`
return e&&(i+=` title="${e}"`),i+=">",i}text(t){return t}},ht=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}},ut=class t{constructor(t){n(this,"options"),n(this,"renderer"),n(this,"textRenderer"),this.options=t||i,this.options.renderer=this.options.renderer||new ct,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ht}static parse(e,n){return new t(n).parse(e)}static parseInline(e,n){return new t(n).parseInline(e)}parse(t,e=!0){let n=""
for(let r=0;r<t.length;r++){const i=t[r]
if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const t=i,e=this.options.extensions.renderers[t.type].call({parser:this},t)
if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||""
continue}}switch(i.type){case"space":continue
case"hr":n+=this.renderer.hr()
continue
case"heading":{const t=i
n+=this.renderer.heading(this.parseInline(t.tokens),t.depth,d(this.parseInline(t.tokens,this.textRenderer)))
continue}case"code":{const t=i
n+=this.renderer.code(t.text,t.lang,!!t.escaped)
continue}case"table":{const t=i
let e="",r=""
for(let e=0;e<t.header.length;e++)r+=this.renderer.tablecell(this.parseInline(t.header[e].tokens),{header:!0,align:t.align[e]})
e+=this.renderer.tablerow(r)
let s=""
for(let e=0;e<t.rows.length;e++){const n=t.rows[e]
r=""
for(let e=0;e<n.length;e++)r+=this.renderer.tablecell(this.parseInline(n[e].tokens),{header:!1,align:t.align[e]})
s+=this.renderer.tablerow(r)}n+=this.renderer.table(e,s)
continue}case"blockquote":{const t=i,e=this.parse(t.tokens)
n+=this.renderer.blockquote(e)
continue}case"list":{const t=i,e=t.ordered,r=t.start,s=t.loose
let o=""
for(let e=0;e<t.items.length;e++){const n=t.items[e],r=n.checked,i=n.task
let a=""
if(n.task){const t=this.renderer.checkbox(!!r)
s?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=t+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:t+" "}):a+=t+" "}a+=this.parse(n.tokens,s),o+=this.renderer.listitem(a,i,!!r)}n+=this.renderer.list(o,e,r)
continue}case"html":{const t=i
n+=this.renderer.html(t.text,t.block)
continue}case"paragraph":{const t=i
n+=this.renderer.paragraph(this.parseInline(t.tokens))
continue}case"text":{let s=i,o=s.tokens?this.parseInline(s.tokens):s.text
for(;r+1<t.length&&"text"===t[r+1].type;)s=t[++r],o+="\n"+(s.tokens?this.parseInline(s.tokens):s.text)
n+=e?this.renderer.paragraph(o):o
continue}default:{const t='Token with "'+i.type+'" type was not found.'
if(this.options.silent)return""
throw Error(t)}}}return n}parseInline(t,e){e=e||this.renderer
let n=""
for(let r=0;r<t.length;r++){const i=t[r]
if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const t=this.options.extensions.renderers[i.type].call({parser:this},i)
if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=t||""
continue}}switch(i.type){case"escape":{const t=i
n+=e.text(t.text)
break}case"html":{const t=i
n+=e.html(t.text)
break}case"link":{const t=i
n+=e.link(t.href,t.title,this.parseInline(t.tokens,e))
break}case"image":{const t=i
n+=e.image(t.href,t.title,t.text)
break}case"strong":{const t=i
n+=e.strong(this.parseInline(t.tokens,e))
break}case"em":{const t=i
n+=e.em(this.parseInline(t.tokens,e))
break}case"codespan":{const t=i
n+=e.codespan(t.text)
break}case"br":n+=e.br()
break
case"del":{const t=i
n+=e.del(this.parseInline(t.tokens,e))
break}case"text":{const t=i
n+=e.text(t.text)
break}default:{const t='Token with "'+i.type+'" type was not found.'
if(this.options.silent)return""
throw Error(t)}}}return n}},ft=class{constructor(t){n(this,"options"),this.options=t||i}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}
n(ft,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),y=new WeakSet,v=function(t,e){return(n,i)=>{const s={...i},o={...this.defaults,...s}
!0===this.defaults.async&&!1===s.async&&(o.silent,o.async=!0)
const a=r(this,y,A).call(this,!!o.silent,!!o.async)
if(null==n)return a(Error("marked(): input parameter is undefined or null"))
if("string"!=typeof n)return a(Error("marked(): input parameter is of type "+{}.toString.call(n)+", string expected"))
if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(e=>t(e,o)).then(t=>o.hooks?o.hooks.processAllTokens(t):t).then(t=>o.walkTokens?Promise.all(this.walkTokens(t,o.walkTokens)).then(()=>t):t).then(t=>e(t,o)).then(t=>o.hooks?o.hooks.postprocess(t):t).catch(a)
try{o.hooks&&(n=o.hooks.preprocess(n))
let r=t(n,o)
o.hooks&&(r=o.hooks.processAllTokens(r)),o.walkTokens&&this.walkTokens(r,o.walkTokens)
let i=e(r,o)
return o.hooks&&(i=o.hooks.postprocess(i)),i}catch(t){return a(t)}}},A=function(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+f(n.message+"",!0)+"</pre>"
return e?Promise.resolve(t):t}if(e)return Promise.reject(n)
throw n}}
var pt=new class{constructor(...t){var i,s
i=this,(s=y).has(i)?e("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,void 0),n(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),n(this,"options",this.setOptions),n(this,"parse",r(this,y,v).call(this,lt.lex,ut.parse)),n(this,"parseInline",r(this,y,v).call(this,lt.lexInline,ut.parseInline)),n(this,"Parser",ut),n(this,"Renderer",ct),n(this,"TextRenderer",ht),n(this,"Lexer",lt),n(this,"Tokenizer",E),n(this,"Hooks",ft),this.use(...t)}walkTokens(t,e){var n,r
let i=[]
for(const s of t)switch(i=i.concat(e.call(this,s)),s.type){case"table":{const t=s
for(const n of t.header)i=i.concat(this.walkTokens(n.tokens,e))
for(const n of t.rows)for(const t of n)i=i.concat(this.walkTokens(t.tokens,e))
break}case"list":{const t=s
i=i.concat(this.walkTokens(t.items,e))
break}default:{const t=s;(null==(r=null==(n=this.defaults.extensions)?void 0:n.childTokens)?void 0:r[t.type])?this.defaults.extensions.childTokens[t.type].forEach(n=>{const r=t[n].flat(1/0)
i=i.concat(this.walkTokens(r,e))}):t.tokens&&(i=i.concat(this.walkTokens(t.tokens,e)))}}return i}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}}
return t.forEach(t=>{const n={...t}
if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(t=>{if(!t.name)throw Error("extension name required")
if("renderer"in t){const n=e.renderers[t.name]
e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e)
return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw Error("extension level must be 'block' or 'inline'")
const n=e[t.level]
n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),n.extensions=e),t.renderer){const e=this.defaults.renderer||new ct(this.defaults)
for(const n in t.renderer){if(!(n in e))throw Error(`renderer '${n}' does not exist`)
if("options"===n)continue
const r=n,i=t.renderer[r],s=e[r]
e[r]=(...t)=>{let n=i.apply(e,t)
return!1===n&&(n=s.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new E(this.defaults)
for(const n in t.tokenizer){if(!(n in e))throw Error(`tokenizer '${n}' does not exist`)
if(["options","rules","lexer"].includes(n))continue
const r=n,i=t.tokenizer[r],s=e[r]
e[r]=(...t)=>{let n=i.apply(e,t)
return!1===n&&(n=s.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new ft
for(const n in t.hooks){if(!(n in e))throw Error(`hook '${n}' does not exist`)
if("options"===n)continue
const r=n,i=t.hooks[r],s=e[r]
ft.passThroughHooks.has(n)?e[r]=t=>{if(this.defaults.async)return Promise.resolve(i.call(e,t)).then(t=>s.call(e,t))
const n=i.call(e,t)
return s.call(e,n)}:e[r]=(...t)=>{let n=i.apply(e,t)
return!1===n&&(n=s.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,r=t.walkTokens
n.walkTokens=function(t){let n=[]
return n.push(r.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return lt.lex(t,null!=e?e:this.defaults)}parser(t,e){return ut.parse(t,null!=e?e:this.defaults)}}
function dt(t,e){return pt.parse(t,e)}function gt(t,e){return Array(e+1).join(t)}dt.options=dt.setOptions=function(t){return pt.setOptions(t),dt.defaults=pt.defaults,s(dt.defaults),dt},dt.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},dt.defaults=i,dt.use=function(...t){return pt.use(...t),dt.defaults=pt.defaults,s(dt.defaults),dt},dt.walkTokens=function(t,e){return pt.walkTokens(t,e)},dt.parseInline=pt.parseInline,dt.Parser=ut,dt.parser=ut.parse,dt.Renderer=ct,dt.TextRenderer=ht,dt.Lexer=lt,dt.lexer=lt.lex,dt.Tokenizer=E,dt.Hooks=ft,dt.parse=dt,dt.options,dt.setOptions,dt.use,dt.walkTokens,dt.parseInline,ut.parse,lt.lex
var mt=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"]
function bt(t){return $t(t,mt)}var kt=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"]
function wt(t){return $t(t,kt)}var xt=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"]
function $t(t,e){return e.indexOf(t.nodeName)>=0}function yt(t,e){return t.getElementsByTagName&&e.some(function(e){return t.getElementsByTagName(e).length})}var vt={}
function At(t){return t?t.replace(/(\n+\s*)+/g,"\n"):""}function Et(t){for(var e in this.options=t,this.i=[],this.o=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[],t.rules)this.array.push(t.rules[e])}function Tt(t,e,n){for(var r=0;r<t.length;r++){var i=t[r]
if(St(i,e,n))return i}}function St(t,e,n){var r=t.filter
if("string"==typeof r){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function")
if(r.call(t,e,n))return!0}}function _t(t){var e=t.nextSibling||t.parentNode
return t.parentNode.removeChild(t),e}function Rt(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}vt.paragraph={filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}},vt.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+"\n"}},vt.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=+e.nodeName.charAt(1)
return"setext"===n.headingStyle&&3>r?"\n\n"+t+"\n"+gt(1===r?"=":"-",t.length)+"\n\n":"\n\n"+gt("#",r)+" "+t+"\n\n"}},vt.blockquote={filter:"blockquote",replacement:function(t){return"\n\n"+(t=(t=t.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},vt.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode
return"LI"===n.nodeName&&n.lastElementChild===e?"\n"+t:"\n\n"+t+"\n\n"}},vt.listItem={filter:"li",replacement:function(t,e,n){var r=n.bulletListMarker+"   ",i=e.parentNode
if("OL"===i.nodeName){var s=i.getAttribute("start"),o=[].indexOf.call(i.children,e)
r=(s?+s+o:o+1)+".  "}return r+(t=t.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n"+" ".repeat(r.length)))+(e.nextSibling&&!/\n$/.test(t)?"\n":"")}},vt.indentedCodeBlock={filter:function(t,e){return"indented"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,n){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},vt.fencedCodeBlock={filter:function(t,e){return"fenced"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,n){for(var r,i=((e.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],s=e.firstChild.textContent,o=n.fence.charAt(0),a=3,l=RegExp("^"+o+"{3,}","gm");r=l.exec(s);)r[0].length<a||(a=r[0].length+1)
var c=gt(o,a)
return"\n\n"+c+i+"\n"+s.replace(/\n$/,"")+"\n"+c+"\n\n"}},vt.horizontalRule={filter:"hr",replacement:function(t,e,n){return"\n\n"+n.hr+"\n\n"}},vt.inlineLink={filter:function(t,e){return"inlined"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href")
n&&(n=n.replace(/([()])/g,"\\$1"))
var r=At(e.getAttribute("title"))
return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+t+"]("+n+r+")"}},vt.referenceLink={filter:function(t,e){return"referenced"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e,n){var r,i,s=e.getAttribute("href"),o=At(e.getAttribute("title"))
switch(o&&(o=' "'+o+'"'),n.linkReferenceStyle){case"collapsed":r="["+t+"][]",i="["+t+"]: "+s+o
break
case"shortcut":r="["+t+"]",i="["+t+"]: "+s+o
break
default:var a=this.references.length+1
r="["+t+"]["+a+"]",i="["+a+"]: "+s+o}return this.references.push(i),r},references:[],append:function(t){var e=""
return this.references.length&&(e="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),e}},vt.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}},vt.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}},vt.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n="PRE"===t.parentNode.nodeName&&!e
return"CODE"===t.nodeName&&!n},replacement:function(t){if(!t)return""
t=t.replace(/\r?\n|\r/g," ")
for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`"
return n+e+t+e+n}},vt.image={filter:"img",replacement:function(t,e){var n=At(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=At(e.getAttribute("title"))
return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},Et.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this.i.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this.o.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){return t.isBlank?this.blankRule:(e=Tt(this.array,t,this.options))||(e=Tt(this.i,t,this.options))||(e=Tt(this.o,t,this.options))?e:this.defaultRule
var e},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}}
var Dt,Ot,It="undefined"!=typeof window?window:{},zt=function(){var t=It.DOMParser,e=!1
try{(new t).parseFromString("","text/html")&&(e=!0)}catch(t){}return e}()?It.DOMParser:(Dt=function(){},function(){var t=!1
try{document.implementation.createHTMLDocument("").open()}catch(e){It.ActiveXObject&&(t=!0)}return t}()?Dt.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile")
return e.designMode="on",e.open(),e.write(t),e.close(),e}:Dt.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("")
return e.open(),e.write(t),e.close(),e},Dt)
function Mt(t,e){var n
return function(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(t){return"PRE"===t.nodeName}
if(e.firstChild&&!i(e)){for(var s=null,o=!1,a=null,l=Rt(a,e,i);l!==e;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ")
if(s&&!/ $/.test(s.data)||o||" "!==c[0]||(c=c.substr(1)),!c){l=_t(l)
continue}l.data=c,s=l}else{if(1!==l.nodeType){l=_t(l)
continue}n(l)||"BR"===l.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):r(l)||i(l)?(s=null,o=!0):s&&(o=!1)}var h=Rt(a,l,i)
a=l,l=h}s&&(s.data=s.data.replace(/ $/,""),s.data||_t(s))}}({element:n="string"==typeof t?(Ot=Ot||new zt).parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html").getElementById("turndown-root"):t.cloneNode(!0),isBlock:bt,isVoid:wt,isPre:e.preformattedCode?Ct:null}),n}function Ct(t){return"PRE"===t.nodeName||"CODE"===t.nodeName}function Pt(t,e){return t.isBlock=bt(t),t.isCode="CODE"===t.nodeName||t.parentNode.isCode,t.isBlank=function(t){return!wt(t)&&!function(t){return $t(t,xt)}(t)&&/^\s*$/i.test(t.textContent)&&!function(t){return yt(t,kt)}(t)&&!function(t){return yt(t,xt)}(t)}(t),t.flankingWhitespace=function(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""}
var n,r={leading:(n=t.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]}
return r.leadingAscii&&Bt("left",t,e)&&(r.leading=r.leadingNonAscii),r.trailingAscii&&Bt("right",t,e)&&(r.trailing=r.trailingNonAscii),{leading:r.leading,trailing:r.trailing}}(t,e),t}function Bt(t,e,n){var r,i,s
return"left"===t?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(3===r.nodeType?s=i.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?s=!1:1!==r.nodeType||bt(r)||(s=i.test(r.textContent))),s}var Lt=[].reduce,Zt=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]]
function qt(t){if(!(this instanceof qt))return new qt(t)
var e={rules:vt,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,e){return e.isBlock?"\n\n":""},keepReplacement:function(t,e){return e.isBlock?"\n\n"+e.outerHTML+"\n\n":e.outerHTML},defaultReplacement:function(t,e){return e.isBlock?"\n\n"+t+"\n\n":t}}
this.options=function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e]
for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}({},e,t),this.rules=new Et(this.options)}function Ht(t){var e=this
return Lt.call(t.childNodes,function(t,n){var r=""
return 3===(n=new Pt(n,e.options)).nodeType?r=n.isCode?n.nodeValue:e.escape(n.nodeValue):1===n.nodeType&&(r=Ut.call(e,n)),Ft(t,r)},"")}function Nt(t){var e=this
return this.rules.forEach(function(n){"function"==typeof n.append&&(t=Ft(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Ut(t){var e=this.rules.forNode(t),n=Ht.call(this,t),r=t.flankingWhitespace
return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function Ft(t,e){var n=function(t){for(var e=t.length;e>0&&"\n"===t[e-1];)e--
return t.substring(0,e)}(t),r=e.replace(/^\n*/,""),i=Math.max(t.length-n.length,e.length-r.length)
return n+"\n\n".substring(0,i)+r}qt.prototype={turndown:function(t){if(!function(t){return null!=t&&("string"==typeof t||t.nodeType&&(1===t.nodeType||9===t.nodeType||11===t.nodeType))}(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.")
if(""===t)return""
var e=Ht.call(this,new Mt(t,this.options))
return Nt.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e])
else{if("function"!=typeof t)throw new TypeError("plugin must be a Function or an Array of Functions")
t(this)}return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return Zt.reduce(function(t,e){return t.replace(e[0],e[1])},t)}}
var Xt=qt,Gt=class{constructor(){this.inputMode="html",this.setupTurndown(),this.setupMarked(),this.initializeElements(),this.bindEvents(),this.updateUI()}setupTurndown(){this.turndownService=new Xt({headingStyle:"atx",codeBlockStyle:"fenced",bulletListMarker:"-",emDelimiter:"*",strongDelimiter:"**"}),this.turndownService.addRule("tableWrapper",{filter:"table",replacement:(t,e)=>{const n=Array.from(e.querySelectorAll("tr"))
if(0===n.length)return t
let r="\n\n",i=!1
return n.forEach((t,e)=>{const n=Array.from(t.querySelectorAll("th, td")),s=null!==t.querySelector("th")
s&&(i=!0)
const o=n.map(t=>{let e=this.turndownService.turndown(t.innerHTML).replace(/\n/g," ").replace(/\|/g,"\\|").trim()
return e||(e=" "),e})
if(r+="| "+o.join(" | ")+" |\n",s||0===e&&!i){const t=n.map(()=>"---").join(" | ")
r+="| "+t+" |\n"}}),r+="\n",r}}),this.turndownService.remove(["tableRow","tableCell","tableCellSeparator"])}setupMarked(){dt.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartypants:!1})}initializeElements(){this.elements={htmlInputBtn:document.getElementById("htmlInput"),markdownInputBtn:document.getElementById("markdownInput"),inputText:document.getElementById("inputText"),outputText:document.getElementById("outputText"),convertBtn:document.getElementById("convertBtn"),clearBtn:document.getElementById("clearBtn"),copyBtn:document.getElementById("copyBtn"),downloadBtn:document.getElementById("downloadBtn"),preview:document.getElementById("preview")}}bindEvents(){let t
this.elements.htmlInputBtn.addEventListener("click",()=>this.setInputMode("html")),this.elements.markdownInputBtn.addEventListener("click",()=>this.setInputMode("markdown")),this.elements.convertBtn.addEventListener("click",()=>this.convert()),this.elements.clearBtn.addEventListener("click",()=>this.clearAll()),this.elements.copyBtn.addEventListener("click",()=>this.copyOutput()),this.elements.downloadBtn.addEventListener("click",()=>this.downloadOutput()),this.elements.inputText.addEventListener("paste",t=>this.handleSmartPaste(t)),this.elements.inputText.addEventListener("input",()=>{clearTimeout(t),t=setTimeout(()=>this.convert(),500)})}async handleSmartPaste(t){if("html"!==this.inputMode)return
t.preventDefault()
try{if(navigator.clipboard&&navigator.clipboard.read){const t=await navigator.clipboard.read()
for(const e of t){if(e.types.includes("text/html")){const t=await e.getType("text/html"),n=await t.text(),r=this.cleanPastedHtml(n)
return void this.insertAtCursor(r)}if(e.types.includes("text/plain")){const t=await e.getType("text/plain"),n=await t.text()
return void this.insertAtCursor(n)}}}}catch(t){}const e=t.clipboardData||window.clipboardData
if(e){let t=e.getData("text/html")
if(t&&t.trim()){const e=this.cleanPastedHtml(t)
return void this.insertAtCursor(e)}const n=e.getData("text/plain")||e.getData("text")
n&&this.insertAtCursor(n)}}cleanPastedHtml(t){let e=t
return e=e.replace(/<!DOCTYPE[^>]*>/gi,""),e=e.replace(/<html[^>]*>/gi,""),e=e.replace(/<\/html>/gi,""),e=e.replace(/<head[^>]*>[\s\S]*?<\/head>/gi,""),e=e.replace(/<body[^>]*>/gi,""),e=e.replace(/<\/body>/gi,""),e=e.replace(/<meta[^>]*>/gi,""),e=e.replace(/<table[^>]*>/gi,"<table>"),e=e.replace(/<tr[^>]*>/gi,"<tr>"),e=e.replace(/<td[^>]*>/gi,"<td>"),e=e.replace(/<th[^>]*>/gi,"<th>"),e=e.replace(/<thead[^>]*>/gi,"<thead>"),e=e.replace(/<tbody[^>]*>/gi,"<tbody>"),e=e.replace(/<colgroup[^>]*>[\s\S]*?<\/colgroup>/gi,""),e=e.replace(/<col[^>]*>/gi,""),e=e.replace(/\s(style|class|data-[^=]*)="[^"]*"/gi,""),e=e.replace(/<p[^>]*>\s*<\/p>/gi,""),e=e.replace(/^\s+|\s+$/g,""),e}insertAtCursor(t){const e=this.elements.inputText,n=e.selectionStart,r=e.selectionEnd,i=e.value.substring(0,n),s=e.value.substring(r)
e.value=i+t+s
const o=n+t.length
e.selectionStart=o,e.selectionEnd=o,this.convert(),this.showToast("Smart paste: HTML content detected and cleaned!")}setInputMode(t){this.inputMode=t,this.updateUI(),this.convert()}updateUI(){const t="html"===this.inputMode
this.elements.htmlInputBtn.classList.toggle("active",t),this.elements.markdownInputBtn.classList.toggle("active",!t),this.elements.inputText.placeholder=t?"Paste your HTML here... (Tables, lists, formatting supported!)":"Paste your Markdown here... (GitHub Flavored Markdown with tables!)",this.elements.outputText.placeholder=t?"Markdown output will appear here...":"HTML output will appear here..."}convert(){const t=this.elements.inputText.value.trim()
if(!t)return this.elements.outputText.value="",void(this.elements.preview.innerHTML='<p style="color: #6b7280;">Preview will appear here...</p>')
try{let e
if("html"===this.inputMode){e=this.turndownService.turndown(t),e=this.cleanMarkdown(e)
const n=dt.parse(e)
this.elements.preview.innerHTML=n}else e=dt.parse(t),this.elements.preview.innerHTML=e
this.elements.outputText.value=e}catch(t){this.elements.outputText.value="Error: "+t.message,this.elements.preview.innerHTML='<p style="color: red;">Error in conversion</p>'}}cleanMarkdown(t){let e=t
return e=e.replace(/\n{4,}/g,"\n\n"),e=e.replace(/\|\s*\n\s*\|/g,"|\n|"),e=e.replace(/\|([^|\n]*)\|/g,(t,e)=>(e.includes("---"),t)),e=e.trim(),e}clearAll(){this.elements.inputText.value="",this.elements.outputText.value="",this.elements.preview.innerHTML='<p style="color: #6b7280;">Preview will appear here...</p>'}async copyOutput(){const t=this.elements.outputText.value
if(t)try{await navigator.clipboard.writeText(t),this.showToast("Copied to clipboard!")}catch(t){this.elements.outputText.select(),document.execCommand("copy"),this.showToast("Copied to clipboard!")}}downloadOutput(){const t=this.elements.outputText.value
if(!t)return
const e="html"===this.inputMode?"md":"html",n="html"===this.inputMode?"text/markdown":"text/html",r=new Blob([t],{type:n}),i=URL.createObjectURL(r),s=document.createElement("a")
s.href=i,s.download="converted."+e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}showToast(t){const e=document.querySelector(".toast")
e&&e.remove()
const n=document.createElement("div")
n.className="toast",n.textContent=t,n.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: #4f46e5;\n      color: white;\n      padding: 1rem 1.5rem;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n      z-index: 1000;\n      font-weight: 500;\n      transform: translateX(400px);\n      transition: transform 0.3s ease;\n    ",document.body.appendChild(n),setTimeout(()=>{n.style.transform="translateX(0)"},100),setTimeout(()=>{n.style.transform="translateX(400px)",setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},300)},3e3)}}
document.addEventListener("DOMContentLoaded",()=>{new Gt})})()</script>