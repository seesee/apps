<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self'; connect-src 'self' http://localhost:* http://127.0.0.1:* https://*;">
    <title>Jottery - Privacy-Focused Notes</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const Pf=!1;var Zc=Array.isArray,j1=Array.prototype.indexOf,hd=Array.from,u0=Object.defineProperty,ws=Object.getOwnPropertyDescriptor,d0=Object.getOwnPropertyDescriptors,U1=Object.prototype,Y1=Array.prototype,fd=Object.getPrototypeOf,AO=Object.isExtensible;const tn=()=>{};function G1(r){return r()}function Yl(r){for(var e=0;e<r.length;e++)r[e]()}function O0(){var r,e,t=new Promise((i,n)=>{r=i,e=n});return{promise:t,resolve:r,reject:e}}const Tt=2,ud=4,Lc=8,F1=1<<24,Zi=16,Li=32,is=64,qc=128,Dr=512,Qt=1024,ir=2048,di=4096,pr=8192,Pi=16384,dd=32768,Es=65536,EO=1<<17,p0=1<<18,Ks=1<<19,g0=1<<20,Wn=32768,Tf=1<<21,Od=1<<22,rn=1<<23,Ti=Symbol("$state"),H1=Symbol("legacy props"),K1=Symbol(""),bs=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function m0(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function J1(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function eQ(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function tQ(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function rQ(r){throw new Error("https://svelte.dev/e/effect_orphan")}function iQ(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function nQ(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function sQ(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function oQ(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function aQ(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function lQ(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const y0=1,b0=2,v0=4,cQ=8,hQ=16,fQ=1,uQ=2,dQ=4,OQ=8,pQ=16,gQ=1,mQ=2,At=Symbol(),yQ="http://www.w3.org/1999/xhtml";function bQ(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function vQ(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function S0(r){return r===this.v}function x0(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Q0(r){return!x0(r,this.v)}let Js=!1,SQ=!1;function xQ(){Js=!0}let We=null;function Rs(r){We=r}function $t(r,e=!1,t){We={p:We,i:!1,c:null,e:null,s:r,x:null,l:Js&&!e?{s:null,u:null,$:[]}:null}}function _t(r){var e=We,t=e.e;if(t!==null){e.e=null;for(var i of t)D0(i)}return e.i=!0,We=e.p,{}}function xa(){return!Js||We!==null&&We.l===null}let Zn=[];function w0(){var r=Zn;Zn=[],Yl(r)}function ns(r){if(Zn.length===0&&!Zo){var e=Zn;queueMicrotask(()=>{e===Zn&&w0()})}Zn.push(r)}function QQ(){for(;Zn.length>0;)w0()}function k0(r){var e=Ce;if(e===null)return Se.f|=rn,r;if(e.f&dd)Xs(r,e);else{if(!(e.f&qc))throw r;e.b.error(r)}}function Xs(r,e){for(;e!==null;){if(e.f&qc)try{e.b.error(r);return}catch(t){r=t}e=e.parent}throw r}const Wa=new Set;let ke=null,Mo=null,kr=null,Qr=[],Dc=null,$f=!1,Zo=!1;class ei{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#i=0;#r=0;#l=null;#s=[];#n=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(e){Qr=[],Mo=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of e)this.#o(i,t);this.is_fork||this.#h(),this.is_deferred()?(this.#a(t.effects),this.#a(t.render_effects),this.#a(t.block_effects)):(Mo=this,ke=null,RO(t.render_effects),RO(t.effects),Mo=null,this.#l?.resolve()),kr=null}#o(e,t){e.f^=Qt;for(var i=e.first;i!==null;){var n=i.f,s=(n&(Li|is))!==0,o=s&&(n&Qt)!==0,a=o||(n&pr)!==0||this.skipped_effects.has(i);if(i.f&qc&&i.b?.is_pending()&&(t={parent:t,effect:i,effects:[],render_effects:[],block_effects:[]}),!a&&i.fn!==null){s?i.f^=Qt:n&ud?t.effects.push(i):eo(i)&&(i.f&Zi&&t.block_effects.push(i),Ms(i));var l=i.first;if(l!==null){i=l;continue}}var c=i.parent;for(i=i.next;i===null&&c!==null;)c===t.effect&&(this.#a(t.effects),this.#a(t.render_effects),this.#a(t.block_effects),t=t.parent),i=c.next,c=c.parent}}#a(e){for(const t of e)(t.f&ir?this.#s:this.#n).push(t),this.#c(t.deps),Pt(t,Qt)}#c(e){if(e!==null)for(const t of e)!(t.f&Tt)||!(t.f&Wn)||(t.f^=Wn,this.#c(t.deps))}capture(e,t){this.previous.has(e)||this.previous.set(e,t),e.f&rn||(this.current.set(e,e.v),kr?.set(e,e.v))}activate(){ke=this,this.apply()}deactivate(){ke===this&&(ke=null,kr=null)}flush(){if(this.activate(),Qr.length>0){if(P0(),ke!==null&&ke!==this)return}else this.#i===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#h(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#i===0&&this.#f()}#f(){if(Wa.size>1){this.previous.clear();var e=kr,t=!0,i={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Wa){if(s===this){t=!1;continue}const o=[];for(const[l,c]of this.current){if(s.current.has(l))if(t&&c!==s.current.get(l))s.current.set(l,c);else continue;o.push(l)}if(o.length===0)continue;const a=[...s.current.keys()].filter(l=>!this.current.has(l));if(a.length>0){var n=Qr;Qr=[];const l=new Set,c=new Map;for(const h of o)T0(h,a,l,c);if(Qr.length>0){ke=s,s.apply();for(const h of Qr)s.#o(h,i);s.deactivate()}Qr=n}}ke=null,kr=e}this.committed=!0,Wa.delete(this)}increment(e){this.#i+=1,e&&(this.#r+=1)}decrement(e){this.#i-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#s)Pt(e,ir),jn(e);for(const e of this.#n)Pt(e,di),jn(e);this.#s=[],this.#n=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=O0()).promise}static ensure(){if(ke===null){const e=ke=new ei;Wa.add(ke),Zo||ei.enqueue(()=>{ke===e&&e.flush()})}return ke}static enqueue(e){ns(e)}apply(){}}function wQ(r){var e=Zo;Zo=!0;try{for(var t;;){if(QQ(),Qr.length===0&&(ke?.flush(),Qr.length===0))return Dc=null,t;P0()}}finally{Zo=e}}function P0(){var r=Dn;$f=!0;var e=null;try{var t=0;for(Hl(!0);Qr.length>0;){var i=ei.ensure();if(t++>1e3){var n,s;kQ()}i.process(Qr),nn.clear()}}finally{$f=!1,Hl(r),Dc=null}}function kQ(){try{iQ()}catch(r){Xs(r,Dc)}}let Si=null;function RO(r){var e=r.length;if(e!==0){for(var t=0;t<e;){var i=r[t++];if(!(i.f&(Pi|pr))&&eo(i)&&(Si=new Set,Ms(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?N0(i):i.fn=null),Si?.size>0)){nn.clear();for(const n of Si){if(n.f&(Pi|pr))continue;const s=[n];let o=n.parent;for(;o!==null;)Si.has(o)&&(Si.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];l.f&(Pi|pr)||Ms(l)}}Si.clear()}}Si=null}}function T0(r,e,t,i){if(!t.has(r)&&(t.add(r),r.reactions!==null))for(const n of r.reactions){const s=n.f;s&Tt?T0(n,e,t,i):s&(Od|Zi)&&!(s&ir)&&$0(n,e,i)&&(Pt(n,ir),jn(n))}}function $0(r,e,t){const i=t.get(r);if(i!==void 0)return i;if(r.deps!==null)for(const n of r.deps){if(e.includes(n))return!0;if(n.f&Tt&&$0(n,e,t))return t.set(n,!0),!0}return t.set(r,!1),!1}function jn(r){for(var e=Dc=r;e.parent!==null;){e=e.parent;var t=e.f;if($f&&e===Ce&&t&Zi&&!(t&p0))return;if(t&(is|Li)){if(!(t&Qt))return;e.f^=Qt}}Qr.push(e)}function PQ(r){let e=0,t=Un(0),i;return()=>{Go()&&(g(t),wa(()=>(e===0&&(i=C(()=>r(()=>Lo(t)))),e+=1,()=>{ns(()=>{e-=1,e===0&&(i?.(),i=void 0,Lo(t))})})))}}var TQ=Es|Ks|qc;function $Q(r,e,t){new _Q(r,e,t)}class _Q{parent;#e=!1;#t;#i=null;#r;#l;#s;#n=null;#o=null;#a=null;#c=null;#h=null;#f=0;#u=0;#O=!1;#d=null;#b=PQ(()=>(this.#d=Un(this.#f),()=>{this.#d=null}));constructor(e,t,i){this.#t=e,this.#r=t,this.#l=i,this.parent=Ce.b,this.#e=!!this.#r.pending,this.#s=gd(()=>{Ce.b=this;{var n=this.#m();try{this.#n=wr(()=>i(n))}catch(s){this.error(s)}this.#u>0?this.#g():this.#e=!1}return()=>{this.#h?.remove()}},TQ)}#v(){try{this.#n=wr(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#S(){const e=this.#r.pending;e&&(this.#o=wr(()=>e(this.#t)),ei.enqueue(()=>{var t=this.#m();this.#n=this.#p(()=>(ei.ensure(),wr(()=>this.#l(t)))),this.#u>0?this.#g():(ks(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#m(){var e=this.#t;return this.#e&&(this.#h=on(),this.#t.before(this.#h),e=this.#h),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#p(e){var t=Ce,i=Se,n=We;hi(this.#s),Jt(this.#s),Rs(this.#s.ctx);try{return e()}catch(s){return k0(s),null}finally{hi(t),Jt(i),Rs(n)}}#g(){const e=this.#r.pending;this.#n!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#h),j0(this.#n,this.#c)),this.#o===null&&(this.#o=wr(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#u+=e,this.#u===0&&(this.#e=!1,this.#o&&ks(this.#o,()=>{this.#o=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(e){this.#y(e),this.#f+=e,this.#d&&Yn(this.#d,this.#f)}get_effect_pending(){return this.#b(),g(this.#d)}error(e){var t=this.#r.onerror;let i=this.#r.failed;if(this.#O||!t&&!i)throw e;this.#n&&(rr(this.#n),this.#n=null),this.#o&&(rr(this.#o),this.#o=null),this.#a&&(rr(this.#a),this.#a=null);var n=!1,s=!1;const o=()=>{if(n){vQ();return}n=!0,s&&lQ(),ei.ensure(),this.#f=0,this.#a!==null&&ks(this.#a,()=>{this.#a=null}),this.#e=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#O=!1,wr(()=>this.#l(this.#t)))),this.#u>0?this.#g():this.#e=!1};var a=Se;try{Jt(null),s=!0,t?.(e,o),s=!1}catch(l){Xs(l,this.#s&&this.#s.parent)}finally{Jt(a)}i&&ns(()=>{this.#a=this.#p(()=>{ei.ensure(),this.#O=!0;try{return wr(()=>{i(this.#t,()=>e,()=>o)})}catch(l){return Xs(l,this.#s.parent),null}finally{this.#O=!1}})})}}function CQ(r,e,t,i){const n=xa()?zc:wt;if(t.length===0&&r.length===0){i(e.map(n));return}var s=ke,o=Ce,a=AQ();function l(){Promise.all(t.map(c=>EQ(c))).then(c=>{a();try{i([...e.map(n),...c])}catch(h){o.f&Pi||Xs(h,o)}s?.deactivate(),Gl()}).catch(c=>{Xs(c,o)})}r.length>0?Promise.all(r).then(()=>{a();try{return l()}finally{s?.deactivate(),Gl()}}):l()}function AQ(){var r=Ce,e=Se,t=We,i=ke;return function(s=!0){hi(r),Jt(e),Rs(t),s&&i?.activate()}}function Gl(){hi(null),Jt(null),Rs(null)}function zc(r){var e=Tt|ir,t=Se!==null&&Se.f&Tt?Se:null;return Ce!==null&&(Ce.f|=Ks),{ctx:We,deps:null,effects:null,equals:S0,f:e,fn:r,reactions:null,rv:0,v:At,wv:0,parent:t??Ce,ac:null}}function EQ(r,e){let t=Ce;t===null&&J1();var i=t.b,n=void 0,s=Un(At),o=!Se,a=new Map;return NQ(()=>{var l=O0();n=l.promise;try{Promise.resolve(r()).then(l.resolve,l.reject).then(()=>{c===ke&&c.committed&&c.deactivate(),Gl()})}catch(u){l.reject(u),Gl()}var c=ke;if(o){var h=!i.is_pending();i.update_pending_count(1),c.increment(h),a.get(c)?.reject(bs),a.delete(c),a.set(c,l)}const f=(u,d=void 0)=>{if(c.activate(),d)d!==bs&&(s.f|=rn,Yn(s,d));else{s.f&rn&&(s.f^=rn),Yn(s,u);for(const[O,p]of a){if(a.delete(O),O===c)break;p.reject(bs)}}o&&(i.update_pending_count(-1),c.decrement(h))};l.promise.then(f,u=>f(null,u||"unknown"))}),Ic(()=>{for(const l of a.values())l.reject(bs)}),new Promise(l=>{function c(h){function f(){h===n?l(s):c(n)}h.then(f,f)}c(n)})}function wt(r){const e=zc(r);return e.equals=Q0,e}function _0(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)rr(e[t])}}function RQ(r){for(var e=r.parent;e!==null;){if(!(e.f&Tt))return e.f&Pi?null:e;e=e.parent}return null}function pd(r){var e,t=Ce;hi(RQ(r));try{r.f&=~Wn,_0(r),e=F0(r)}finally{hi(t)}return e}function C0(r){var e=pd(r);if(r.equals(e)||(ke?.is_fork||(r.v=e),r.wv=Y0()),!ss)if(kr!==null)(Go()||ke?.is_fork)&&kr.set(r,e);else{var t=r.f&Dr?Qt:di;Pt(r,t)}}let _f=new Set;const nn=new Map;let A0=!1;function Un(r,e){var t={f:0,v:r,reactions:null,equals:S0,rv:0,wv:0};return t}function ji(r,e){const t=Un(r);return UQ(t),t}function N(r,e=!1,t=!0){const i=Un(r);return e||(i.equals=Q0),Js&&t&&We!==null&&We.l!==null&&(We.l.s??=[]).push(i),i}function k(r,e,t=!1){Se!==null&&(!ti||Se.f&EO)&&xa()&&Se.f&(Tt|Zi|Od|EO)&&!$i?.includes(r)&&aQ();let i=t?vs(e):e;return Yn(r,i)}function Yn(r,e){if(!r.equals(e)){var t=r.v;ss?nn.set(r,e):nn.set(r,t),r.v=e;var i=ei.ensure();i.capture(r,t),r.f&Tt&&(r.f&ir&&pd(r),Pt(r,r.f&Dr?Qt:di)),r.wv=Y0(),E0(r,ir),xa()&&Ce!==null&&Ce.f&Qt&&!(Ce.f&(Li|is))&&(xr===null?YQ([r]):xr.push(r)),!i.is_fork&&_f.size>0&&!A0&&XQ()}return e}function XQ(){A0=!1;var r=Dn;Hl(!0);const e=Array.from(_f);try{for(const t of e)t.f&Qt&&Pt(t,di),eo(t)&&Ms(t)}finally{Hl(r)}_f.clear()}function Lo(r){k(r,r.v+1)}function E0(r,e){var t=r.reactions;if(t!==null)for(var i=xa(),n=t.length,s=0;s<n;s++){var o=t[s],a=o.f;if(!(!i&&o===Ce)){var l=(a&ir)===0;if(l&&Pt(o,e),a&Tt){var c=o;kr?.delete(c),a&Wn||(a&Dr&&(o.f|=Wn),E0(c,di))}else l&&(a&Zi&&Si!==null&&Si.add(o),jn(o))}}}function vs(r){if(typeof r!="object"||r===null||Ti in r)return r;const e=fd(r);if(e!==U1&&e!==Y1)return r;var t=new Map,i=Zc(r),n=ji(0),s=zn,o=a=>{if(zn===s)return a();var l=Se,c=zn;Jt(null),qO(s);var h=a();return Jt(l),qO(c),h};return i&&t.set("length",ji(r.length)),new Proxy(r,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&sQ();var h=t.get(l);return h===void 0?h=o(()=>{var f=ji(c.value);return t.set(l,f),f}):k(h,c.value,!0),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0){if(l in a){const h=o(()=>ji(At));t.set(l,h),Lo(n)}}else k(c,At),Lo(n);return!0},get(a,l,c){if(l===Ti)return r;var h=t.get(l),f=l in a;if(h===void 0&&(!f||ws(a,l)?.writable)&&(h=o(()=>{var d=vs(f?a[l]:At),O=ji(d);return O}),t.set(l,h)),h!==void 0){var u=g(h);return u===At?void 0:u}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var h=t.get(l);h&&(c.value=g(h))}else if(c===void 0){var f=t.get(l),u=f?.v;if(f!==void 0&&u!==At)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return c},has(a,l){if(l===Ti)return!0;var c=t.get(l),h=c!==void 0&&c.v!==At||Reflect.has(a,l);if(c!==void 0||Ce!==null&&(!h||ws(a,l)?.writable)){c===void 0&&(c=o(()=>{var u=h?vs(a[l]):At,d=ji(u);return d}),t.set(l,c));var f=g(c);if(f===At)return!1}return h},set(a,l,c,h){var f=t.get(l),u=l in a;if(i&&l==="length")for(var d=c;d<f.v;d+=1){var O=t.get(d+"");O!==void 0?k(O,At):d in a&&(O=o(()=>ji(At)),t.set(d+"",O))}if(f===void 0)(!u||ws(a,l)?.writable)&&(f=o(()=>ji(void 0)),k(f,vs(c)),t.set(l,f));else{u=f.v!==At;var p=o(()=>vs(c));k(f,p)}var m=Reflect.getOwnPropertyDescriptor(a,l);if(m?.set&&m.set.call(h,c),!u){if(i&&typeof l=="string"){var b=t.get("length"),v=Number(l);Number.isInteger(v)&&v>=b.v&&k(b,v+1)}Lo(n)}return!0},ownKeys(a){g(n);var l=Reflect.ownKeys(a).filter(f=>{var u=t.get(f);return u===void 0||u.v!==At});for(var[c,h]of t)h.v!==At&&!(c in a)&&l.push(c);return l},setPrototypeOf(){oQ()}})}function XO(r){try{if(r!==null&&typeof r=="object"&&Ti in r)return r[Ti]}catch{}return r}function MQ(r,e){return Object.is(XO(r),XO(e))}var MO,R0,X0,M0;function ZQ(){if(MO===void 0){MO=window,R0=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;X0=ws(e,"firstChild").get,M0=ws(e,"nextSibling").get,AO(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),AO(t)&&(t.__t=void 0)}}function on(r=""){return document.createTextNode(r)}function Fl(r){return X0.call(r)}function Qa(r){return M0.call(r)}function w(r,e){return Fl(r)}function Ke(r,e=!1){{var t=Fl(r);return t instanceof Comment&&t.data===""?Qa(t):t}}function T(r,e=1,t=!1){let i=r;for(;e--;)i=Qa(i);return i}function LQ(r){r.textContent=""}function Z0(){return!1}function qQ(r,e){{const t=document.body;r.autofocus=!0,ns(()=>{document.activeElement===t&&r.focus()})}}let ZO=!1;function DQ(){ZO||(ZO=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(const e of r.target.elements)e.__on_r?.()})},{capture:!0}))}function Bc(r){var e=Se,t=Ce;Jt(null),hi(null);try{return r()}finally{Jt(e),hi(t)}}function L0(r,e,t,i=t){r.addEventListener(e,()=>Bc(t));const n=r.__on_r;n?r.__on_r=()=>{n(),i(!0)}:r.__on_r=()=>i(!0),DQ()}function q0(r){Ce===null&&(Se===null&&rQ(),tQ()),ss&&eQ()}function zQ(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Oi(r,e,t){var i=Ce;i!==null&&i.f&pr&&(r|=pr);var n={ctx:We,deps:null,nodes:null,f:r|ir|Dr,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(t)try{Ms(n),n.f|=dd}catch(a){throw rr(n),a}else e!==null&&jn(n);var s=n;if(t&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&!(s.f&Ks)&&(s=s.first,r&Zi&&r&Es&&s!==null&&(s.f|=Es)),s!==null&&(s.parent=i,i!==null&&zQ(s,i),Se!==null&&Se.f&Tt&&!(r&is))){var o=Se;(o.effects??=[]).push(s)}return n}function Go(){return Se!==null&&!ti}function Ic(r){const e=Oi(Lc,null,!1);return Pt(e,Qt),e.teardown=r,e}function Cf(r){q0();var e=Ce.f,t=!Se&&(e&Li)!==0&&(e&dd)===0;if(t){var i=We;(i.e??=[]).push(r)}else return D0(r)}function D0(r){return Oi(ud|g0,r,!1)}function BQ(r){return q0(),Oi(Lc|g0,r,!0)}function IQ(r){ei.ensure();const e=Oi(is|Ks,r,!0);return(t={})=>new Promise(i=>{t.outro?ks(e,()=>{rr(e),i(void 0)}):(rr(e),i(void 0))})}function z0(r){return Oi(ud,r,!1)}function ze(r,e){var t=We,i={effect:null,ran:!1,deps:r};t.l.$.push(i),i.effect=wa(()=>{r(),!i.ran&&(i.ran=!0,C(e))})}function On(){var r=We;wa(()=>{for(var e of r.l.$){e.deps();var t=e.effect;t.f&Qt&&Pt(t,di),eo(t)&&Ms(t),e.ran=!1}})}function NQ(r){return Oi(Od|Ks,r,!0)}function wa(r,e=0){return Oi(Lc|e,r,!0)}function ie(r,e=[],t=[],i=[]){CQ(i,e,t,n=>{Oi(Lc,()=>r(...n.map(g)),!0)})}function gd(r,e=0){var t=Oi(Zi|e,r,!0);return t}function wr(r){return Oi(Li|Ks,r,!0)}function B0(r){var e=r.teardown;if(e!==null){const t=ss,i=Se;LO(!0),Jt(null);try{e.call(null)}finally{LO(t),Jt(i)}}}function I0(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){const n=t.ac;n!==null&&Bc(()=>{n.abort(bs)});var i=t.next;t.f&is?t.parent=null:rr(t,e),t=i}}function VQ(r){for(var e=r.first;e!==null;){var t=e.next;e.f&Li||rr(e),e=t}}function rr(r,e=!0){var t=!1;(e||r.f&p0)&&r.nodes!==null&&r.nodes.end!==null&&(WQ(r.nodes.start,r.nodes.end),t=!0),I0(r,e&&!t),Kl(r,0),Pt(r,Pi);var i=r.nodes&&r.nodes.t;if(i!==null)for(const s of i)s.stop();B0(r);var n=r.parent;n!==null&&n.first!==null&&N0(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes=r.ac=null}function WQ(r,e){for(;r!==null;){var t=r===e?null:Qa(r);r.remove(),r=t}}function N0(r){var e=r.parent,t=r.prev,i=r.next;t!==null&&(t.next=i),i!==null&&(i.prev=t),e!==null&&(e.first===r&&(e.first=i),e.last===r&&(e.last=t))}function ks(r,e,t=!0){var i=[];md(r,i,!0),V0(i,()=>{t&&rr(r),e&&e()})}function V0(r,e){var t=r.length;if(t>0){var i=()=>--t||e();for(var n of r)n.out(i)}else e()}function md(r,e,t){if(!(r.f&pr)){r.f^=pr;var i=r.nodes&&r.nodes.t;if(i!==null)for(const a of i)(a.is_global||t)&&e.push(a);for(var n=r.first;n!==null;){var s=n.next,o=(n.f&Es)!==0||(n.f&Li)!==0&&(r.f&Zi)!==0;md(n,e,o?t:!1),n=s}}}function yd(r){W0(r,!0)}function W0(r,e){if(r.f&pr){r.f^=pr,r.f&Qt||(Pt(r,ir),jn(r));for(var t=r.first;t!==null;){var i=t.next,n=(t.f&Es)!==0||(t.f&Li)!==0;W0(t,n?e:!1),t=i}var s=r.nodes&&r.nodes.t;if(s!==null)for(const o of s)(o.is_global||e)&&o.in()}}function j0(r,e){if(r.nodes)for(var t=r.nodes.start,i=r.nodes.end;t!==null;){var n=t===i?null:Qa(t);e.append(t),t=n}}let gs=null;function jQ(r){var e=gs;try{if(gs=new Set,C(r),e!==null)for(var t of gs)e.add(t);return gs}finally{gs=e}}function ja(r){for(var e of jQ(r))Yn(e,e.v)}let Dn=!1;function Hl(r){Dn=r}let ss=!1;function LO(r){ss=r}let Se=null,ti=!1;function Jt(r){Se=r}let Ce=null;function hi(r){Ce=r}let $i=null;function UQ(r){Se!==null&&($i===null?$i=[r]:$i.push(r))}let Vt=null,hr=0,xr=null;function YQ(r){xr=r}let U0=1,Fo=0,zn=Fo;function qO(r){zn=r}function Y0(){return++U0}function eo(r){var e=r.f;if(e&ir)return!0;if(e&Tt&&(r.f&=~Wn),e&di){var t=r.deps;if(t!==null)for(var i=t.length,n=0;n<i;n++){var s=t[n];if(eo(s)&&C0(s),s.wv>r.wv)return!0}e&Dr&&kr===null&&Pt(r,Qt)}return!1}function G0(r,e,t=!0){var i=r.reactions;if(i!==null&&!$i?.includes(r))for(var n=0;n<i.length;n++){var s=i[n];s.f&Tt?G0(s,e,!1):e===s&&(t?Pt(s,ir):s.f&Qt&&Pt(s,di),jn(s))}}function F0(r){var e=Vt,t=hr,i=xr,n=Se,s=$i,o=We,a=ti,l=zn,c=r.f;Vt=null,hr=0,xr=null,Se=c&(Li|is)?null:r,$i=null,Rs(r.ctx),ti=!1,zn=++Fo,r.ac!==null&&(Bc(()=>{r.ac.abort(bs)}),r.ac=null);try{r.f|=Tf;var h=r.fn,f=h(),u=r.deps;if(Vt!==null){var d;if(Kl(r,hr),u!==null&&hr>0)for(u.length=hr+Vt.length,d=0;d<Vt.length;d++)u[hr+d]=Vt[d];else r.deps=u=Vt;if(Go()&&r.f&Dr)for(d=hr;d<u.length;d++)(u[d].reactions??=[]).push(r)}else u!==null&&hr<u.length&&(Kl(r,hr),u.length=hr);if(xa()&&xr!==null&&!ti&&u!==null&&!(r.f&(Tt|di|ir)))for(d=0;d<xr.length;d++)G0(xr[d],r);return n!==null&&n!==r&&(Fo++,xr!==null&&(i===null?i=xr:i.push(...xr))),r.f&rn&&(r.f^=rn),f}catch(O){return k0(O)}finally{r.f^=Tf,Vt=e,hr=t,xr=i,Se=n,$i=s,Rs(o),ti=a,zn=l}}function GQ(r,e){let t=e.reactions;if(t!==null){var i=j1.call(t,r);if(i!==-1){var n=t.length-1;n===0?t=e.reactions=null:(t[i]=t[n],t.pop())}}t===null&&e.f&Tt&&(Vt===null||!Vt.includes(e))&&(Pt(e,di),e.f&Dr&&(e.f^=Dr,e.f&=~Wn),_0(e),Kl(e,0))}function Kl(r,e){var t=r.deps;if(t!==null)for(var i=e;i<t.length;i++)GQ(r,t[i])}function Ms(r){var e=r.f;if(!(e&Pi)){Pt(r,Qt);var t=Ce,i=Dn;Ce=r,Dn=!0;try{e&(Zi|F1)?VQ(r):I0(r),B0(r);var n=F0(r);r.teardown=typeof n=="function"?n:null,r.wv=U0;var s;Pf&&SQ&&r.f&ir&&r.deps}finally{Dn=i,Ce=t}}}async function FQ(){await Promise.resolve(),wQ()}function g(r){var e=r.f,t=(e&Tt)!==0;if(gs?.add(r),Se!==null&&!ti){var i=Ce!==null&&(Ce.f&Pi)!==0;if(!i&&!$i?.includes(r)){var n=Se.deps;if(Se.f&Tf)r.rv<Fo&&(r.rv=Fo,Vt===null&&n!==null&&n[hr]===r?hr++:Vt===null?Vt=[r]:Vt.includes(r)||Vt.push(r));else{(Se.deps??=[]).push(r);var s=r.reactions;s===null?r.reactions=[Se]:s.includes(Se)||s.push(Se)}}}if(ss){if(nn.has(r))return nn.get(r);if(t){var o=r,a=o.v;return(!(o.f&Qt)&&o.reactions!==null||K0(o))&&(a=pd(o)),nn.set(o,a),a}}else t&&(!kr?.has(r)||ke?.is_fork&&!Go())&&(o=r,eo(o)&&C0(o),Dn&&Go()&&!(o.f&Dr)&&H0(o));if(kr?.has(r))return kr.get(r);if(r.f&rn)throw r.v;return r.v}function H0(r){if(r.deps!==null){r.f^=Dr;for(const e of r.deps)(e.reactions??=[]).push(r),e.f&Tt&&!(e.f&Dr)&&H0(e)}}function K0(r){if(r.v===At)return!0;if(r.deps===null)return!1;for(const e of r.deps)if(nn.has(e)||e.f&Tt&&K0(e))return!0;return!1}function C(r){var e=ti;try{return ti=!0,r()}finally{ti=e}}const HQ=-7169;function Pt(r,e){r.f=r.f&HQ|e}function Ne(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Ti in r)Af(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&Ti in t&&Af(t)}}}function Af(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let i in r)try{Af(r[i],e)}catch{}const t=fd(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const i=d0(t);for(let n in i){const s=i[n].get;if(s)try{s.call(r)}catch{}}}}}const KQ=["touchstart","touchmove"];function JQ(r){return KQ.includes(r)}const ew=new Set,DO=new Set;function tw(r,e,t,i={}){function n(s){if(i.capture||_o.call(e,s),!s.cancelBubble)return Bc(()=>t?.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?ns(()=>{e.addEventListener(r,n,i)}):e.addEventListener(r,n,i),n}function D(r,e,t,i,n){var s={capture:i,passive:n},o=tw(r,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ic(()=>{e.removeEventListener(r,o,s)})}let zO=null;function _o(r){var e=this,t=e.ownerDocument,i=r.type,n=r.composedPath?.()||[],s=n[0]||r.target;zO=r;var o=0,a=zO===r&&r.__root;if(a){var l=n.indexOf(a);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var c=n.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(s=n[o]||r.target,s!==e){u0(r,"currentTarget",{configurable:!0,get(){return s||t}});var h=Se,f=Ce;Jt(null),hi(null);try{for(var u,d=[];s!==null;){var O=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+i];p!=null&&(!s.disabled||r.target===s)&&p.call(s,r)}catch(m){u?d.push(m):u=m}if(r.cancelBubble||O===e||O===null)break;s=O}if(u){for(let m of d)queueMicrotask(()=>{throw m});throw u}}finally{r.__root=e,delete r.currentTarget,Jt(h),hi(f)}}}function rw(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","\x3C!---->"),e.content}function Ef(r,e){var t=Ce;t.nodes===null&&(t.nodes={start:r,end:e,a:null,t:null})}function z(r,e){var t=(e&gQ)!==0,i=(e&mQ)!==0,n,s=!r.startsWith("<!>");return()=>{n===void 0&&(n=rw(s?r:"<!>"+r),t||(n=Fl(n)));var o=i||R0?document.importNode(n,!0):n.cloneNode(!0);if(t){var a=Fl(o),l=o.lastChild;Ef(a,l)}else Ef(o,o);return o}}function nr(){var r=document.createDocumentFragment(),e=document.createComment(""),t=on();return r.append(e,t),Ef(e,t),r}function R(r,e){r!==null&&r.before(e)}function I(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??=r.nodeValue)&&(r.__t=t,r.nodeValue=t+"")}function iw(r,e){return nw(r,e)}const ds=new Map;function nw(r,{target:e,anchor:t,props:i={},events:n,context:s,intro:o=!0}){ZQ();var a=new Set,l=f=>{for(var u=0;u<f.length;u++){var d=f[u];if(!a.has(d)){a.add(d);var O=JQ(d);e.addEventListener(d,_o,{passive:O});var p=ds.get(d);p===void 0?(document.addEventListener(d,_o,{passive:O}),ds.set(d,1)):ds.set(d,p+1)}}};l(hd(ew)),DO.add(l);var c=void 0,h=IQ(()=>{var f=t??e.appendChild(on());return $Q(f,{pending:()=>{}},u=>{if(s){$t({});var d=We;d.c=s}n&&(i.$$events=n),c=r(u,i)||{},s&&_t()}),()=>{for(var u of a){e.removeEventListener(u,_o);var d=ds.get(u);--d===0?(document.removeEventListener(u,_o),ds.delete(u)):ds.set(u,d)}DO.delete(l),f!==t&&f.parentNode?.removeChild(f)}});return sw.set(c,h),c}let sw=new WeakMap;class ow{anchor;#e=new Map;#t=new Map;#i=new Map;#r=new Set;#l=!0;constructor(e,t=!0){this.anchor=e,this.#l=t}#s=()=>{var e=ke;if(this.#e.has(e)){var t=this.#e.get(e),i=this.#t.get(t);if(i)yd(i),this.#r.delete(t);else{var n=this.#i.get(t);n&&(this.#t.set(t,n.effect),this.#i.delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),i=n.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#i.get(o);a&&(rr(a.effect),this.#i.delete(o))}for(const[s,o]of this.#t){if(s===t||this.#r.has(s))continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var c=document.createDocumentFragment();j0(o,c),c.append(on()),this.#i.set(s,{effect:o,fragment:c})}else rr(o);this.#r.delete(s),this.#t.delete(s)};this.#l||!i?(this.#r.add(s),ks(o,a,!1)):a()}}};#n=e=>{this.#e.delete(e);const t=Array.from(this.#e.values());for(const[i,n]of this.#i)t.includes(i)||(rr(n.effect),this.#i.delete(i))};ensure(e,t){var i=ke,n=Z0();if(t&&!this.#t.has(e)&&!this.#i.has(e))if(n){var s=document.createDocumentFragment(),o=on();s.append(o),this.#i.set(e,{effect:wr(()=>t(o)),fragment:s})}else this.#t.set(e,wr(()=>t(this.anchor)));if(this.#e.set(i,e),n){for(const[a,l]of this.#t)a===e?i.skipped_effects.delete(l):i.skipped_effects.add(l);for(const[a,l]of this.#i)a===e?i.skipped_effects.delete(l.effect):i.skipped_effects.add(l.effect);i.oncommit(this.#s),i.ondiscard(this.#n)}else this.#s()}}function re(r,e,t=!1){var i=new ow(r),n=t?Es:0;function s(o,a){i.ensure(o,a)}gd(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},n)}function _i(r,e){return e}function aw(r,e,t){for(var i=[],n=e.length,s=0;s<n;s++)md(e[s].e,i,!0);V0(i,()=>{var o=i.length===0&&t!==null;if(o){var a=t,l=a.parentNode;LQ(l),l.append(a),r.items.clear(),Lr(r,e[0].prev,e[n-1].next)}for(var c=0;c<n;c++){var h=e[c];o||(r.items.delete(h.k),Lr(r,h.prev,h.next)),rr(h.e,!o)}r.first===e[0]&&(r.first=e[0].prev)})}function Cr(r,e,t,i,n,s=null){var o=r,a=new Map,l=null,c=(e&v0)!==0,h=(e&y0)!==0,f=(e&b0)!==0;if(c){var u=r;o=u.appendChild(on())}var d=null,O=wt(()=>{var Q=t();return Zc(Q)?Q:Q==null?[]:hd(Q)}),p,m=!0;function b(){lw(x,p,o,e,i),d!==null&&(p.length===0?(d.fragment?(o.before(d.fragment),d.fragment=null):yd(d.effect),v.first=d.effect):ks(d.effect,()=>{d=null}))}var v=gd(()=>{p=g(O);for(var Q=p.length,S=new Set,P=ke,$=null,M=Z0(),q=0;q<Q;q+=1){var U=p[q],j=i(U,q),Z=m?null:a.get(j);Z?(h&&Yn(Z.v,U),f&&Yn(Z.i,q),M&&P.skipped_effects.delete(Z.e)):(Z=cw(m?o:null,$,U,j,q,n,e,t),m&&(Z.o=!0,$===null?l=Z:$.next=Z,$=Z),a.set(j,Z)),S.add(j)}if(Q===0&&s&&!d)if(m)d={fragment:null,effect:wr(()=>s(o))};else{var K=document.createDocumentFragment(),X=on();K.append(X),d={fragment:K,effect:wr(()=>s(X))}}if(!m)if(M){for(const[J,pe]of a)S.has(J)||P.skipped_effects.add(pe.e);P.oncommit(b),P.ondiscard(()=>{})}else b();g(O)}),x={effect:v,items:a,first:l};m=!1}function lw(r,e,t,i,n){var s=(i&cQ)!==0,o=e.length,a=r.items,l=r.first,c,h=null,f,u=[],d=[],O,p,m,b;if(s)for(b=0;b<o;b+=1)O=e[b],p=n(O,b),m=a.get(p),m.o&&(m.e.nodes?.a?.measure(),(f??=new Set).add(m));for(b=0;b<o;b+=1){if(O=e[b],p=n(O,b),m=a.get(p),r.first??=m,!m.o){m.o=!0;var v=h?h.next:l;Lr(r,h,m),Lr(r,m,v),gh(m,v,t),h=m,u=[],d=[],l=h.next;continue}if(m.e.f&pr&&(yd(m.e),s&&(m.e.nodes?.a?.unfix(),(f??=new Set).delete(m))),m!==l){if(c!==void 0&&c.has(m)){if(u.length<d.length){var x=d[0],Q;h=x.prev;var S=u[0],P=u[u.length-1];for(Q=0;Q<u.length;Q+=1)gh(u[Q],x,t);for(Q=0;Q<d.length;Q+=1)c.delete(d[Q]);Lr(r,S.prev,P.next),Lr(r,h,S),Lr(r,P,x),l=x,h=P,b-=1,u=[],d=[]}else c.delete(m),gh(m,l,t),Lr(r,m.prev,m.next),Lr(r,m,h===null?r.first:h.next),Lr(r,h,m),h=m;continue}for(u=[],d=[];l!==null&&l!==m;)l.e.f&pr||(c??=new Set).add(l),d.push(l),l=l.next;if(l===null)continue;m=l}u.push(m),h=m,l=m.next}let $=a.size>o;if(l!==null||c!==void 0){for(var M=c===void 0?[]:hd(c);l!==null;)l.e.f&pr||M.push(l),l=l.next;var q=M.length;if($=a.size-q>o,q>0){var U=i&v0&&o===0?t:null;if(s){for(b=0;b<q;b+=1)M[b].e.nodes?.a?.measure();for(b=0;b<q;b+=1)M[b].e.nodes?.a?.fix()}aw(r,M,U)}}if($)for(const j of a.values())j.o||(Lr(r,h,j),h=j);r.effect.last=h&&h.e,s&&ns(()=>{if(f!==void 0)for(m of f)m.e.nodes?.a?.apply()})}function cw(r,e,t,i,n,s,o,a){var l=(o&y0)!==0,c=(o&hQ)===0,h=l?c?N(t,!1,!1):Un(t):t,f=o&b0?Un(n):n,u={i:f,v:h,k:i,e:null,o:!1,prev:e,next:null};if(r===null){var d=document.createDocumentFragment();d.append(r=on())}return u.e=wr(()=>s(r,h,f,a)),e!==null&&(e.next=u),u}function gh(r,e,t){if(r.e.nodes)for(var i=r.next?r.next.e.nodes.start:t,n=e?e.e.nodes.start:t,s=r.e.nodes.start;s!==null&&s!==i;){var o=Qa(s);n.before(s),s=o}}function Lr(r,e,t){e===null?(r.first=t,r.effect.first=t&&t.e):(e.e.next&&(e.e.next.prev=null),e.next=t,e.e.next=t&&t.e),t!==null&&(t.e.prev&&(t.e.prev.next=null),t.prev=e,t.e.prev=e&&e.e)}function hw(r,e,t){var i=r==null?"":""+r;return e&&(i=i?i+" "+e:e),i===""?null:i}function fw(r,e){return r==null?null:String(r)}function qr(r,e,t,i,n,s){var o=r.__className;if(o!==t||o===void 0){var a=hw(t,i);a==null?r.removeAttribute("class"):r.className=a,r.__className=t}return s}function uw(r,e,t,i){var n=r.__style;if(n!==e){var s=fw(e);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}return i}function bd(r,e,t=!1){if(r.multiple){if(e==null)return;if(!Zc(e))return bQ();for(var i of r.options)i.selected=e.includes(qo(i));return}for(i of r.options){var n=qo(i);if(MQ(n,e)){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function J0(r){var e=new MutationObserver(()=>{bd(r,r.__value)});e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ic(()=>{e.disconnect()})}function Ua(r,e,t=e){var i=new WeakSet,n=!0;L0(r,"change",s=>{var o=s?"[selected]":":checked",a;if(r.multiple)a=[].map.call(r.querySelectorAll(o),qo);else{var l=r.querySelector(o)??r.querySelector("option:not([disabled])");a=l&&qo(l)}t(a),ke!==null&&i.add(ke)}),z0(()=>{var s=e();if(r===document.activeElement){var o=Mo??ke;if(i.has(o))return}if(bd(r,s,n),n&&s===void 0){var a=r.querySelector(":checked");a!==null&&(s=qo(a),t(s))}r.__value=s,n=!1}),J0(r)}function qo(r){return"__value"in r?r.__value:r.value}const dw=Symbol("is custom element"),Ow=Symbol("is html");function lt(r,e,t,i){var n=pw(r);n[e]!==(n[e]=t)&&(e==="loading"&&(r[K1]=t),t==null?r.removeAttribute(e):typeof t!="string"&&gw(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function pw(r){return r.__attributes??={[dw]:r.nodeName.includes("-"),[Ow]:r.namespaceURI===yQ}}var BO=new Map;function gw(r){var e=r.getAttribute("is")||r.nodeName,t=BO.get(e);if(t)return t;BO.set(e,t=[]);for(var i,n=r,s=Element.prototype;s!==n;){i=d0(n);for(var o in i)i[o].set&&t.push(o);n=fd(n)}return t}function ri(r,e,t=e){var i=new WeakSet;L0(r,"input",async n=>{var s=n?r.defaultValue:r.value;if(s=mh(r)?yh(s):s,t(s),ke!==null&&i.add(ke),await FQ(),s!==(s=e())){var o=r.selectionStart,a=r.selectionEnd,l=r.value.length;if(r.value=s??"",a!==null){var c=r.value.length;o===a&&a===l&&c>l?(r.selectionStart=c,r.selectionEnd=c):(r.selectionStart=o,r.selectionEnd=Math.min(a,c))}}}),C(e)==null&&r.value&&(t(mh(r)?yh(r.value):r.value),ke!==null&&i.add(ke)),wa(()=>{var n=e();if(r===document.activeElement){var s=Mo??ke;if(i.has(s))return}mh(r)&&n===yh(r.value)||r.type==="date"&&!n&&!r.value||n!==r.value&&(r.value=n??"")})}function mh(r){var e=r.type;return e==="number"||e==="range"}function yh(r){return r===""?null:+r}function IO(r,e){return r===e||r?.[Ti]===e}function Ho(r={},e,t,i){return z0(()=>{var n,s;return wa(()=>{n=s,s=[],C(()=>{r!==t(...s)&&(e(r,...s),n&&IO(t(...n),r)&&e(null,...n))})}),()=>{ns(()=>{s&&IO(t(...s),r)&&e(null,...s)})}}),r}function ey(r){return function(...e){var t=e[0];return t.stopPropagation(),r?.apply(this,e)}}function mw(r){return function(...e){var t=e[0];return t.preventDefault(),r?.apply(this,e)}}function Lt(r=!1){const e=We,t=e.l.u;if(!t)return;let i=()=>Ne(e.s);if(r){let n=0,s={};const o=zc(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&n++,n});i=()=>g(o)}t.b.length&&BQ(()=>{NO(e,i),Yl(t.b)}),Cf(()=>{const n=C(()=>t.m.map(G1));return()=>{for(const s of n)typeof s=="function"&&s()}}),t.a.length&&Cf(()=>{NO(e,i),Yl(t.a)})}function NO(r,e){if(r.l.s)for(const t of r.l.s)g(t);e()}function ty(r,e){var t=r.$$events?.[e.type],i=Zc(t)?t.slice():t==null?[]:[t];for(var n of i)n.call(this,e)}function vd(r,e,t){if(r==null)return e(void 0),t&&t(void 0),tn;const i=C(()=>r.subscribe(e,t));return i.unsubscribe?()=>i.unsubscribe():i}const Os=[];function yw(r,e){return{subscribe:Ir(r,e).subscribe}}function Ir(r,e=tn){let t=null;const i=new Set;function n(a){if(x0(r,a)&&(r=a,t)){const l=!Os.length;for(const c of i)c[1](),Os.push(c,r);if(l){for(let c=0;c<Os.length;c+=2)Os[c][0](Os[c+1]);Os.length=0}}}function s(a){n(a(r))}function o(a,l=tn){const c=[a,l];return i.add(c),i.size===1&&(t=e(n,s)||tn),a(r),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:n,update:s,subscribe:o}}function os(r,e,t){const i=!Array.isArray(r),n=i?[r]:r;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return yw(t,(o,a)=>{let l=!1;const c=[];let h=0,f=tn;const u=()=>{if(h)return;f();const O=e(i?c[0]:c,o,a);s?o(O):f=typeof O=="function"?O:tn},d=n.map((O,p)=>vd(O,m=>{c[p]=m,h&=~(1<<p),l&&u()},()=>{h|=1<<p}));return l=!0,u(),function(){Yl(d),f(),l=!1}})}function ry(r){let e;return vd(r,t=>e=t)(),e}let Ya=!1,Rf=Symbol();function He(r,e,t){const i=t[e]??={store:null,source:N(void 0),unsubscribe:tn};if(i.store!==r&&!(Rf in t))if(i.unsubscribe(),i.store=r??null,r==null)i.source.v=void 0,i.unsubscribe=tn;else{var n=!0;i.unsubscribe=vd(r,s=>{n?i.source.v=s:k(i.source,s)}),n=!1}return r&&Rf in t?ry(r):g(i.source)}function VO(r,e){return r.set(e),e}function qi(){const r={};function e(){Ic(()=>{for(var t in r)r[t].unsubscribe();u0(r,Rf,{enumerable:!1,value:!0})})}return[r,e]}function bw(r){var e=Ya;try{return Ya=!1,[r(),Ya]}finally{Ya=e}}function se(r,e,t,i){var n=!Js||(t&uQ)!==0,s=(t&OQ)!==0,o=(t&pQ)!==0,a=i,l=!0,c=()=>(l&&(l=!1,a=o?C(i):i),a),h;if(s){var f=Ti in r||H1 in r;h=ws(r,e)?.set??(f&&e in r?x=>r[e]=x:void 0)}var u,d=!1;s?[u,d]=bw(()=>r[e]):u=r[e],u===void 0&&i!==void 0&&(u=c(),h&&(n&&nQ(),h(u)));var O;if(n?O=()=>{var x=r[e];return x===void 0?c():(l=!0,x)}:O=()=>{var x=r[e];return x!==void 0&&(a=void 0),x===void 0?a:x},n&&!(t&dQ))return O;if(h){var p=r.$$legacy;return function(x,Q){return arguments.length>0?((!n||!Q||p||d)&&h(Q?O():x),x):O()}}var m=!1,b=(t&fQ?zc:wt)(()=>(m=!1,O()));s&&g(b);var v=Ce;return function(x,Q){if(arguments.length>0){const S=Q?g(b):n&&s?vs(x):x;return k(b,S),m=!0,a!==void 0&&(a=S),x}return ss&&m||v.f&Pi?b.v:g(b)}}function to(r){We===null&&m0(),Js&&We.l!==null?vw(We).m.push(r):Cf(()=>{const e=C(r);if(typeof e=="function")return e})}function iy(r){We===null&&m0(),to(()=>()=>C(r))}function vw(r){var e=r.l;return e.u??={a:[],b:[],m:[]}}const Sw="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Sw);xQ();const xw={content:"",tags:[],attachments:[],pinned:!1,deleted:!1,version:1,wordWrap:!0,syntaxLanguage:"plain"},$l={language:"en-GB",theme:"auto",layoutMode:"auto",sortOrder:"recent",autoLockTimeout:15,syncEnabled:!1},an=Ir(!0),Qw=Ir(!1),er=Ir([]),ka=Ir(null),An=Ir(""),Gn=Ir($l),ny=os([er,ka],([r,e])=>e&&r.find(t=>t.id===e)||null),En=Ir([]);function Jl(r){ka.set(r)}function Xf(){ka.set(null)}const go="AES-GCM",ww=256,kw=12,Pw=32,Tw=1e5;function mo(r){const e=r instanceof Uint8Array?r:new Uint8Array(r);let t="";for(let i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return btoa(t)}function Ga(r){const e=atob(r),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer}function bh(r){return new TextEncoder().encode(r).buffer}function $w(r){return new TextDecoder().decode(r)}class _w{async deriveKey(e){const{password:t,salt:i,iterations:n}=e,s=await crypto.subtle.importKey("raw",bh(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:n||Tw,hash:"SHA-256"},s,{name:go,length:ww},!1,["encrypt","decrypt"])}async encryptText(e,t){const i=this.generateIV(),n=bh(e),s=await crypto.subtle.encrypt({name:go,iv:i},t,n);return{ciphertext:mo(s),iv:mo(i)}}async decryptText(e,t){const{ciphertext:i,iv:n}=e;try{const s=await crypto.subtle.decrypt({name:go,iv:Ga(n)},t,Ga(i));return $w(s)}catch{throw new Error("Decryption failed. Invalid key or corrupted data.")}}async encryptBinary(e,t){const i=this.generateIV(),n=await crypto.subtle.encrypt({name:go,iv:i},t,e);return{ciphertext:mo(n),iv:mo(i)}}async decryptBinary(e,t){const{ciphertext:i,iv:n}=e;try{return await crypto.subtle.decrypt({name:go,iv:Ga(n)},t,Ga(i))}catch{throw new Error("Decryption failed. Invalid key or corrupted data.")}}generateSalt(){return crypto.getRandomValues(new Uint8Array(Pw))}generateIV(){return crypto.getRandomValues(new Uint8Array(kw))}async hash(e){const t=bh(e),i=await crypto.subtle.digest("SHA-256",t);return mo(i)}generateUUID(){return crypto.randomUUID()}}const Le=new _w;async function Cw(r,e){const t=JSON.stringify(r);return Le.encryptText(t,e)}async function Aw(r,e){const t=await Le.decryptText(r,e);return JSON.parse(t)}async function WO(r,e){return Cw(r,e)}async function sy(r,e){return Aw(r,e)}class Ew{masterKey=null;autoLockTimer=null;activityCallbacks=new Set;lockCallbacks=new Set;getMasterKey(){return this.masterKey&&!this.isExpired(this.masterKey)?this.masterKey:(this.masterKey&&this.clearMasterKey(),null)}setMasterKey(e){this.masterKey=e,this.notifyActivity()}clearMasterKey(){this.masterKey=null,this.autoLockTimer!==null&&(clearTimeout(this.autoLockTimer),this.autoLockTimer=null),this.lockCallbacks.forEach(e=>e())}isLocked(){return this.masterKey===null}registerActivity(){this.isLocked()||(this.notifyActivity(),this.resetAutoLockTimer())}startAutoLock(e){if(this.stopAutoLock(),e<=0)return;const t=e*60*1e3;this.autoLockTimer=window.setTimeout(()=>{this.clearMasterKey()},t)}stopAutoLock(){this.autoLockTimer!==null&&(clearTimeout(this.autoLockTimer),this.autoLockTimer=null)}resetAutoLockTimer(){this.autoLockTimer!==null&&(clearTimeout(this.autoLockTimer),this.autoLockTimer=null)}isExpired(e){return!1}notifyActivity(){this.activityCallbacks.forEach(e=>e())}onActivity(e){return this.activityCallbacks.add(e),()=>{this.activityCallbacks.delete(e)}}onLock(e){return this.lockCallbacks.add(e),()=>{this.lockCallbacks.delete(e)}}isKeyValid(){return this.getMasterKey()!==null}getKeyAge(){return this.masterKey?Date.now()-this.masterKey.derivedAt:null}}const it=new Ew;function Rw(r){const e=["mousedown","keydown","scroll","touchstart"],t=()=>{it.registerActivity()};e.forEach(i=>{window.addEventListener(i,t,{passive:!0})}),it.startAutoLock(r)}const Mf=(r,e)=>e.some(t=>r instanceof t);let jO,UO;function Xw(){return jO||(jO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return UO||(UO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zf=new WeakMap,vh=new WeakMap,Nc=new WeakMap;function Zw(r){const e=new Promise((t,i)=>{const n=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{t(Bn(r.result)),n()},o=()=>{i(r.error),n()};r.addEventListener("success",s),r.addEventListener("error",o)});return Nc.set(e,r),e}function Lw(r){if(Zf.has(r))return;const e=new Promise((t,i)=>{const n=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{t(),n()},o=()=>{i(r.error||new DOMException("AbortError","AbortError")),n()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});Zf.set(r,e)}let Lf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zf.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oy(r){Lf=r(Lf)}function qw(r){return Mw().includes(r)?function(...e){return r.apply(qf(this),e),Bn(this.request)}:function(...e){return Bn(r.apply(qf(this),e))}}function Dw(r){return typeof r=="function"?qw(r):(r instanceof IDBTransaction&&Lw(r),Mf(r,Xw())?new Proxy(r,Lf):r)}function Bn(r){if(r instanceof IDBRequest)return Zw(r);if(vh.has(r))return vh.get(r);const e=Dw(r);return e!==r&&(vh.set(r,e),Nc.set(e,r)),e}const qf=r=>Nc.get(r);function zw(r,e,{blocked:t,upgrade:i,blocking:n,terminated:s}={}){const o=indexedDB.open(r,e),a=Bn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Bn(o.result),l.oldVersion,l.newVersion,Bn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Bw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Sh=new Map;function YO(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sh.get(e))return Sh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,n=Iw.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(n||Bw.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,n?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),n&&l.done]))[0]};return Sh.set(e,s),s}oy(r=>({...r,get:(e,t,i)=>YO(e,t)||r.get(e,t,i),has:(e,t)=>!!YO(e,t)||r.has(e,t)}));const Nw=["continue","continuePrimaryKey","advance"],GO={},Df=new WeakMap,ay=new WeakMap,Vw={get(r,e){if(!Nw.includes(e))return r[e];let t=GO[e];return t||(t=GO[e]=function(...i){Df.set(this,ay.get(this)[e](...i))}),t}};async function*Ww(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const t=new Proxy(e,Vw);for(ay.set(t,e),Nc.set(t,qf(e));e;)yield t,e=await(Df.get(t)||e.continue()),Df.delete(t)}function FO(r,e){return e===Symbol.asyncIterator&&Mf(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mf(r,[IDBIndex,IDBObjectStore])}oy(r=>({...r,get(e,t,i){return FO(e,t)?Ww:r.get(e,t,i)},has(e,t){return FO(e,t)||r.has(e,t)}}));const zf="jottery",HO=2,ce={NOTES:"notes",ATTACHMENTS:"attachments",THUMBNAILS:"thumbnails",SETTINGS:"settings",ENCRYPTION:"encryption",SYNC_METADATA:"sync_metadata"};let Et=null;async function jw(){if(Et)return Et;if(console.log(`[Jottery Client v0.1.13] Opening database. Current version: ${HO}`),Et=await zw(zf,HO,{upgrade(r,e,t){if(console.log(`[DB] Upgrading database from v${e} to v${t}`),e<1){console.log("[DB] Creating v1 schema...");const i=r.createObjectStore(ce.NOTES,{keyPath:"id"});i.createIndex("modifiedAt","modifiedAt"),i.createIndex("createdAt","createdAt"),i.createIndex("deleted","deleted"),i.createIndex("pinned","pinned"),i.createIndex("deleted-modifiedAt",["deleted","modifiedAt"]),r.createObjectStore(ce.ATTACHMENTS),r.createObjectStore(ce.THUMBNAILS),r.createObjectStore(ce.SETTINGS),r.createObjectStore(ce.ENCRYPTION)}e<2&&(console.log("[DB] Creating v2 schema (sync_metadata store)..."),r.createObjectStore(ce.SYNC_METADATA),console.log("[DB] sync_metadata store created successfully")),console.log("[DB] Upgrade complete")},blocked(){console.warn("Database upgrade blocked. Please close other tabs with this app open.")},blocking(){console.warn("This tab is blocking a database upgrade in another tab."),Et&&(Et.close(),Et=null)},terminated(){console.error("Database connection terminated unexpectedly."),Et=null}}),console.log(`[DB] Database opened successfully. Version: ${Et.version}`),console.log(`[DB] Available stores: ${[...Et.objectStoreNames].join(", ")}`),!Et.objectStoreNames.contains(ce.SYNC_METADATA))throw console.error("[DB] ERROR: sync_metadata store is missing! Database is in inconsistent state."),console.error("[DB] Please delete the database and reload. Instructions:"),console.error("[DB] 1. Open DevTools > Application > IndexedDB"),console.error(`[DB] 2. Right-click "${zf}" and select "Delete database"`),console.error("[DB] 3. Reload the page"),new Error("Database is in inconsistent state. The sync_metadata store is missing. Please delete the IndexedDB database and reload the page.");return Et}function ve(){if(!Et)throw new Error("Database not initialized. Call initDB() first.");return Et}function Uw(){Et&&(Et.close(),Et=null)}async function ly(){Uw(),await new Promise((r,e)=>{const t=indexedDB.deleteDatabase(zf);t.onsuccess=()=>r(),t.onerror=()=>e(t.error),t.onblocked=()=>{console.warn("Database deletion blocked. Close all tabs with this app.")}})}class Yw{async getAll(){return await ve().getAll(ce.NOTES)}async getById(e){return await ve().get(ce.NOTES,e)||null}async getByIds(e){const i=ve().transaction(ce.NOTES,"readonly"),n=e.map(o=>i.store.get(o)),s=await Promise.all(n);return await i.done,s.filter(o=>o!==void 0)}async create(e){return await ve().add(ce.NOTES,e),e}async update(e){const t=ve();return e.modifiedAt=new Date().toISOString(),await t.put(ce.NOTES,e),e}async delete(e){await ve().delete(ce.NOTES,e)}async getAllActive(){return(await ve().getAll(ce.NOTES)).filter(i=>!i.deleted)}async getDeleted(){return(await ve().getAll(ce.NOTES)).filter(i=>i.deleted)}async getPinned(){return(await ve().getAll(ce.NOTES)).filter(i=>i.pinned&&!i.deleted)}async softDelete(e){console.log("[noteRepository] softDelete called with ID:",e);const t=await this.getById(e);if(!t)throw console.error("[noteRepository] Note not found:",e),new Error(`Note ${e} not found`);console.log("[noteRepository] Note found, marking as deleted"),t.deleted=!0,t.deletedAt=new Date().toISOString(),await this.update(t),console.log("[noteRepository] Note updated as deleted")}async restore(e){const t=await this.getById(e);if(!t)throw new Error(`Note ${e} not found`);t.deleted=!1,t.deletedAt=void 0,await this.update(t)}async permanentDelete(e){await this.delete(e)}async touch(e){const t=await this.getById(e);if(!t)throw new Error(`Note ${e} not found`);await this.update(t)}async getModifiedAfter(e){const i=ve().transaction(ce.NOTES,"readonly"),n=i.store.index("modifiedAt"),s=IDBKeyRange.lowerBound(e,!0),o=await n.getAll(s);return await i.done,o}async getAllActiveByModified(){return(await ve().getAll(ce.NOTES)).filter(i=>!i.deleted).sort((i,n)=>n.modifiedAt.localeCompare(i.modifiedAt))}async countActive(){return(await this.getAllActive()).length}async countDeleted(){return(await this.getDeleted()).length}}const Re=new Yw;class Gw{async storeBlob(e,t){await ve().put(ce.ATTACHMENTS,t,e)}async getBlob(e){return await ve().get(ce.ATTACHMENTS,e)||null}async deleteBlob(e){await ve().delete(ce.ATTACHMENTS,e)}async storeThumbnail(e,t){await ve().put(ce.THUMBNAILS,t,e)}async getThumbnail(e){return await ve().get(ce.THUMBNAILS,e)||null}async deleteThumbnail(e){await ve().delete(ce.THUMBNAILS,e)}async deleteAll(e){await Promise.all([this.deleteBlob(e),this.deleteThumbnail(e)])}async getTotalSize(){const t=ve().transaction(ce.ATTACHMENTS,"readonly");let i=await t.store.openCursor(),n=0;for(;i;)i.value&&(n+=i.value.byteLength),i=await i.continue();return await t.done,n}async listAllIds(){return await ve().getAllKeys(ce.ATTACHMENTS)}}const Ht=new Gw,Fa="user-settings";class Fw{async get(){return await ve().get(ce.SETTINGS,Fa)||$l}async update(e){const t=ve(),n={...await this.get(),...e};return await t.put(ce.SETTINGS,n,Fa),n}async reset(){return await ve().put(ce.SETTINGS,$l,Fa),$l}async exists(){return await ve().get(ce.SETTINGS,Fa)!==void 0}}const Ei=new Fw,xh="metadata";class Hw{async getMetadata(){return await ve().get(ce.ENCRYPTION,xh)||null}async setMetadata(e){await ve().put(ce.ENCRYPTION,e,xh)}async isInitialized(){return await this.getMetadata()!==null}async deleteMetadata(){await ve().delete(ce.ENCRYPTION,xh)}}const Ko=new Hw,KO="metadata";class Kw{async getMetadata(){console.log("[SyncRepo] Getting sync metadata...");const e=ve();console.log(`[SyncRepo] DB version: ${e.version}, stores: ${[...e.objectStoreNames].join(", ")}`);try{const t=await e.get(ce.SYNC_METADATA,KO);return console.log("[SyncRepo] Metadata retrieved:",t?"found":"null"),t||null}catch(t){throw console.error("[SyncRepo] Error getting metadata:",t),t}}async updateMetadata(e){console.log("[SyncRepo] Updating sync metadata...",e);const t=ve(),n={...await this.getMetadata()||{syncEnabled:!1,syncEndpoint:""},...e};console.log("[SyncRepo] Updated metadata:",n);try{return await t.put(ce.SYNC_METADATA,n,KO),console.log("[SyncRepo] Metadata saved successfully"),n}catch(s){throw console.error("[SyncRepo] Error updating metadata:",s),s}}async getNoteSyncMetadata(e){return await ve().get(ce.SYNC_METADATA,`note:${e}`)||null}async updateNoteSyncMetadata(e,t){const i=ve(),s={...await this.getNoteSyncMetadata(e)||{noteId:e,syncedAt:new Date().toISOString(),syncHash:"",serverVersion:1,lastSyncStatus:"pending"},...t};await i.put(ce.SYNC_METADATA,s,`note:${e}`)}async getPendingNotes(){const e=ve(),n=(await e.transaction(ce.SYNC_METADATA,"readonly").store.getAllKeys()).filter(o=>typeof o=="string"&&o.startsWith("note:")),s=[];for(const o of n){const a=await e.get(ce.SYNC_METADATA,o);a&&a.lastSyncStatus==="pending"&&s.push(a.noteId)}return s}async getConflictCount(){const e=ve(),n=(await e.transaction(ce.SYNC_METADATA,"readonly").store.getAllKeys()).filter(o=>typeof o=="string"&&o.startsWith("note:"));let s=0;for(const o of n){const a=await e.get(ce.SYNC_METADATA,o);a&&a.lastSyncStatus==="conflict"&&s++}return s}async clearAll(){const t=ve().transaction(ce.SYNC_METADATA,"readwrite");await t.store.clear(),await t.done}async deleteNoteSyncMetadata(e){await ve().delete(ce.SYNC_METADATA,`note:${e}`)}}const et=new Kw;class Jw{async createNote(e,t=[],i){const n=it.getMasterKey();if(!n)throw new Error("Application is locked. Please unlock to create notes.");const s=new Date().toISOString(),o=Le.generateUUID(),a=await Le.encryptText(e,n.key),l=await WO(t,n.key),c={...xw,id:o,createdAt:i?.createdAt||s,modifiedAt:i?.modifiedAt||s,pinned:i?.pinned||!1,wordWrap:i?.wordWrap??!0,syntaxLanguage:i?.syntaxLanguage||"plain",content:JSON.stringify(a),tags:[JSON.stringify(l)],attachments:i?.attachments||[]};return await Re.create(c)}async getNote(e){const t=it.getMasterKey();if(!t)throw new Error("Application is locked. Please unlock to view notes.");const i=await Re.getById(e);return i?await this.decryptNote(i,t.key):null}async getAllNotes(e="recent"){const t=it.getMasterKey();if(!t)throw new Error("Application is locked. Please unlock to view notes.");const i=await Re.getAllActive(),n=await Promise.all(i.map(s=>this.decryptNote(s,t.key)));return this.sortNotes(n,e)}async getPinnedNotes(){const e=it.getMasterKey();if(!e)throw new Error("Application is locked.");const t=await Re.getPinned();return await Promise.all(t.map(i=>this.decryptNote(i,e.key)))}async updateNote(e,t){const i=it.getMasterKey();if(!i)throw new Error("Application is locked.");const n=await Re.getById(e);if(!n)throw new Error(`Note ${e} not found`);if(t.content!==void 0){const s=await Le.encryptText(t.content,i.key);n.content=JSON.stringify(s)}if(t.tags!==void 0){const s=await WO(t.tags,i.key);n.tags=[JSON.stringify(s)]}if(t.attachments!==void 0){const s=new Set(n.attachments.map(a=>a.id)),o=new Set(t.attachments.map(a=>a.id));for(const a of s)if(!o.has(a))try{await Ht.deleteBlob(a),await Ht.deleteThumbnail(a)}catch(l){console.error(`Failed to delete attachment blob ${a}:`,l)}n.attachments=t.attachments}return t.pinned!==void 0&&(n.pinned=t.pinned),t.wordWrap!==void 0&&(n.wordWrap=t.wordWrap),t.syntaxLanguage!==void 0&&(n.syntaxLanguage=t.syntaxLanguage),await Re.update(n)}async togglePin(e){const t=await Re.getById(e);if(!t)throw new Error(`Note ${e} not found`);return t.pinned=!t.pinned,await Re.update(t)}async deleteNote(e){console.log("[noteService] deleteNote called with ID:",e),await Re.softDelete(e),console.log("[noteService] deleteNote completed")}async restoreNote(e){await Re.restore(e)}async permanentlyDeleteNote(e){const t=await Re.getById(e);t&&t.attachments.length>0&&await Promise.all(t.attachments.map(i=>Ht.deleteAll(i.id))),await Re.permanentDelete(e)}async getDeletedNotes(){const e=it.getMasterKey();if(!e)throw new Error("Application is locked.");const t=await Re.getDeleted();return await Promise.all(t.map(i=>this.decryptNote(i,e.key)))}async purgeOldDeletedNotes(e=30){const t=await Re.getDeleted(),i=new Date;i.setDate(i.getDate()-e);const n=i.toISOString();let s=0;for(const o of t)o.deletedAt&&o.deletedAt<n&&(await this.permanentlyDeleteNote(o.id),s++);return s}async searchNotes(e){const t=await this.getAllNotes(),i=e.toLowerCase();return t.filter(n=>{const s=n.content.toLowerCase().includes(i),o=n.tags.some(a=>a.toLowerCase().includes(i));return s||o})}async getStats(){const[e,t,i]=await Promise.all([Re.countActive(),Re.countDeleted(),Re.getPinned().then(n=>n.length)]);return{total:e+t,active:e,deleted:t,pinned:i}}async decryptNote(e,t){try{const i=JSON.parse(e.content),n=await Le.decryptText(i,t);let s=[];if(e.tags.length>0&&e.tags[0]){const o=JSON.parse(e.tags[0]);s=await sy(o,t)}return{...e,content:n,tags:s,decryptedAt:Date.now()}}catch(i){throw new Error(`Failed to decrypt note ${e.id}: ${i}`)}}sortNotes(e,t){const i=[...e],n=i.filter(a=>a.pinned),s=i.filter(a=>!a.pinned),o=this.getSortFunction(t);return n.sort(o),s.sort(o),[...n,...s]}getSortFunction(e){switch(e){case"recent":return(t,i)=>i.modifiedAt.localeCompare(t.modifiedAt);case"oldest":return(t,i)=>t.modifiedAt.localeCompare(i.modifiedAt);case"created":return(t,i)=>i.createdAt.localeCompare(t.createdAt);case"alpha":return(t,i)=>{const n=t.content.split(`
`)[0].toLowerCase(),s=i.content.split(`
`)[0].toLowerCase();return n.localeCompare(s)};default:return(t,i)=>i.modifiedAt.localeCompare(t.modifiedAt)}}}const ht=new Jw;var Je;function _l(r){return typeof r<"u"?r:!0}function JO(r){const e=Array(r);for(let t=0;t<r;t++)e[t]=Ve();return e}function Ve(){return Object.create(null)}function ek(r,e){return e.length-r.length}function Mt(r){return typeof r=="string"}function ln(r){return typeof r=="object"}function Sd(r){return typeof r=="function"}function cy(r,e){var t=tk;if(r&&(e&&(r=Cl(r,e)),this.H&&(r=Cl(r,this.H)),this.J&&1<r.length&&(r=Cl(r,this.J)),t||t==="")){if(e=r.split(t),this.filter){r=this.filter,t=e.length;const i=[];for(let n=0,s=0;n<t;n++){const o=e[n];o&&!r[o]&&(i[s++]=o)}r=i}else r=e;return r}return r}const tk=/[\p{Z}\p{S}\p{P}\p{C}]+/u,rk=/[\u0300-\u036f]/g;function ep(r,e){const t=Object.keys(r),i=t.length,n=[];let s="",o=0;for(let a=0,l,c;a<i;a++)l=t[a],(c=r[l])?(n[o++]=tt(e?"(?!\\b)"+l+"(\\b|_)":l),n[o++]=c):s+=(s?"|":"")+l;return s&&(n[o++]=tt(e?"(?!\\b)("+s+")(\\b|_)":"("+s+")"),n[o]=""),n}function Cl(r,e){for(let t=0,i=e.length;t<i&&(r=r.replace(e[t],e[t+1]),r);t+=2);return r}function tt(r){return new RegExp(r,"g")}function hy(r){let e="",t="";for(let i=0,n=r.length,s;i<n;i++)(s=r[i])!==t&&(e+=t=s);return e}var ik={encode:fy,F:!1,G:""};function fy(r){return cy.call(this,(""+r).toLowerCase(),!1)}const nk={},ro={};function uy(r){yo(r,"add"),yo(r,"append"),yo(r,"search"),yo(r,"update"),yo(r,"remove")}function yo(r,e){r[e+"Async"]=function(){const t=this,i=arguments;var n=i[i.length-1];let s;return Sd(n)&&(s=n,delete i[i.length-1]),n=new Promise(function(o){setTimeout(function(){t.async=!0;const a=t[e].apply(t,i);t.async=!1,o(a)})}),s?(n.then(s),this):n}}function dy(r,e,t,i){const n=r.length;let s=[],o,a,l=0;i&&(i=[]);for(let c=n-1;0<=c;c--){const h=r[c],f=h.length,u=Ve();let d=!o;for(let O=0;O<f;O++){const p=h[O],m=p.length;if(m)for(let b=0,v,x;b<m;b++)if(x=p[b],o){if(o[x]){if(!c){if(t)t--;else if(s[l++]=x,l===e)return s}(c||i)&&(u[x]=1),d=!0}if(i&&(v=(a[x]||0)+1,a[x]=v,v<n)){const Q=i[v-2]||(i[v-2]=[]);Q[Q.length]=x}}else u[x]=1}if(i)o||(a=u);else if(!d)return[];o=u}if(i)for(let c=i.length-1,h,f;0<=c;c--){h=i[c],f=h.length;for(let u=0,d;u<f;u++)if(d=h[u],!o[d]){if(t)t--;else if(s[l++]=d,l===e)return s;o[d]=1}}return s}function sk(r,e){const t=Ve(),i=Ve(),n=[];for(let s=0;s<r.length;s++)t[r[s]]=1;for(let s=0,o;s<e.length;s++){o=e[s];for(let a=0,l;a<o.length;a++)l=o[a],t[l]&&!i[l]&&(i[l]=1,n[n.length]=l)}return n}function Vc(r){this.l=r!==!0&&r,this.cache=Ve(),this.h=[]}function Oy(r,e,t){ln(r)&&(r=r.query);let i=this.cache.get(r);return i||(i=this.search(r,e,t),this.cache.set(r,i)),i}Vc.prototype.set=function(r,e){if(!this.cache[r]){var t=this.h.length;for(t===this.l?delete this.cache[this.h[t-1]]:t++,--t;0<t;t--)this.h[t]=this.h[t-1];this.h[0]=r}this.cache[r]=e};Vc.prototype.get=function(r){const e=this.cache[r];if(this.l&&e&&(r=this.h.indexOf(r))){const t=this.h[r-1];this.h[r-1]=this.h[r],this.h[r]=t}return e};const ok={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function py(r,e,t,i,n,s,o,a){setTimeout(function(){const l=r(t?t+"."+i:i,JSON.stringify(o));l&&l.then?l.then(function(){e.export(r,e,t,n,s+1,a)}):e.export(r,e,t,n,s+1,a)})}function Zs(r,e){if(!(this instanceof Zs))return new Zs(r);var t;if(r){Mt(r)?r=ok[r]:(t=r.preset)&&(r=Object.assign({},t[t],r)),t=r.charset;var i=r.lang;Mt(t)&&(t.indexOf(":")===-1&&(t+=":default"),t=ro[t]),Mt(i)&&(i=nk[i])}else r={};let n,s,o=r.context||{};if(this.encode=r.encode||t&&t.encode||fy,this.register=e||Ve(),this.D=n=r.resolution||9,this.G=e=t&&t.G||r.tokenize||"strict",this.depth=e==="strict"&&o.depth,this.l=_l(o.bidirectional),this.s=s=_l(r.optimize),this.m=_l(r.fastupdate),this.B=r.minlength||1,this.C=r.boost,this.map=s?JO(n):Ve(),this.A=n=o.resolution||1,this.h=s?JO(n):Ve(),this.F=t&&t.F||r.rtl,this.H=(e=r.matcher||i&&i.H)&&ep(e,!1),this.J=(e=r.stemmer||i&&i.J)&&ep(e,!0),t=e=r.filter||i&&i.filter){t=e,i=Ve();for(let a=0,l=t.length;a<l;a++)i[t[a]]=1;t=i}this.filter=t,this.cache=(e=r.cache)&&new Vc(e)}Je=Zs.prototype;Je.append=function(r,e){return this.add(r,e,!0)};Je.add=function(r,e,t,i){if(e&&(r||r===0)){if(!i&&!t&&this.register[r])return this.update(r,e);if(e=this.encode(e),i=e.length){const c=Ve(),h=Ve(),f=this.depth,u=this.D;for(let d=0;d<i;d++){let O=e[this.F?i-1-d:d];var n=O.length;if(O&&n>=this.B&&(f||!h[O])){var s=Ha(u,i,d),o="";switch(this.G){case"full":if(2<n){for(s=0;s<n;s++)for(var a=n;a>s;a--)if(a-s>=this.B){var l=Ha(u,i,d,n,s);o=O.substring(s,a),bo(this,h,o,l,r,t)}break}case"reverse":if(1<n){for(a=n-1;0<a;a--)o=O[a]+o,o.length>=this.B&&bo(this,h,o,Ha(u,i,d,n,a),r,t);o=""}case"forward":if(1<n){for(a=0;a<n;a++)o+=O[a],o.length>=this.B&&bo(this,h,o,s,r,t);break}default:if(this.C&&(s=Math.min(s/this.C(e,O,d)|0,u-1)),bo(this,h,O,s,r,t),f&&1<i&&d<i-1){for(n=Ve(),o=this.A,s=O,a=Math.min(f+1,i-d),n[s]=1,l=1;l<a;l++)if((O=e[this.F?i-1-d-l:d+l])&&O.length>=this.B&&!n[O]){n[O]=1;const p=this.l&&O>s;bo(this,c,p?s:O,Ha(o+(i/2>o?0:1),i,d,a-1,l-1),r,t,p?O:s)}}}}}this.m||(this.register[r]=1)}}return this};function Ha(r,e,t,i,n){return t&&1<r?e+(i||0)<=r?t+(n||0):(r-1)/(e+(i||0))*(t+(n||0))+1|0:0}function bo(r,e,t,i,n,s,o){let a=o?r.h:r.map;(!e[t]||o&&!e[t][o])&&(r.s&&(a=a[i]),o?(e=e[t]||(e[t]=Ve()),e[o]=1,a=a[o]||(a[o]=Ve())):e[t]=1,a=a[t]||(a[t]=[]),r.s||(a=a[i]||(a[i]=[])),s&&a.includes(n)||(a[a.length]=n,r.m&&(r=r.register[n]||(r.register[n]=[]),r[r.length]=a)))}Je.search=function(r,e,t){t||(!e&&ln(r)?(t=r,r=t.query):ln(e)&&(t=e));let i=[],n,s,o=0;if(t){r=t.query||r,e=t.limit,o=t.offset||0;var a=t.context;s=t.suggest}if(r&&(r=this.encode(""+r),n=r.length,1<n)){t=Ve();var l=[];for(let h=0,f=0,u;h<n;h++)if((u=r[h])&&u.length>=this.B&&!t[u])if(this.s||s||this.map[u])l[f++]=u,t[u]=1;else return i;r=l,n=r.length}if(!n)return i;e||(e=100),a=this.depth&&1<n&&a!==!1,t=0;let c;a?(c=r[0],t=1):1<n&&r.sort(ek);for(let h,f;t<n;t++){if(f=r[t],a?(h=tp(this,i,s,e,o,n===2,f,c),s&&h===!1&&i.length||(c=f)):h=tp(this,i,s,e,o,n===1,f),h)return h;if(s&&t===n-1){if(l=i.length,!l){if(a){a=0,t=-1;continue}return i}if(l===1)return gy(i[0],e,o)}}return dy(i,e,o,s)};function tp(r,e,t,i,n,s,o,a){let l=[],c=a?r.h:r.map;if(r.s||(c=rp(c,o,a,r.l)),c){let h=0;const f=Math.min(c.length,a?r.A:r.D);for(let u=0,d=0,O,p;u<f&&!((O=c[u])&&(r.s&&(O=rp(O,o,a,r.l)),n&&O&&s&&(p=O.length,p<=n?(n-=p,O=null):(O=O.slice(n),n=0)),O&&(l[h++]=O,s&&(d+=O.length,d>=i))));u++);if(h){if(s)return gy(l,i,0);e[e.length]=l;return}}return!t&&l}function gy(r,e,t){return r=r.length===1?r[0]:[].concat.apply([],r),t||r.length>e?r.slice(t,t+e):r}function rp(r,e,t,i){return t?(i=i&&e>t,r=(r=r[i?e:t])&&r[i?t:e]):r=r[e],r}Je.contain=function(r){return!!this.register[r]};Je.update=function(r,e){return this.remove(r).add(r,e)};Je.remove=function(r,e){const t=this.register[r];if(t){if(this.m)for(let i=0,n;i<t.length;i++)n=t[i],n.splice(n.indexOf(r),1);else ec(this.map,r,this.D,this.s),this.depth&&ec(this.h,r,this.A,this.s);if(e||delete this.register[r],this.cache){e=this.cache;for(let i=0,n,s;i<e.h.length;i++)s=e.h[i],n=e.cache[s],n.includes(r)&&(e.h.splice(i--,1),delete e.cache[s])}}return this};function ec(r,e,t,i,n){let s=0;if(r.constructor===Array)if(n)e=r.indexOf(e),e!==-1?1<r.length&&(r.splice(e,1),s++):s++;else{n=Math.min(r.length,t);for(let o=0,a;o<n;o++)(a=r[o])&&(s=ec(a,e,t,i,n),i||s||delete r[o])}else for(let o in r)(s=ec(r[o],e,t,i,n))||delete r[o];return s}Je.searchCache=Oy;Je.export=function(r,e,t,i,n,s){let o=!0;typeof s>"u"&&(o=new Promise(c=>{s=c}));let a,l;switch(n||(n=0)){case 0:if(a="reg",this.m){l=Ve();for(let c in this.register)l[c]=1}else l=this.register;break;case 1:a="cfg",l={doc:0,opt:this.s?1:0};break;case 2:a="map",l=this.map;break;case 3:a="ctx",l=this.h;break;default:typeof t>"u"&&s&&s();return}return py(r,e||this,t,a,i,n,l,s),o};Je.import=function(r,e){if(e)switch(Mt(e)&&(e=JSON.parse(e)),r){case"cfg":this.s=!!e.opt;break;case"reg":this.m=!1,this.register=e;break;case"map":this.map=e;break;case"ctx":this.h=e}};uy(Zs.prototype);function ak(r){r=r.data;var e=self._index;const t=r.args;var i=r.task;switch(i){case"init":i=r.options||{},r=r.factory,e=i.encode,i.cache=!1,e&&e.indexOf("function")===0&&(i.encode=Function("return "+e)()),r?(Function("return "+r)()(self),self._index=new self.FlexSearch.Index(i),delete self.FlexSearch):self._index=new Zs(i);break;default:r=r.id,e=e[i].apply(e,t),postMessage(i==="search"?{id:r,msg:e}:{id:r})}}let ip=0;function Jo(r){if(!(this instanceof Jo))return new Jo(r);var e;r?Sd(e=r.encode)&&(r.encode=e.toString()):r={},(e=(self||window)._factory)&&(e=e.toString());const t=typeof window>"u"&&self.exports,i=this;this.o=lk(e,t,r.worker),this.h=Ve(),this.o&&(t?this.o.on("message",function(n){i.h[n.id](n.msg),delete i.h[n.id]}):this.o.onmessage=function(n){n=n.data,i.h[n.id](n.msg),delete i.h[n.id]},this.o.postMessage({task:"init",factory:e,options:r}))}Pa("add");Pa("append");Pa("search");Pa("update");Pa("remove");function Pa(r){Jo.prototype[r]=Jo.prototype[r+"Async"]=function(){const e=this,t=[].slice.call(arguments);var i=t[t.length-1];let n;return Sd(i)&&(n=i,t.splice(t.length-1,1)),i=new Promise(function(s){setTimeout(function(){e.h[++ip]=s,e.o.postMessage({task:r,id:ip,args:t})})}),n?(i.then(n),this):i}}function lk(r,e,t){let i;try{i=e?new(require("worker_threads")).Worker(__dirname+"/node/node.js"):r?new Worker(URL.createObjectURL(new Blob(["onmessage="+ak.toString()],{type:"text/javascript"}))):new Worker(Mt(t)?t:"worker/worker.js",{type:"module"})}catch{}return i}function ea(r){if(!(this instanceof ea))return new ea(r);var e=r.document||r.doc||r,t;this.K=[],this.h=[],this.A=[],this.register=Ve(),this.key=(t=e.key||e.id)&&Ka(t,this.A)||"id",this.m=_l(r.fastupdate),this.C=(t=e.store)&&t!==!0&&[],this.store=t&&Ve(),this.I=(t=e.tag)&&Ka(t,this.A),this.l=t&&Ve(),this.cache=(t=r.cache)&&new Vc(t),r.cache=!1,this.o=r.worker,this.async=!1,t=Ve();let i=e.index||e.field||e;Mt(i)&&(i=[i]);for(let n=0,s,o;n<i.length;n++)s=i[n],Mt(s)||(o=s,s=s.field),o=ln(o)?Object.assign({},r,o):r,this.o&&(t[s]=new Jo(o),t[s].o||(this.o=!1)),this.o||(t[s]=new Zs(o,this.register)),this.K[n]=Ka(s,this.A),this.h[n]=s;if(this.C)for(r=e.store,Mt(r)&&(r=[r]),e=0;e<r.length;e++)this.C[e]=Ka(r[e],this.A);this.index=t}function Ka(r,e){const t=r.split(":");let i=0;for(let n=0;n<t.length;n++)r=t[n],0<=r.indexOf("[]")&&(r=r.substring(0,r.length-2))&&(e[i]=!0),r&&(t[i++]=r);return i<t.length&&(t.length=i),1<i?t:t[0]}function Bf(r,e){if(Mt(e))r=r[e];else for(let t=0;r&&t<e.length;t++)r=r[e[t]];return r}function If(r,e,t,i,n){if(r=r[n],i===t.length-1)e[n]=r;else if(r)if(r.constructor===Array)for(e=e[n]=Array(r.length),n=0;n<r.length;n++)If(r,e,t,i,n);else e=e[n]||(e[n]=Ve()),n=t[++i],If(r,e,t,i,n)}function Nf(r,e,t,i,n,s,o,a){if(r=r[o])if(i===e.length-1){if(r.constructor===Array){if(t[i]){for(e=0;e<r.length;e++)n.add(s,r[e],!0,!0);return}r=r.join(" ")}n.add(s,r,a,!0)}else if(r.constructor===Array)for(o=0;o<r.length;o++)Nf(r,e,t,i,n,s,o,a);else o=e[++i],Nf(r,e,t,i,n,s,o,a)}Je=ea.prototype;Je.add=function(r,e,t){if(ln(r)&&(e=r,r=Bf(e,this.key)),e&&(r||r===0)){if(!t&&this.register[r])return this.update(r,e);for(let i=0,n,s;i<this.h.length;i++)s=this.h[i],n=this.K[i],Mt(n)&&(n=[n]),Nf(e,n,this.A,0,this.index[s],r,n[0],t);if(this.I){let i=Bf(e,this.I),n=Ve();Mt(i)&&(i=[i]);for(let s=0,o,a;s<i.length;s++)if(o=i[s],!n[o]&&(n[o]=1,a=this.l[o]||(this.l[o]=[]),!t||!a.includes(r))&&(a[a.length]=r,this.m)){const l=this.register[r]||(this.register[r]=[]);l[l.length]=a}}if(this.store&&(!t||!this.store[r])){let i;if(this.C){i=Ve();for(let n=0,s;n<this.C.length;n++)s=this.C[n],Mt(s)?i[s]=e[s]:If(e,i,s,0,s[0])}this.store[r]=i||e}}return this};Je.append=function(r,e){return this.add(r,e,!0)};Je.update=function(r,e){return this.remove(r).add(r,e)};Je.remove=function(r){if(ln(r)&&(r=Bf(r,this.key)),this.register[r]){for(var e=0;e<this.h.length&&(this.index[this.h[e]].remove(r,!this.o),!this.m);e++);if(this.I&&!this.m)for(let t in this.l){e=this.l[t];const i=e.indexOf(r);i!==-1&&(1<e.length?e.splice(i,1):delete this.l[t])}this.store&&delete this.store[r],delete this.register[r]}return this};Je.search=function(r,e,t,i){t||(!e&&ln(r)?(t=r,r=""):ln(e)&&(t=e,e=0));let n=[],s=[],o,a,l,c,h,f,u=0;if(t)if(t.constructor===Array)l=t,t=null;else{if(r=t.query||r,l=(o=t.pluck)||t.index||t.field,c=t.tag,a=this.store&&t.enrich,h=t.bool==="and",e=t.limit||e||100,f=t.offset||0,c&&(Mt(c)&&(c=[c]),!r)){for(let O=0,p;O<c.length;O++)(p=ck.call(this,c[O],e,f,a))&&(n[n.length]=p,u++);return u?n:[]}Mt(l)&&(l=[l])}l||(l=this.h),h=h&&(1<l.length||c&&1<c.length);const d=!i&&(this.o||this.async)&&[];for(let O=0,p,m,b;O<l.length;O++){let v;if(m=l[O],Mt(m)||(v=m,m=v.field,r=v.query||r,e=v.limit||e,a=v.enrich||a),d)d[O]=this.index[m].searchAsync(r,e,v||t);else{if(i?p=i[O]:p=this.index[m].search(r,e,v||t),b=p&&p.length,c&&b){const x=[];let Q=0;h&&(x[0]=[p]);for(let S=0,P,$;S<c.length;S++)P=c[S],(b=($=this.l[P])&&$.length)&&(Q++,x[x.length]=h?[$]:$);Q&&(p=h?dy(x,e||100,f||0):sk(p,x),b=p.length)}if(b)s[u]=m,n[u++]=p;else if(h)return[]}}if(d){const O=this;return new Promise(function(p){Promise.all(d).then(function(m){p(O.search(r,e,t,m))})})}if(!u)return[];if(o&&(!a||!this.store))return n[0];for(let O=0,p;O<s.length;O++){if(p=n[O],p.length&&a&&(p=my.call(this,p)),o)return p;n[O]={field:s[O],result:p}}return n};function ck(r,e,t,i){let n=this.l[r],s=n&&n.length-t;if(s&&0<s)return(s>e||t)&&(n=n.slice(t,t+e)),i&&(n=my.call(this,n)),{tag:r,result:n}}function my(r){const e=Array(r.length);for(let t=0,i;t<r.length;t++)i=r[t],e[t]={id:i,doc:this.store[i]};return e}Je.contain=function(r){return!!this.register[r]};Je.get=function(r){return this.store[r]};Je.set=function(r,e){return this.store[r]=e,this};Je.searchCache=Oy;Je.export=function(r,e,t,i,n,s){let o;if(typeof s>"u"&&(o=new Promise(a=>{s=a})),n||(n=0),i||(i=0),i<this.h.length){const a=this.h[i],l=this.index[a];e=this,setTimeout(function(){l.export(r,e,n?a:"",i,n++,s)||(i++,n=1,e.export(r,e,a,i,n,s))})}else{let a,l;switch(n){case 1:a="tag",l=this.l,t=null;break;case 2:a="store",l=this.store,t=null;break;default:s();return}py(r,this,t,a,i,n,l,s)}return o};Je.import=function(r,e){if(e)switch(Mt(e)&&(e=JSON.parse(e)),r){case"tag":this.l=e;break;case"reg":this.m=!1,this.register=e;for(let i=0,n;i<this.h.length;i++)n=this.index[this.h[i]],n.register=e,n.m=!1;break;case"store":this.store=e;break;default:r=r.split(".");const t=r[0];r=r[1],t&&r&&this.index[t].import(r,e)}};uy(ea.prototype);var hk={encode:yy,F:!1,G:""};const fk=[tt("[]"),"a",tt("[]"),"e",tt("[]"),"i",tt("[]"),"o",tt("[]"),"u",tt("[]"),"y",tt(""),"n",tt("[c]"),"k",tt(""),"s",tt(" & ")," and "];function yy(r){var e=r=""+r;return e.normalize&&(e=e.normalize("NFD").replace(rk,"")),cy.call(this,e.toLowerCase(),!r.normalize&&fk)}var uk={encode:by,F:!1,G:"strict"};const dk=/[^a-z0-9]+/,np={b:"p",v:"f",w:"f",z:"s",x:"s",:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function by(r){r=yy.call(this,r).join(" ");const e=[];if(r){const t=r.split(dk),i=t.length;for(let n=0,s,o=0;n<i;n++)if((r=t[n])&&(!this.filter||!this.filter[r])){s=r[0];let a=np[s]||s,l=a;for(let c=1;c<r.length;c++){s=r[c];const h=np[s]||s;h&&h!==l&&(a+=h,l=h)}e[o++]=a}}return e}var Ok={encode:vy,F:!1,G:""};const pk=[tt("ae"),"a",tt("oe"),"o",tt("sh"),"s",tt("th"),"t",tt("ph"),"f",tt("pf"),"f",tt("(?![aeo])h(?![aeo])"),"",tt("(?!^[aeo])h(?!^[aeo])"),""];function vy(r,e){return r&&(r=by.call(this,r).join(" "),2<r.length&&(r=Cl(r,pk)),e||(1<r.length&&(r=hy(r)),r&&(r=r.split(" ")))),r||[]}var gk={encode:yk,F:!1,G:""};const mk=tt("(?!\\b)[aeo]");function yk(r){return r&&(r=vy.call(this,r,!0),1<r.length&&(r=r.replace(mk,"")),1<r.length&&(r=hy(r)),r&&(r=r.split(" "))),r||[]}ro["latin:default"]=ik;ro["latin:simple"]=hk;ro["latin:balance"]=uk;ro["latin:advanced"]=Ok;ro["latin:extra"]=gk;const bk={Document:ea},Sy=new bk.Document({document:{id:"id",index:["content","tags"],store:!0},tokenize:"forward",cache:!0});function vk(r){r.forEach(e=>{Sy.add({id:e.id,content:e.content,tags:e.tags.join(" ")})})}function xy(r){const e={text:void 0,tags:[],orTags:[],excludeText:[],excludeTags:[]};if(!r.trim())return e;const t=[];let i="",n=!1;for(let l=0;l<r.length;l++){const c=r[l];c==='"'?(n&&(t.push(i),i=""),n=!n):c===" "&&!n?i&&(t.push(i),i=""):i+=c}i&&t.push(i);const s=[],o=[];let a=!1;for(let l=0;l<t.length;l++){const c=t[l];if(c==="|"){a=!0;continue}if(c.startsWith("-")){const h=c.slice(1);h.startsWith("#")?e.excludeTags.push(h.slice(1)):e.excludeText.push(h),a=!1;continue}if(c.startsWith("#")){const h=c.slice(1);a?e.orTags.push(h):e.tags.push(h),a=!1;continue}a?o.push(c):s.push(c),a=!1}return(s.length>0||o.length>0)&&(e.text=[...s,...o].join(" ")),e}async function Sk(r,e){const t=xy(r);if(!t.text&&(!t.tags||t.tags.length===0)&&(!t.orTags||t.orTags.length===0))return e;let i=[...e];if(t.text){const n=await Sy.searchAsync(t.text,{limit:1e3,enrich:!0}),s=new Set;Array.isArray(n)&&n.forEach(o=>{o.result&&o.result.forEach(a=>{const l=typeof a=="string"?a:a.id;l&&s.add(l)})}),i=i.filter(o=>s.has(o.id))}return t.tags&&t.tags.length>0&&(i=i.filter(n=>t.tags.every(s=>n.tags.some(o=>o.toLowerCase().includes(s.toLowerCase()))))),t.orTags&&t.orTags.length>0&&(i=i.filter(n=>t.orTags.some(s=>n.tags.some(o=>o.toLowerCase().includes(s.toLowerCase()))))),t.excludeText&&t.excludeText.length>0&&(i=i.filter(n=>t.excludeText.every(s=>!n.content.toLowerCase().includes(s.toLowerCase())))),t.excludeTags&&t.excludeTags.length>0&&(i=i.filter(n=>t.excludeTags.every(s=>!n.tags.some(o=>o.toLowerCase().includes(s.toLowerCase()))))),i}function xk(r,e){const t=[];if(r.startsWith("#")){const i=r.slice(1).toLowerCase(),n=new Set;e.forEach(s=>{s.tags.forEach(o=>{o.toLowerCase().includes(i)&&n.add(`#${o}`)})}),t.push(...Array.from(n).slice(0,5))}return t}const oi={indexNotes:vk,parseSearchQuery:xy,searchNotes:Sk,getSearchSuggestions:xk},Ja="v1";class Qk{isSyncing=!1;autoSyncTimer;normalizeEndpoint(e){return e.endsWith("/")?e.slice(0,-1):e}async register(e,t){console.log("[SyncService] Starting registration...",{endpoint:e,deviceName:t}),e=this.normalizeEndpoint(e),console.log("[SyncService] Normalized endpoint:",e);const i={deviceName:t,deviceType:"web"};console.log("[SyncService] Sending registration request...");const n=await fetch(`${e}/api/${Ja}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(console.log("[SyncService] Registration response:",n.status,n.statusText),!n.ok){const l=await n.text();throw console.error("[SyncService] Registration failed:",l),new Error(`Registration failed: ${n.statusText} - ${l}`)}const s=await n.json();console.log("[SyncService] Registration successful:",{clientId:s.clientId}),console.log("[SyncService] Encrypting API key...");const o=it.getMasterKey();if(!o)throw new Error("Application is locked");const a=await Le.encryptText(s.apiKey,o.key);return console.log("[SyncService] API key encrypted"),console.log("[SyncService] Saving sync metadata..."),await et.updateMetadata({apiKey:JSON.stringify(a),clientId:s.clientId,syncEnabled:!0,syncEndpoint:e,autoSyncInterval:5}),console.log("[SyncService] Updating settings..."),await Ei.update({syncEnabled:!0,syncEndpoint:e}),console.log("[SyncService] Registration complete!"),s}async configureCredentials(e,t,i){console.log("[SyncService] Configuring sync with manual credentials..."),e=this.normalizeEndpoint(e);const n=it.getMasterKey();if(!n)throw new Error("Application is locked");console.log("[SyncService] Encrypting API key...");const s=await Le.encryptText(i,n.key);console.log("[SyncService] Saving sync metadata..."),await et.updateMetadata({apiKey:JSON.stringify(s),clientId:t,syncEnabled:!0,syncEndpoint:e,autoSyncInterval:5}),console.log("[SyncService] Updating settings..."),await Ei.update({syncEnabled:!0,syncEndpoint:e}),console.log("[SyncService] Manual configuration complete!")}async syncNow(){if(this.isSyncing)return{success:!1,error:"Sync already in progress"};this.isSyncing=!0;try{const e=await et.getMetadata();if(!e||!e.syncEnabled||!e.apiKey)throw new Error("Sync not configured");const t=it.getMasterKey();if(!t)throw new Error("Application is locked");const i=JSON.parse(e.apiKey),n=await Le.decryptText(i,t.key);try{await this.getServerStatus(e.syncEndpoint,n)}catch(a){console.error("Server status check failed:",a)}await this.push(e.syncEndpoint,n),await this.pull(e.syncEndpoint,n),await et.updateMetadata({lastSyncAt:new Date().toISOString()}),console.log("[SyncService] Reloading notes and rebuilding search index...");let s;Gn.subscribe(a=>s=a)();const o=await ht.getAllNotes(s.sortOrder);return er.set(o),oi.indexNotes(o),console.log("[SyncService] UI refreshed"),{success:!0}}catch(e){return console.error("Sync failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}finally{this.isSyncing=!1}}async push(e,t){e=this.normalizeEndpoint(e);const n=(await et.getMetadata())?.lastSyncAt||"1970-01-01T00:00:00Z",s=await Re.getModifiedAfter(n);if(s.length===0){console.log("[SyncService] No notes to push");return}console.log(`[SyncService] Pushing ${s.length} notes`);const o=new Map;for(const h of s)for(const f of h.attachments)if(!o.has(f.id)){const u=await Ht.getBlob(f.data);if(u){const d=this.arrayBufferToBase64(u);o.set(f.id,d)}}const a={notes:s.map(h=>({id:h.id,createdAt:h.createdAt,modifiedAt:h.modifiedAt,content:h.content,tags:h.tags,attachments:h.attachments.map(f=>({id:f.id,filename:f.filename,mimeType:f.mimeType,size:f.size,data:f.data})),pinned:h.pinned,deleted:h.deleted,deletedAt:h.deletedAt,version:h.version,wordWrap:h.wordWrap,syntaxLanguage:h.syntaxLanguage})),attachments:Array.from(o.entries()).map(([h,f])=>({id:h,data:f}))},l=await fetch(`${e}/api/${Ja}/sync/push`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(a)});if(!l.ok){const h=await l.text();throw new Error(`Push failed: ${l.statusText} - ${h}`)}const c=await l.json();console.log(`[SyncService] Push complete: ${c.accepted.length} accepted, ${c.rejected.length} rejected`);for(const h of c.accepted)await et.updateNoteSyncMetadata(h.id,{noteId:h.id,syncedAt:h.syncedAt,serverVersion:h.serverVersion,lastSyncStatus:"synced"});for(const h of c.rejected)console.warn(`[SyncService] Note ${h.id} rejected: ${h.reason}`),await et.updateNoteSyncMetadata(h.id,{noteId:h.id,lastSyncStatus:"conflict",errorMessage:h.reason});await et.updateMetadata({lastPushAt:new Date().toISOString()})}async pull(e,t){e=this.normalizeEndpoint(e);const n=(await et.getMetadata())?.lastSyncAt,o=(await Re.getAll()).map(h=>h.id),a={lastSyncAt:n,knownNoteIds:o},l=await fetch(`${e}/api/${Ja}/sync/pull`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(a)});if(!l.ok){const h=await l.text();throw new Error(`Pull failed: ${l.statusText} - ${h}`)}const c=await l.json();console.log(`[SyncService] Pull complete: ${c.notes.length} notes, ${c.attachments.length} attachments, ${c.deletions.length} deletions`);for(const h of c.notes){const f=await Re.getById(h.id);f?h.modifiedAt>f.modifiedAt?(console.log(`[SyncService] Updating note with server version (newer): ${h.id}`),await Re.update({...h,syncedAt:c.syncedAt})):console.log(`[SyncService] Keeping local version (newer or equal): ${h.id}`):(console.log(`[SyncService] Creating new note from server: ${h.id}`),await Re.create({...h,syncedAt:c.syncedAt})),await et.updateNoteSyncMetadata(h.id,{noteId:h.id,syncedAt:c.syncedAt,serverVersion:h.version,lastSyncStatus:"synced"})}for(const h of c.attachments)try{const f=this.base64ToArrayBuffer(h.data);await Ht.storeBlob(h.id,f),console.log(`[SyncService] Downloaded attachment: ${h.id}`)}catch(f){console.error(`Failed to download attachment ${h.id}:`,f)}for(const h of c.deletions){const f=await Re.getById(h.id);f&&!f.deleted&&(console.log(`[SyncService] Soft deleting note from server: ${h.id}`),await Re.softDelete(h.id))}await et.updateMetadata({lastPullAt:new Date().toISOString()})}async getServerStatus(e,t){e=this.normalizeEndpoint(e);const i=await fetch(`${e}/api/${Ja}/sync/status`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!i.ok){const n=await i.text();throw new Error(`Status check failed: ${i.statusText} - ${n}`)}return await i.json()}async getSyncStatus(){const e=await et.getMetadata(),t=await et.getPendingNotes(),i=await et.getConflictCount();return{isEnabled:e?.syncEnabled||!1,isSyncing:this.isSyncing,lastSyncAt:e?.lastSyncAt,pendingNotes:t.length,conflictCount:i,clientId:e?.clientId,syncEndpoint:e?.syncEndpoint}}enableAutoSync(e=5){this.disableAutoSync(),console.log(`[SyncService] Enabling auto-sync every ${e} minutes`),this.autoSyncTimer=window.setInterval(()=>{console.log("[SyncService] Auto-sync triggered"),this.syncNow()},e*60*1e3)}disableAutoSync(){this.autoSyncTimer&&(console.log("[SyncService] Disabling auto-sync"),clearInterval(this.autoSyncTimer),this.autoSyncTimer=void 0)}isAutoSyncEnabled(){return this.autoSyncTimer!==void 0}arrayBufferToBase64(e){const t=new Uint8Array(e);let i="";for(let n=0;n<t.byteLength;n++)i+=String.fromCharCode(t[n]);return btoa(i)}base64ToArrayBuffer(e){const t=atob(e),i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i.buffer}}const wi=new Qk,el=10*1024*1024,Qh=200,wh=200,wk=.8,Vf=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp"];async function kk(r){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{i.result instanceof ArrayBuffer?e(i.result):t(new Error("Failed to read file as ArrayBuffer"))},i.onerror=()=>t(i.error),i.readAsArrayBuffer(r)})}async function Pk(r){return Vf.includes(r.type)?new Promise(e=>{const t=new Image,i=URL.createObjectURL(r);t.onload=()=>{URL.revokeObjectURL(i);let n=t.width,s=t.height;n>s?n>Qh&&(s=s*Qh/n,n=Qh):s>wh&&(n=n*wh/s,s=wh);const o=document.createElement("canvas");o.width=n,o.height=s;const a=o.getContext("2d");if(!a){e(null);return}a.drawImage(t,0,0,n,s),o.toBlob(async l=>{if(!l){e(null);return}const c=await l.arrayBuffer();e(c)},"image/jpeg",wk)},t.onerror=()=>{URL.revokeObjectURL(i),e(null)},t.src=i}):null}class Tk{async addAttachment(e){if(e.size>el)throw new Error(`File size exceeds maximum allowed size of ${el/1024/1024}MB`);const t=it.getMasterKey();if(!t)throw new Error("Application is locked. Unlock to add attachments.");const i=Le.generateUUID(),n=await kk(e),s=await Le.encryptBinary(n,t.key),o=new TextEncoder().encode(JSON.stringify(s)).buffer;await Ht.storeBlob(i,o);let a=!1;if(Vf.includes(e.type))try{const h=await Pk(e);if(h){const f=await Le.encryptBinary(h,t.key),u=new TextEncoder().encode(JSON.stringify(f)).buffer;await Ht.storeThumbnail(i,u),a=!0}}catch(h){console.warn("Failed to generate thumbnail:",h)}const l=await Le.encryptText(e.name,t.key);return{id:i,filename:JSON.stringify(l),mimeType:e.type,size:e.size,data:i,thumbnailData:a?i:void 0}}async getAttachmentData(e){const t=it.getMasterKey();if(!t)throw new Error("Application is locked. Unlock to view attachments.");const i=await Ht.getBlob(e.data);if(!i)throw new Error("Attachment data not found");const n=new TextDecoder().decode(i),s=JSON.parse(n),o=await Le.decryptBinary(s,t.key);return await this.getDecryptedFilename(e),new Blob([o],{type:e.mimeType})}async getThumbnailData(e){if(!e.thumbnailData)return null;const t=it.getMasterKey();if(!t)return null;try{const i=await Ht.getThumbnail(e.thumbnailData);if(!i)return null;const n=new TextDecoder().decode(i),s=JSON.parse(n),o=await Le.decryptBinary(s,t.key),a=new Blob([o],{type:"image/jpeg"});return URL.createObjectURL(a)}catch(i){return console.error("Failed to load thumbnail:",i),null}}async getDecryptedFilename(e){const t=it.getMasterKey();if(!t)return"attachment";try{const i=JSON.parse(e.filename);return await Le.decryptText(i,t.key)}catch(i){return console.error("Failed to decrypt filename:",i),"attachment"}}async downloadAttachment(e){const t=await this.getAttachmentData(e),i=await this.getDecryptedFilename(e),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async deleteAttachment(e){await Ht.deleteBlob(e.data),e.thumbnailData&&await Ht.deleteThumbnail(e.thumbnailData)}async deleteAttachments(e){await Promise.all(e.map(t=>this.deleteAttachment(t)))}async getTotalStorageSize(){return Ht.getTotalSize()}formatFileSize(e){if(e===0)return"0 B";const t=1024,i=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(2))} ${i[n]}`}supportsThumbnail(e){return Vf.includes(e)}validateFile(e){return e.size>el?{valid:!1,error:`File size exceeds ${el/1024/1024}MB limit`}:e.size===0?{valid:!1,error:"File is empty"}:{valid:!0}}}const Ui=new Tk,$k=1e5;async function Qy(){return await Ko.isInitialized()}async function _k(r){if(await Qy())throw new Error("Application is already initialized");const t=Le.generateSalt(),i={salt:Ek(t),iterations:$k,createdAt:new Date().toISOString(),algorithm:"AES-256-GCM"};await Ko.setMetadata(i),await wy(r),await Ei.exists()||await Ei.reset()}async function wy(r){console.log("[Unlock] Starting unlock process...");const e=await Ko.getMetadata();if(!e)throw console.error("[Unlock] No encryption metadata found!"),new Error("Application not initialized. Please initialize first.");console.log("[Unlock] Encryption metadata found, deriving key..."),console.log("[Unlock] Salt length:",e.salt.length,"Iterations:",e.iterations);const t=Rk(e.salt),i=await Le.deriveKey({password:r,salt:t,iterations:e.iterations,algorithm:"PBKDF2"});console.log("[Unlock]  Master key derived");const n=await Re.getAllActive();if(console.log("[Unlock] Active notes count:",n.length),n.length>0)try{console.log("[Unlock] Verifying password by decrypting first note...");const a=n[0],l=JSON.parse(a.content);await Le.decryptText(l,i),console.log("[Unlock]  Password verified (note decrypted successfully)")}catch(a){throw console.error("[Unlock] Password verification failed:",a),new Error("Incorrect password")}else console.log("[Unlock]  No notes to verify password against - skipping verification");const s={key:i,derivedAt:Date.now()};it.setMasterKey(s),console.log("[Unlock]  Master key stored in keyManager"),console.log("[Unlock] Checking for imported credentials..."),await Ck(i);const o=await Ei.get();Rw(o.autoLockTimeout),console.log("[Unlock]  Unlock complete! Auto-lock timeout:",o.autoLockTimeout,"minutes")}async function Ck(r){try{console.log("[ImportHandler] Fetching sync metadata...");const e=await et.getMetadata();if(!e){console.log("[ImportHandler] No sync metadata found - skipping");return}if(!e.apiKey){console.log("[ImportHandler] No API key in metadata - skipping");return}if(console.log("[ImportHandler] Sync metadata found:",{hasClientId:!!e.clientId,hasEndpoint:!!e.syncEndpoint,apiKeyPrefix:e.apiKey.substring(0,20)+"...",syncEnabled:e.syncEnabled}),e.apiKey.startsWith("IMPORT:")){console.log("[ImportHandler]  IMPORT marker detected! Processing imported credentials...");const t=e.apiKey.substring(7);console.log("[ImportHandler] Plaintext API key length:",t.length),console.log("[ImportHandler] Encrypting API key with master key...");const i=await Le.encryptText(t,r);console.log("[ImportHandler]  API key encrypted"),console.log("[ImportHandler] Updating sync metadata..."),await et.updateMetadata({apiKey:JSON.stringify(i),syncEnabled:!0}),console.log("[ImportHandler]  Sync metadata updated (syncEnabled: true)"),console.log("[ImportHandler] Updating settings repository..."),await Ei.update({syncEnabled:!0}),console.log("[ImportHandler]  Settings updated (syncEnabled: true)"),console.log("[ImportHandler]  Import credentials processed successfully! Sync is now enabled.")}else console.log("[ImportHandler] No IMPORT marker - credentials already encrypted")}catch(e){console.error("[ImportHandler] ERROR handling imported credentials:",e),console.error("[ImportHandler] Stack:",e instanceof Error?e.stack:"N/A")}}function Wc(){it.clearMasterKey()}function Ak(){return it.isLocked()}function Ek(r){const e=r instanceof Uint8Array?r:new Uint8Array(r);let t="";for(let i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return btoa(t)}function Rk(r){const e=atob(r),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const ky="1.0";async function Xk(){const r=it.getMasterKey();if(!r)throw new Error("Application is locked");const e=await Re.getAllActive(),t=[];for(const i of e){const n=await Mk(i,r.key);t.push(n)}return{version:ky,exportDate:new Date().toISOString(),notes:t}}async function Mk(r,e){const t=JSON.parse(r.content),i=await Le.decryptText(t,e);let n=[];if(r.tags.length>0&&r.tags[0]){const o=JSON.parse(r.tags[0]);n=await sy(o,e)}const s=[];for(const o of r.attachments){const a=await Ht.getBlob(o.data);if(!a)continue;const l=JSON.parse(o.filename),c=await Le.decryptText(l,e),h=new TextDecoder().decode(a),f=JSON.parse(h),u=await Le.decryptBinary(f,e);s.push({filename:c,mimeType:o.mimeType,data:Dk(u)})}return{id:r.id,createdAt:r.createdAt,modifiedAt:r.modifiedAt,content:i,tags:n,attachments:s,pinned:r.pinned,wordWrap:r.wordWrap,syntaxLanguage:r.syntaxLanguage}}async function Zk(r,e="merge"){const t=it.getMasterKey();if(!t)throw new Error("Application is locked");let i=0,n=0;const s=[];if(r.version!==ky)return s.push(`Unsupported export version: ${r.version}`),{imported:i,skipped:n,errors:s};for(const o of r.notes)try{if(await Re.getById(o.id))if(e==="skip"){n++;continue}else e==="replace"&&await Re.delete(o.id);const l=[];if(o.attachments&&o.attachments.length>0)for(const c of o.attachments)try{const h=Le.generateUUID(),f=zk(c.data),u=await Le.encryptBinary(f,t.key),d=new TextEncoder().encode(JSON.stringify(u)).buffer;await Ht.storeBlob(h,d);const O=await Le.encryptText(c.filename,t.key);l.push({id:h,filename:JSON.stringify(O),mimeType:c.mimeType,size:f.byteLength,data:h})}catch(h){console.error("Failed to import attachment:",h)}await ht.createNote(o.content,o.tags,{createdAt:o.createdAt,modifiedAt:o.modifiedAt,pinned:o.pinned,wordWrap:o.wordWrap,syntaxLanguage:o.syntaxLanguage,attachments:l}),i++}catch(a){s.push(`Failed to import note ${o.id}: ${a instanceof Error?a.message:"Unknown error"}`)}return{imported:i,skipped:n,errors:s}}async function Lk(r,e){const t=JSON.stringify(r,null,2),i=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(i),s=document.createElement("a");s.href=n,s.download=`jottery-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}async function qk(r){return new Promise((e,t)=>{const i=new FileReader;i.onload=n=>{try{const s=n.target?.result,o=JSON.parse(s);if(!o.version||!o.notes||!Array.isArray(o.notes))throw new Error("Invalid export file format");e(o)}catch{t(new Error("Failed to parse import file"))}},i.onerror=()=>{t(new Error("Failed to read file"))},i.readAsText(r)})}function Dk(r){const e=new Uint8Array(r);let t="";for(let i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return btoa(t)}function zk(r){const e=atob(r),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer}function Bk(r){const e=new Set;return r.forEach(t=>{t.tags.forEach(i=>{i.trim()&&e.add(i)})}),Array.from(e).sort()}function Py(r){const e=new Map;return r.forEach(t=>{t.tags.forEach(i=>{i.trim()&&e.set(i,(e.get(i)||0)+1)})}),e}function Ik(r,e=10){const t=Py(r);return Array.from(t.entries()).map(([i,n])=>({tag:i,count:n})).sort((i,n)=>n.count-i.count).slice(0,e)}function Nk(r,e){return r.filter(t=>t.tags.some(i=>i.toLowerCase()===e.toLowerCase()))}function Vk(r,e){return r.filter(t=>e.every(i=>t.tags.some(n=>n.toLowerCase()===i.toLowerCase())))}function Wk(r){return r.trim().toLowerCase()}function Ty(r){return!(!r.trim()||r.length>50||/[|()]/.test(r))}function jk(r){return r.split(/[,\s]+/).map(e=>e.trim()).filter(e=>e.length>0&&Ty(e))}const Uk={getAllTags:Bk,getTagStats:Py,getPopularTags:Ik,getNotesByTag:Nk,getNotesByTags:Vk,normalizeTag:Wk,isValidTag:Ty,parseTagString:jk},Yk="modulepreload",Gk=function(r,e){return new URL(r,e).href},sp={},$y=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=Promise.allSettled(t.map(c=>{if(c=Gk(c,i),c in sp)return;sp[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!i)for(let O=o.length-1;O>=0;O--){const p=o[O];if(p.href===c&&(!h||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":Yk,h||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((O,p)=>{d.addEventListener("load",O),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Fk(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hk=function(e){return Kk(e)&&!Jk(e)};function Kk(r){return!!r&&typeof r=="object"}function Jk(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||rP(r)}var eP=typeof Symbol=="function"&&Symbol.for,tP=eP?Symbol.for("react.element"):60103;function rP(r){return r.$$typeof===tP}function iP(r){return Array.isArray(r)?[]:{}}function ta(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Ls(iP(r),r,e):r}function nP(r,e,t){return r.concat(e).map(function(i){return ta(i,t)})}function sP(r,e){if(!e.customMerge)return Ls;var t=e.customMerge(r);return typeof t=="function"?t:Ls}function oP(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return Object.propertyIsEnumerable.call(r,e)}):[]}function op(r){return Object.keys(r).concat(oP(r))}function _y(r,e){try{return e in r}catch{return!1}}function aP(r,e){return _y(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function lP(r,e,t){var i={};return t.isMergeableObject(r)&&op(r).forEach(function(n){i[n]=ta(r[n],t)}),op(e).forEach(function(n){aP(r,n)||(_y(r,n)&&t.isMergeableObject(e[n])?i[n]=sP(n,t)(r[n],e[n],t):i[n]=ta(e[n],t))}),i}function Ls(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||nP,t.isMergeableObject=t.isMergeableObject||Hk,t.cloneUnlessOtherwiseSpecified=ta;var i=Array.isArray(e),n=Array.isArray(r),s=i===n;return s?i?t.arrayMerge(r,e,t):lP(r,e,t):ta(e,t)}Ls.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,n){return Ls(i,n,t)},{})};var cP=Ls,hP=cP;const fP=Fk(hP);var Wf=function(r,e){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},Wf(r,e)};function jc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wf(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var we=function(){return we=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},we.apply(this,arguments)};function uP(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function kh(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))}function Ph(r,e){var t=e&&e.cache?e.cache:bP,i=e&&e.serializer?e.serializer:mP,n=e&&e.strategy?e.strategy:pP;return n(r,{cache:t,serializer:i})}function dP(r){return r==null||typeof r=="number"||typeof r=="boolean"}function OP(r,e,t,i){var n=dP(i)?i:t(i),s=e.get(n);return typeof s>"u"&&(s=r.call(this,i),e.set(n,s)),s}function Cy(r,e,t){var i=Array.prototype.slice.call(arguments,3),n=t(i),s=e.get(n);return typeof s>"u"&&(s=r.apply(this,i),e.set(n,s)),s}function Ay(r,e,t,i,n){return t.bind(e,r,i,n)}function pP(r,e){var t=r.length===1?OP:Cy;return Ay(r,this,t,e.cache.create(),e.serializer)}function gP(r,e){return Ay(r,this,Cy,e.cache.create(),e.serializer)}var mP=function(){return JSON.stringify(arguments)},yP=function(){function r(){this.cache=Object.create(null)}return r.prototype.get=function(e){return this.cache[e]},r.prototype.set=function(e,t){this.cache[e]=t},r}(),bP={create:function(){return new yP}},Th={variadic:gP},me;(function(r){r[r.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",r[r.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",r[r.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",r[r.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",r[r.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",r[r.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",r[r.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",r[r.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",r[r.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",r[r.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",r[r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",r[r.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",r[r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",r[r.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",r[r.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",r[r.INVALID_TAG=23]="INVALID_TAG",r[r.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",r[r.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",r[r.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(me||(me={}));var Ie;(function(r){r[r.literal=0]="literal",r[r.argument=1]="argument",r[r.number=2]="number",r[r.date=3]="date",r[r.time=4]="time",r[r.select=5]="select",r[r.plural=6]="plural",r[r.pound=7]="pound",r[r.tag=8]="tag"})(Ie||(Ie={}));var qs;(function(r){r[r.number=0]="number",r[r.dateTime=1]="dateTime"})(qs||(qs={}));function ap(r){return r.type===Ie.literal}function vP(r){return r.type===Ie.argument}function Ey(r){return r.type===Ie.number}function Ry(r){return r.type===Ie.date}function Xy(r){return r.type===Ie.time}function My(r){return r.type===Ie.select}function Zy(r){return r.type===Ie.plural}function SP(r){return r.type===Ie.pound}function Ly(r){return r.type===Ie.tag}function qy(r){return!!(r&&typeof r=="object"&&r.type===qs.number)}function jf(r){return!!(r&&typeof r=="object"&&r.type===qs.dateTime)}var Dy=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,xP=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function QP(r){var e={};return r.replace(xP,function(t){var i=t.length;switch(t[0]){case"G":e.era=i===4?"long":i===5?"narrow":"short";break;case"y":e.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var wP=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function kP(r){if(r.length===0)throw new Error("Number skeleton cannot be empty");for(var e=r.split(wP).filter(function(u){return u.length>0}),t=[],i=0,n=e;i<n.length;i++){var s=n[i],o=s.split("/");if(o.length===0)throw new Error("Invalid number skeleton");for(var a=o[0],l=o.slice(1),c=0,h=l;c<h.length;c++){var f=h[c];if(f.length===0)throw new Error("Invalid number skeleton")}t.push({stem:a,options:l})}return t}function PP(r){return r.replace(/^(.*?)-/,"")}var lp=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,zy=/^(@+)?(\+|#+)?[rs]?$/g,TP=/(\*)(0+)|(#+)(0+)|(0+)/g,By=/^(0+)$/;function cp(r){var e={};return r[r.length-1]==="r"?e.roundingPriority="morePrecision":r[r.length-1]==="s"&&(e.roundingPriority="lessPrecision"),r.replace(zy,function(t,i,n){return typeof n!="string"?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):n==="+"?e.minimumSignificantDigits=i.length:i[0]==="#"?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+(typeof n=="string"?n.length:0)),""}),e}function Iy(r){switch(r){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function $P(r){var e;if(r[0]==="E"&&r[1]==="E"?(e={notation:"engineering"},r=r.slice(2)):r[0]==="E"&&(e={notation:"scientific"},r=r.slice(1)),e){var t=r.slice(0,2);if(t==="+!"?(e.signDisplay="always",r=r.slice(2)):t==="+?"&&(e.signDisplay="exceptZero",r=r.slice(2)),!By.test(r))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=r.length}return e}function hp(r){var e={},t=Iy(r);return t||e}function _P(r){for(var e={},t=0,i=r;t<i.length;t++){var n=i[t];switch(n.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=n.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=PP(n.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=we(we(we({},e),{notation:"scientific"}),n.options.reduce(function(l,c){return we(we({},l),hp(c))},{}));continue;case"engineering":e=we(we(we({},e),{notation:"engineering"}),n.options.reduce(function(l,c){return we(we({},l),hp(c))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(n.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(n.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");n.options[0].replace(TP,function(l,c,h,f,u,d){if(c)e.minimumIntegerDigits=h.length;else{if(f&&u)throw new Error("We currently do not support maximum integer digits");if(d)throw new Error("We currently do not support exact integer digits")}return""});continue}if(By.test(n.stem)){e.minimumIntegerDigits=n.stem.length;continue}if(lp.test(n.stem)){if(n.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");n.stem.replace(lp,function(l,c,h,f,u,d){return h==="*"?e.minimumFractionDigits=c.length:f&&f[0]==="#"?e.maximumFractionDigits=f.length:u&&d?(e.minimumFractionDigits=u.length,e.maximumFractionDigits=u.length+d.length):(e.minimumFractionDigits=c.length,e.maximumFractionDigits=c.length),""});var s=n.options[0];s==="w"?e=we(we({},e),{trailingZeroDisplay:"stripIfInteger"}):s&&(e=we(we({},e),cp(s)));continue}if(zy.test(n.stem)){e=we(we({},e),cp(n.stem));continue}var o=Iy(n.stem);o&&(e=we(we({},e),o));var a=$P(n.stem);a&&(e=we(we({},e),a))}return e}var tl={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function CP(r,e){for(var t="",i=0;i<r.length;i++){var n=r.charAt(i);if(n==="j"){for(var s=0;i+1<r.length&&r.charAt(i+1)===n;)s++,i++;var o=1+(s&1),a=s<2?1:3+(s>>1),l="a",c=AP(e);for((c=="H"||c=="k")&&(a=0);a-- >0;)t+=l;for(;o-- >0;)t=c+t}else n==="J"?t+="H":t+=n}return t}function AP(r){var e=r.hourCycle;if(e===void 0&&r.hourCycles&&r.hourCycles.length&&(e=r.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var t=r.language,i;t!=="root"&&(i=r.maximize().region);var n=tl[i||""]||tl[t||""]||tl["".concat(t,"-001")]||tl["001"];return n[0]}var $h,EP=new RegExp("^".concat(Dy.source,"*")),RP=new RegExp("".concat(Dy.source,"*$"));function ye(r,e){return{start:r,end:e}}var XP=!!String.prototype.startsWith&&"_a".startsWith("a",1),MP=!!String.fromCodePoint,ZP=!!Object.fromEntries,LP=!!String.prototype.codePointAt,qP=!!String.prototype.trimStart,DP=!!String.prototype.trimEnd,zP=!!Number.isSafeInteger,BP=zP?Number.isSafeInteger:function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r&&Math.abs(r)<=9007199254740991},Uf=!0;try{var IP=Vy("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Uf=(($h=IP.exec("a"))===null||$h===void 0?void 0:$h[0])==="a"}catch{Uf=!1}var fp=XP?function(e,t,i){return e.startsWith(t,i)}:function(e,t,i){return e.slice(i,i+t.length)===t},Yf=MP?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i="",n=e.length,s=0,o;n>s;){if(o=e[s++],o>1114111)throw RangeError(o+" is not a valid code point");i+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return i},up=ZP?Object.fromEntries:function(e){for(var t={},i=0,n=e;i<n.length;i++){var s=n[i],o=s[0],a=s[1];t[o]=a}return t},Ny=LP?function(e,t){return e.codePointAt(t)}:function(e,t){var i=e.length;if(!(t<0||t>=i)){var n=e.charCodeAt(t),s;return n<55296||n>56319||t+1===i||(s=e.charCodeAt(t+1))<56320||s>57343?n:(n-55296<<10)+(s-56320)+65536}},NP=qP?function(e){return e.trimStart()}:function(e){return e.replace(EP,"")},VP=DP?function(e){return e.trimEnd()}:function(e){return e.replace(RP,"")};function Vy(r,e){return new RegExp(r,e)}var Gf;if(Uf){var dp=Vy("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Gf=function(e,t){var i;dp.lastIndex=t;var n=dp.exec(e);return(i=n[1])!==null&&i!==void 0?i:""}}else Gf=function(e,t){for(var i=[];;){var n=Ny(e,t);if(n===void 0||Wy(n)||YP(n))break;i.push(n),t+=n>=65536?2:1}return Yf.apply(void 0,i)};var WP=function(){function r(e,t){t===void 0&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return r.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},r.prototype.parseMessage=function(e,t,i){for(var n=[];!this.isEOF();){var s=this.char();if(s===123){var o=this.parseArgument(e,i);if(o.err)return o;n.push(o.val)}else{if(s===125&&e>0)break;if(s===35&&(t==="plural"||t==="selectordinal")){var a=this.clonePosition();this.bump(),n.push({type:Ie.pound,location:ye(a,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(me.UNMATCHED_CLOSING_TAG,ye(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&Ff(this.peek()||0)){var o=this.parseTag(e,t);if(o.err)return o;n.push(o.val)}else{var o=this.parseLiteral(e,t);if(o.err)return o;n.push(o.val)}}}return{val:n,err:null}},r.prototype.parseTag=function(e,t){var i=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Ie.literal,value:"<".concat(n,"/>"),location:ye(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var o=s.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ff(this.char()))return this.error(me.INVALID_TAG,ye(a,this.clonePosition()));var l=this.clonePosition(),c=this.parseTagName();return n!==c?this.error(me.UNMATCHED_CLOSING_TAG,ye(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Ie.tag,value:n,children:o,location:ye(i,this.clonePosition())},err:null}:this.error(me.INVALID_TAG,ye(a,this.clonePosition())))}else return this.error(me.UNCLOSED_TAG,ye(i,this.clonePosition()))}else return this.error(me.INVALID_TAG,ye(i,this.clonePosition()))},r.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&UP(this.char());)this.bump();return this.message.slice(e,this.offset())},r.prototype.parseLiteral=function(e,t){for(var i=this.clonePosition(),n="";;){var s=this.tryParseQuote(t);if(s){n+=s;continue}var o=this.tryParseUnquoted(e,t);if(o){n+=o;continue}var a=this.tryParseLeftAngleBracket();if(a){n+=a;continue}break}var l=ye(i,this.clonePosition());return{val:{type:Ie.literal,value:n,location:l},err:null}},r.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!jP(this.peek()||0))?(this.bump(),"<"):null},r.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)t.push(39),this.bump();else{this.bump();break}else t.push(i);this.bump()}return Yf.apply(void 0,t)},r.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(t==="plural"||t==="selectordinal")||i===125&&e>0?null:(this.bump(),Yf(i))},r.prototype.parseArgument=function(e,t){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(me.EXPECT_ARGUMENT_CLOSING_BRACE,ye(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(me.EMPTY_ARGUMENT,ye(i,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(me.MALFORMED_ARGUMENT,ye(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(me.EXPECT_ARGUMENT_CLOSING_BRACE,ye(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Ie.argument,value:n,location:ye(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(me.EXPECT_ARGUMENT_CLOSING_BRACE,ye(i,this.clonePosition())):this.parseArgumentOptions(e,t,n,i);default:return this.error(me.MALFORMED_ARGUMENT,ye(i,this.clonePosition()))}},r.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),i=Gf(this.message,t),n=t+i.length;this.bumpTo(n);var s=this.clonePosition(),o=ye(e,s);return{value:i,location:o}},r.prototype.parseArgumentOptions=function(e,t,i,n){var s,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(a){case"":return this.error(me.EXPECT_ARGUMENT_TYPE,ye(o,l));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition(),f=this.parseSimpleArgStyleIfPossible();if(f.err)return f;var u=VP(f.val);if(u.length===0)return this.error(me.EXPECT_ARGUMENT_STYLE,ye(this.clonePosition(),this.clonePosition()));var d=ye(h,this.clonePosition());c={style:u,styleLocation:d}}var O=this.tryParseArgumentClose(n);if(O.err)return O;var p=ye(n,this.clonePosition());if(c&&fp(c?.style,"::",0)){var m=NP(c.style.slice(2));if(a==="number"){var f=this.parseNumberSkeletonFromString(m,c.styleLocation);return f.err?f:{val:{type:Ie.number,value:i,location:p,style:f.val},err:null}}else{if(m.length===0)return this.error(me.EXPECT_DATE_TIME_SKELETON,p);var b=m;this.locale&&(b=CP(m,this.locale));var u={type:qs.dateTime,pattern:b,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?QP(b):{}},v=a==="date"?Ie.date:Ie.time;return{val:{type:v,value:i,location:p,style:u},err:null}}}return{val:{type:a==="number"?Ie.number:a==="date"?Ie.date:Ie.time,value:i,location:p,style:(s=c?.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var x=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(me.EXPECT_SELECT_ARGUMENT_OPTIONS,ye(x,we({},x)));this.bumpSpace();var Q=this.parseIdentifierIfPossible(),S=0;if(a!=="select"&&Q.value==="offset"){if(!this.bumpIf(":"))return this.error(me.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ye(this.clonePosition(),this.clonePosition()));this.bumpSpace();var f=this.tryParseDecimalInteger(me.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,me.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(f.err)return f;this.bumpSpace(),Q=this.parseIdentifierIfPossible(),S=f.val}var P=this.tryParsePluralOrSelectOptions(e,a,t,Q);if(P.err)return P;var O=this.tryParseArgumentClose(n);if(O.err)return O;var $=ye(n,this.clonePosition());return a==="select"?{val:{type:Ie.select,value:i,options:up(P.val),location:$},err:null}:{val:{type:Ie.plural,value:i,options:up(P.val),offset:S,pluralType:a==="plural"?"cardinal":"ordinal",location:$},err:null}}default:return this.error(me.INVALID_ARGUMENT_TYPE,ye(o,l))}},r.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(me.EXPECT_ARGUMENT_CLOSING_BRACE,ye(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},r.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(me.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ye(n,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(t.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(t.offset,this.offset()),err:null}},r.prototype.parseNumberSkeletonFromString=function(e,t){var i=[];try{i=kP(e)}catch{return this.error(me.INVALID_NUMBER_SKELETON,t)}return{val:{type:qs.number,tokens:i,location:t,parsedOptions:this.shouldParseSkeletons?_P(i):{}},err:null}},r.prototype.tryParsePluralOrSelectOptions=function(e,t,i,n){for(var s,o=!1,a=[],l=new Set,c=n.value,h=n.location;;){if(c.length===0){var f=this.clonePosition();if(t!=="select"&&this.bumpIf("=")){var u=this.tryParseDecimalInteger(me.EXPECT_PLURAL_ARGUMENT_SELECTOR,me.INVALID_PLURAL_ARGUMENT_SELECTOR);if(u.err)return u;h=ye(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}else break}if(l.has(c))return this.error(t==="select"?me.DUPLICATE_SELECT_ARGUMENT_SELECTOR:me.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,h);c==="other"&&(o=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error(t==="select"?me.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:me.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ye(this.clonePosition(),this.clonePosition()));var O=this.parseMessage(e+1,t,i);if(O.err)return O;var p=this.tryParseArgumentClose(d);if(p.err)return p;a.push([c,{value:O.val,location:ye(d,this.clonePosition())}]),l.add(c),this.bumpSpace(),s=this.parseIdentifierIfPossible(),c=s.value,h=s.location}return a.length===0?this.error(t==="select"?me.EXPECT_SELECT_ARGUMENT_SELECTOR:me.EXPECT_PLURAL_ARGUMENT_SELECTOR,ye(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(me.MISSING_OTHER_CLAUSE,ye(this.clonePosition(),this.clonePosition())):{val:a,err:null}},r.prototype.tryParseDecimalInteger=function(e,t){var i=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var s=!1,o=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)s=!0,o=o*10+(a-48),this.bump();else break}var l=ye(n,this.clonePosition());return s?(o*=i,BP(o)?{val:o,err:null}:this.error(t,l)):this.error(e,l)},r.prototype.offset=function(){return this.position.offset},r.prototype.isEOF=function(){return this.offset()===this.message.length},r.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},r.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Ny(this.message,e);if(t===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},r.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},r.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},r.prototype.bumpIf=function(e){if(fp(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},r.prototype.bumpUntil=function(e){var t=this.offset(),i=this.message.indexOf(e,t);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},r.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},r.prototype.bumpSpace=function(){for(;!this.isEOF()&&Wy(this.char());)this.bump()},r.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),i=this.message.charCodeAt(t+(e>=65536?2:1));return i??null},r}();function Ff(r){return r>=97&&r<=122||r>=65&&r<=90}function jP(r){return Ff(r)||r===47}function UP(r){return r===45||r===46||r>=48&&r<=57||r===95||r>=97&&r<=122||r>=65&&r<=90||r==183||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8255&&r<=8256||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}function Wy(r){return r>=9&&r<=13||r===32||r===133||r>=8206&&r<=8207||r===8232||r===8233}function YP(r){return r>=33&&r<=35||r===36||r>=37&&r<=39||r===40||r===41||r===42||r===43||r===44||r===45||r>=46&&r<=47||r>=58&&r<=59||r>=60&&r<=62||r>=63&&r<=64||r===91||r===92||r===93||r===94||r===96||r===123||r===124||r===125||r===126||r===161||r>=162&&r<=165||r===166||r===167||r===169||r===171||r===172||r===174||r===176||r===177||r===182||r===187||r===191||r===215||r===247||r>=8208&&r<=8213||r>=8214&&r<=8215||r===8216||r===8217||r===8218||r>=8219&&r<=8220||r===8221||r===8222||r===8223||r>=8224&&r<=8231||r>=8240&&r<=8248||r===8249||r===8250||r>=8251&&r<=8254||r>=8257&&r<=8259||r===8260||r===8261||r===8262||r>=8263&&r<=8273||r===8274||r===8275||r>=8277&&r<=8286||r>=8592&&r<=8596||r>=8597&&r<=8601||r>=8602&&r<=8603||r>=8604&&r<=8607||r===8608||r>=8609&&r<=8610||r===8611||r>=8612&&r<=8613||r===8614||r>=8615&&r<=8621||r===8622||r>=8623&&r<=8653||r>=8654&&r<=8655||r>=8656&&r<=8657||r===8658||r===8659||r===8660||r>=8661&&r<=8691||r>=8692&&r<=8959||r>=8960&&r<=8967||r===8968||r===8969||r===8970||r===8971||r>=8972&&r<=8991||r>=8992&&r<=8993||r>=8994&&r<=9e3||r===9001||r===9002||r>=9003&&r<=9083||r===9084||r>=9085&&r<=9114||r>=9115&&r<=9139||r>=9140&&r<=9179||r>=9180&&r<=9185||r>=9186&&r<=9254||r>=9255&&r<=9279||r>=9280&&r<=9290||r>=9291&&r<=9311||r>=9472&&r<=9654||r===9655||r>=9656&&r<=9664||r===9665||r>=9666&&r<=9719||r>=9720&&r<=9727||r>=9728&&r<=9838||r===9839||r>=9840&&r<=10087||r===10088||r===10089||r===10090||r===10091||r===10092||r===10093||r===10094||r===10095||r===10096||r===10097||r===10098||r===10099||r===10100||r===10101||r>=10132&&r<=10175||r>=10176&&r<=10180||r===10181||r===10182||r>=10183&&r<=10213||r===10214||r===10215||r===10216||r===10217||r===10218||r===10219||r===10220||r===10221||r===10222||r===10223||r>=10224&&r<=10239||r>=10240&&r<=10495||r>=10496&&r<=10626||r===10627||r===10628||r===10629||r===10630||r===10631||r===10632||r===10633||r===10634||r===10635||r===10636||r===10637||r===10638||r===10639||r===10640||r===10641||r===10642||r===10643||r===10644||r===10645||r===10646||r===10647||r===10648||r>=10649&&r<=10711||r===10712||r===10713||r===10714||r===10715||r>=10716&&r<=10747||r===10748||r===10749||r>=10750&&r<=11007||r>=11008&&r<=11055||r>=11056&&r<=11076||r>=11077&&r<=11078||r>=11079&&r<=11084||r>=11085&&r<=11123||r>=11124&&r<=11125||r>=11126&&r<=11157||r===11158||r>=11159&&r<=11263||r>=11776&&r<=11777||r===11778||r===11779||r===11780||r===11781||r>=11782&&r<=11784||r===11785||r===11786||r===11787||r===11788||r===11789||r>=11790&&r<=11798||r===11799||r>=11800&&r<=11801||r===11802||r===11803||r===11804||r===11805||r>=11806&&r<=11807||r===11808||r===11809||r===11810||r===11811||r===11812||r===11813||r===11814||r===11815||r===11816||r===11817||r>=11818&&r<=11822||r===11823||r>=11824&&r<=11833||r>=11834&&r<=11835||r>=11836&&r<=11839||r===11840||r===11841||r===11842||r>=11843&&r<=11855||r>=11856&&r<=11857||r===11858||r>=11859&&r<=11903||r>=12289&&r<=12291||r===12296||r===12297||r===12298||r===12299||r===12300||r===12301||r===12302||r===12303||r===12304||r===12305||r>=12306&&r<=12307||r===12308||r===12309||r===12310||r===12311||r===12312||r===12313||r===12314||r===12315||r===12316||r===12317||r>=12318&&r<=12319||r===12320||r===12336||r===64830||r===64831||r>=65093&&r<=65094}function Hf(r){r.forEach(function(e){if(delete e.location,My(e)||Zy(e))for(var t in e.options)delete e.options[t].location,Hf(e.options[t].value);else Ey(e)&&qy(e.style)||(Ry(e)||Xy(e))&&jf(e.style)?delete e.style.location:Ly(e)&&Hf(e.children)})}function GP(r,e){e===void 0&&(e={}),e=we({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var t=new WP(r,e).parse();if(t.err){var i=SyntaxError(me[t.err.kind]);throw i.location=t.err.location,i.originalMessage=t.err.message,i}return e?.captureLocation||Hf(t.val),t.val}var Ds;(function(r){r.MISSING_VALUE="MISSING_VALUE",r.INVALID_VALUE="INVALID_VALUE",r.MISSING_INTL_API="MISSING_INTL_API"})(Ds||(Ds={}));var Uc=function(r){jc(e,r);function e(t,i,n){var s=r.call(this,t)||this;return s.code=i,s.originalMessage=n,s}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),Op=function(r){jc(e,r);function e(t,i,n,s){return r.call(this,'Invalid values for "'.concat(t,'": "').concat(i,'". Options are "').concat(Object.keys(n).join('", "'),'"'),Ds.INVALID_VALUE,s)||this}return e}(Uc),FP=function(r){jc(e,r);function e(t,i,n){return r.call(this,'Value for "'.concat(t,'" must be of type ').concat(i),Ds.INVALID_VALUE,n)||this}return e}(Uc),HP=function(r){jc(e,r);function e(t,i){return r.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(i,'"'),Ds.MISSING_VALUE,i)||this}return e}(Uc),Nt;(function(r){r[r.literal=0]="literal",r[r.object=1]="object"})(Nt||(Nt={}));function KP(r){return r.length<2?r:r.reduce(function(e,t){var i=e[e.length-1];return!i||i.type!==Nt.literal||t.type!==Nt.literal?e.push(t):i.value+=t.value,e},[])}function JP(r){return typeof r=="function"}function Al(r,e,t,i,n,s,o){if(r.length===1&&ap(r[0]))return[{type:Nt.literal,value:r[0].value}];for(var a=[],l=0,c=r;l<c.length;l++){var h=c[l];if(ap(h)){a.push({type:Nt.literal,value:h.value});continue}if(SP(h)){typeof s=="number"&&a.push({type:Nt.literal,value:t.getNumberFormat(e).format(s)});continue}var f=h.value;if(!(n&&f in n))throw new HP(f,o);var u=n[f];if(vP(h)){(!u||typeof u=="string"||typeof u=="number")&&(u=typeof u=="string"||typeof u=="number"?String(u):""),a.push({type:typeof u=="string"?Nt.literal:Nt.object,value:u});continue}if(Ry(h)){var d=typeof h.style=="string"?i.date[h.style]:jf(h.style)?h.style.parsedOptions:void 0;a.push({type:Nt.literal,value:t.getDateTimeFormat(e,d).format(u)});continue}if(Xy(h)){var d=typeof h.style=="string"?i.time[h.style]:jf(h.style)?h.style.parsedOptions:i.time.medium;a.push({type:Nt.literal,value:t.getDateTimeFormat(e,d).format(u)});continue}if(Ey(h)){var d=typeof h.style=="string"?i.number[h.style]:qy(h.style)?h.style.parsedOptions:void 0;d&&d.scale&&(u=u*(d.scale||1)),a.push({type:Nt.literal,value:t.getNumberFormat(e,d).format(u)});continue}if(Ly(h)){var O=h.children,p=h.value,m=n[p];if(!JP(m))throw new FP(p,"function",o);var b=Al(O,e,t,i,n,s),v=m(b.map(function(S){return S.value}));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map(function(S){return{type:typeof S=="string"?Nt.literal:Nt.object,value:S}}))}if(My(h)){var x=h.options[u]||h.options.other;if(!x)throw new Op(h.value,u,Object.keys(h.options),o);a.push.apply(a,Al(x.value,e,t,i,n));continue}if(Zy(h)){var x=h.options["=".concat(u)];if(!x){if(!Intl.PluralRules)throw new Uc(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ds.MISSING_INTL_API,o);var Q=t.getPluralRules(e,{type:h.pluralType}).select(u-(h.offset||0));x=h.options[Q]||h.options.other}if(!x)throw new Op(h.value,u,Object.keys(h.options),o);a.push.apply(a,Al(x.value,e,t,i,n,u-(h.offset||0)));continue}}return KP(a)}function eT(r,e){return e?we(we(we({},r||{}),e||{}),Object.keys(r).reduce(function(t,i){return t[i]=we(we({},r[i]),e[i]||{}),t},{})):r}function tT(r,e){return e?Object.keys(r).reduce(function(t,i){return t[i]=eT(r[i],e[i]),t},we({},r)):r}function _h(r){return{create:function(){return{get:function(e){return r[e]},set:function(e,t){r[e]=t}}}}}function rT(r){return r===void 0&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Ph(function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,kh([void 0],t,!1)))},{cache:_h(r.number),strategy:Th.variadic}),getDateTimeFormat:Ph(function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,kh([void 0],t,!1)))},{cache:_h(r.dateTime),strategy:Th.variadic}),getPluralRules:Ph(function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,kh([void 0],t,!1)))},{cache:_h(r.pluralRules),strategy:Th.variadic})}}var jy=function(){function r(e,t,i,n){t===void 0&&(t=r.defaultLocale);var s=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(l){var c=s.formatToParts(l);if(c.length===1)return c[0].value;var h=c.reduce(function(f,u){return!f.length||u.type!==Nt.literal||typeof f[f.length-1]!="string"?f.push(u.value):f[f.length-1]+=u.value,f},[]);return h.length<=1?h[0]||"":h},this.formatToParts=function(l){return Al(s.ast,s.locales,s.formatters,s.formats,l,void 0,s.message)},this.resolvedOptions=function(){var l;return{locale:((l=s.resolvedLocale)===null||l===void 0?void 0:l.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=t,this.resolvedLocale=r.resolveLocale(t),typeof e=="string"){if(this.message=e,!r.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var o=n||{};o.formatters;var a=uP(o,["formatters"]);this.ast=r.__parse(e,we(we({},a),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=tT(r.formats,i),this.formatters=n&&n.formatters||rT(this.formatterCache)}return Object.defineProperty(r,"defaultLocale",{get:function(){return r.memoizedDefaultLocale||(r.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),r.memoizedDefaultLocale},enumerable:!1,configurable:!0}),r.memoizedDefaultLocale=null,r.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},r.__parse=GP,r.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},r}();function iT(r,e){if(e==null)return;if(e in r)return r[e];const t=e.split(".");let i=r;for(let n=0;n<t.length;n++)if(typeof i=="object"){if(n>0){const s=t.slice(n,t.length).join(".");if(s in i){i=i[s];break}}i=i[t[n]]}else i=void 0;return i}const Hi={},nT=(r,e,t)=>t&&(e in Hi||(Hi[e]={}),r in Hi[e]||(Hi[e][r]=t),t),Uy=(r,e)=>{if(e==null)return;if(e in Hi&&r in Hi[e])return Hi[e][r];const t=Ta(e);for(let i=0;i<t.length;i++){const n=t[i],s=oT(n,r);if(s)return nT(r,e,s)}};let xd;const io=Ir({});function sT(r){return xd[r]||null}function Qd(r){return r in xd}function oT(r,e){if(!Qd(r))return null;const t=sT(r);return iT(t,e)}function aT(r){if(r==null)return;const e=Ta(r);for(let t=0;t<e.length;t++){const i=e[t];if(Qd(i))return i}}function lT(r,...e){delete Hi[r],io.update(t=>(t[r]=fP.all([t[r]||{},...e]),t))}os([io],([r])=>Object.keys(r));io.subscribe(r=>xd=r);const Do={};function cT(r){Do[r]=new Set}function hT(r,e){Do[r].delete(e),Do[r].size===0&&delete Do[r]}function zo(r){return Do[r]}function fT(r){return Ta(r).map(e=>{const t=zo(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}function tc(r){return r==null?!1:Ta(r).some(e=>{var t;return(t=zo(e))==null?void 0:t.size})}function uT(r,e){return Promise.all(e.map(i=>(hT(r,i),i().then(n=>n.default||n)))).then(i=>lT(r,...i))}const vo={};function Yy(r){if(!tc(r))return r in vo?vo[r]:Promise.resolve();const e=fT(r);return vo[r]=Promise.all(e.map(([t,i])=>uT(t,i))).then(()=>{if(tc(r))return Yy(r);delete vo[r]}),vo[r]}function Gy(r,e){zo(r)||cT(r);const t=zo(r);zo(r).has(e)||(Qd(r)||io.update(i=>(i[r]={},i)),t.add(e))}var pp=Object.getOwnPropertySymbols,dT=Object.prototype.hasOwnProperty,OT=Object.prototype.propertyIsEnumerable,pT=(r,e)=>{var t={};for(var i in r)dT.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&pp)for(var i of pp(r))e.indexOf(i)<0&&OT.call(r,i)&&(t[i]=r[i]);return t};const gT={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}};function mT({locale:r,id:e}){console.warn(`[svelte-i18n] The message "${e}" was not found in "${Ta(r).join('", "')}".${tc(pn())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`)}const yT={fallbackLocale:null,loadingDelay:200,formats:gT,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},Co=yT;function zs(){return Co}function bT(r){const e=r,{formats:t}=e,i=pT(e,["formats"]);let n=r.fallbackLocale;if(r.initialLocale)try{jy.resolveLocale(r.initialLocale)&&(n=r.initialLocale)}catch{console.warn(`[svelte-i18n] The initial locale "${r.initialLocale}" is not a valid locale.`)}return i.warnOnMissingMessages&&(delete i.warnOnMissingMessages,i.handleMissingMessage==null?i.handleMissingMessage=mT:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Co,i,{initialLocale:n}),t&&("number"in t&&Object.assign(Co.formats.number,t.number),"date"in t&&Object.assign(Co.formats.date,t.date),"time"in t&&Object.assign(Co.formats.time,t.time)),ai.set(n)}const Ch=Ir(!1);var vT=Object.defineProperty,ST=Object.defineProperties,xT=Object.getOwnPropertyDescriptors,gp=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty,wT=Object.prototype.propertyIsEnumerable,mp=(r,e,t)=>e in r?vT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kT=(r,e)=>{for(var t in e||(e={}))QT.call(e,t)&&mp(r,t,e[t]);if(gp)for(var t of gp(e))wT.call(e,t)&&mp(r,t,e[t]);return r},PT=(r,e)=>ST(r,xT(e));let Kf;const rc=Ir(null);function yp(r){return r.split("-").map((e,t,i)=>i.slice(0,t+1).join("-")).reverse()}function Ta(r,e=zs().fallbackLocale){const t=yp(r);return e?[...new Set([...t,...yp(e)])]:t}function pn(){return Kf??void 0}rc.subscribe(r=>{Kf=r??void 0,typeof window<"u"&&r!=null&&document.documentElement.setAttribute("lang",r)});const TT=r=>{if(r&&aT(r)&&tc(r)){const{loadingDelay:e}=zs();let t;return typeof window<"u"&&pn()!=null&&e?t=window.setTimeout(()=>Ch.set(!0),e):Ch.set(!0),Yy(r).then(()=>{rc.set(r)}).finally(()=>{clearTimeout(t),Ch.set(!1)})}return rc.set(r)},ai=PT(kT({},rc),{set:TT}),Fy=()=>typeof window>"u"?null:window.navigator.language||window.navigator.languages[0],Yc=r=>{const e=Object.create(null);return i=>{const n=JSON.stringify(i);return n in e?e[n]:e[n]=r(i)}};var $T=Object.defineProperty,ic=Object.getOwnPropertySymbols,Hy=Object.prototype.hasOwnProperty,Ky=Object.prototype.propertyIsEnumerable,bp=(r,e,t)=>e in r?$T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wd=(r,e)=>{for(var t in e||(e={}))Hy.call(e,t)&&bp(r,t,e[t]);if(ic)for(var t of ic(e))Ky.call(e,t)&&bp(r,t,e[t]);return r},no=(r,e)=>{var t={};for(var i in r)Hy.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&ic)for(var i of ic(r))e.indexOf(i)<0&&Ky.call(r,i)&&(t[i]=r[i]);return t};const ra=(r,e)=>{const{formats:t}=zs();if(r in t&&e in t[r])return t[r][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${r} format.`)},_T=Yc(r=>{var e=r,{locale:t,format:i}=e,n=no(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return i&&(n=ra("number",i)),new Intl.NumberFormat(t,n)}),CT=Yc(r=>{var e=r,{locale:t,format:i}=e,n=no(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return i?n=ra("date",i):Object.keys(n).length===0&&(n=ra("date","short")),new Intl.DateTimeFormat(t,n)}),AT=Yc(r=>{var e=r,{locale:t,format:i}=e,n=no(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return i?n=ra("time",i):Object.keys(n).length===0&&(n=ra("time","short")),new Intl.DateTimeFormat(t,n)}),ET=(r={})=>{var e=r,{locale:t=pn()}=e,i=no(e,["locale"]);return _T(wd({locale:t},i))},RT=(r={})=>{var e=r,{locale:t=pn()}=e,i=no(e,["locale"]);return CT(wd({locale:t},i))},XT=(r={})=>{var e=r,{locale:t=pn()}=e,i=no(e,["locale"]);return AT(wd({locale:t},i))},MT=Yc((r,e=pn())=>new jy(r,e,zs().formats,{ignoreTag:zs().ignoreTag})),ZT=(r,e={})=>{var t,i,n,s;let o=e;typeof r=="object"&&(o=r,r=o.id);const{values:a,locale:l=pn(),default:c}=o;if(l==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let h=Uy(r,l);if(!h)h=(s=(n=(i=(t=zs()).handleMissingMessage)==null?void 0:i.call(t,{locale:l,id:r,defaultValue:c}))!=null?n:c)!=null?s:r;else if(typeof h!="string")return console.warn(`[svelte-i18n] Message with id "${r}" must be of type "string", found: "${typeof h}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),h;if(!a)return h;let f=h;try{f=MT(h,l).format(a)}catch(u){u instanceof Error&&console.warn(`[svelte-i18n] Message "${r}" has syntax error:`,u.message)}return f},LT=(r,e)=>XT(e).format(r),qT=(r,e)=>RT(e).format(r),DT=(r,e)=>ET(e).format(r),zT=(r,e=pn())=>Uy(r,e),$a=os([ai,io],()=>ZT);os([ai],()=>LT);os([ai],()=>qT);os([ai],()=>DT);os([ai,io],()=>zT);Gy("en-GB",()=>$y(()=>Promise.resolve().then(()=>tD),void 0,import.meta.url));Gy("en-US",()=>$y(()=>Promise.resolve().then(()=>iD),void 0,import.meta.url));const Jf=[{code:"en-GB",name:"English (UK)"},{code:"en-US",name:"English (US)"}],eu="en-GB";function BT(r){bT({fallbackLocale:eu,initialLocale:r||Fy()||eu})}function IT(r){if(r&&Jf.some(t=>t.code===r))return r;const e=Fy();return e&&Jf.some(t=>t.code===e)?e:eu}let kd=Date.now(),Pd=15*60*1e3,El=null;function Jy(){kd=Date.now()}function NT(){Date.now()-kd>=Pd&&VT()}function VT(){Wc(),an.set(!0),Td()}function WT(r=15){Td(),Pd=r*60*1e3,kd=Date.now(),["mousedown","mousemove","keypress","scroll","touchstart","click"].forEach(t=>{document.addEventListener(t,Jy,{passive:!0})}),El=window.setInterval(NT,60*1e3)}function Td(){El!==null&&(clearInterval(El),El=null),["mousedown","mousemove","keypress","scroll","touchstart","click"].forEach(e=>{document.removeEventListener(e,Jy,{passive:!0})})}function vp(r){Pd=r*60*1e3}var jT=z('<div class="mt-4"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Type <strong> </strong> to confirm:</label> <input type="text" class="w-full px-3 py-2.5 min-h-11 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"/></div>'),UT=z('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" role="dialog" aria-modal="true"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full"><div class="border-b border-gray-200 dark:border-gray-700 p-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white"> </h2></div> <div class="p-6"><p class="text-gray-700 dark:text-gray-300 whitespace-pre-line"> </p> <!></div> <div class="border-t border-gray-200 dark:border-gray-700 p-4 flex justify-end gap-3"><button class="px-4 py-2.5 min-h-11 text-gray-700 dark:text-gray-300 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"> </button> <button> </button></div></div></div>');function Bs(r,e){$t(e,!1);const t=N();let i=se(e,"show",8,!1),n=se(e,"title",8,"Confirm"),s=se(e,"message",8),o=se(e,"confirmText",8,"Confirm"),a=se(e,"cancelText",8,"Cancel"),l=se(e,"confirmClass",8,"bg-red-600 hover:bg-red-700"),c=se(e,"requireTextMatch",8,null),h=se(e,"onConfirm",8),f=se(e,"onCancel",8),u=N("");function d(Q){Q.target===Q.currentTarget&&p()}function O(){g(t)&&(k(u,""),h()())}function p(){k(u,""),f()()}function m(Q){Q.key==="Escape"?p():Q.key==="Enter"&&g(t)&&O()}ze(()=>(Ne(c()),g(u)),()=>{k(t,c()?g(u)===c():!0)}),On(),Lt();var b=nr(),v=Ke(b);{var x=Q=>{var S=UT(),P=w(S),$=w(P),M=w($),q=w(M),U=T($,2),j=w(U),Z=w(j),K=T(j,2);{var X=Oe=>{var ne=jT(),le=w(ne),De=T(w(le)),Ue=w(De),Ye=T(le,2);qQ(Ye),ie(()=>{I(Ue,c()),lt(Ye,"placeholder",c())}),ri(Ye,()=>g(u),V=>k(u,V)),R(Oe,ne)};re(K,Oe=>{c()&&Oe(X)})}var J=T(U,2),pe=w(J),$e=w(pe),Ae=T(pe,2),ae=w(Ae);ie(Oe=>{I(q,n()),I(Z,s()),I($e,a()),Ae.disabled=!g(t),qr(Ae,1,`${Oe??""} px-4 py-2.5 min-h-11 text-white font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed`),I(ae,o())},[()=>(Ne(l()),C(()=>l().replace("hover:","active:")))]),D("click",pe,p),D("click",Ae,O),D("click",S,d),D("keydown",S,m),R(Q,S)};re(v,Q=>{i()&&Q(x)})}R(r,b),_t()}var YT=z('<div><label for="confirm" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"> </label> <input id="confirm" type="password" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"/></div> <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-3"><p class="text-sm text-yellow-800 dark:text-yellow-200"> </p></div>',1),GT=z('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3"><p class="text-sm text-red-800 dark:text-red-200"> </p></div>'),FT=z('<button type="button" class="w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200"> </button>'),HT=z('<div class="flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4"><div class="w-full max-w-md"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8"><div class="text-center mb-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2"> </h1> <p class="text-gray-600 dark:text-gray-400"> </p></div> <form class="space-y-4"><div><label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"> </label> <input id="password" type="password" required class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"/></div> <!> <!> <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200"> </button> <!></form> <div class="mt-6 text-center text-xs text-gray-500 dark:text-gray-400"><p> </p></div></div></div></div> <!>',1);function KT(r,e){$t(e,!1);const t=()=>He($a,"$_",i),[i,n]=qi();let s=N(""),o=N(""),a=N(""),l=N(!1),c=N(!1),h=0,f=N(!1),u=N(!1),d=N();(async()=>(k(c,!await Qy()),Qw.set(!g(c))))(),to(()=>{g(d)&&g(d).focus()});async function O(){k(a,""),k(l,!0);try{if(g(c)){if(g(s).length<8){k(a,t()("unlock.passwordMinLength"));return}if(g(s)!==g(o)){k(a,t()("unlock.passwordMismatch"));return}await _k(g(s))}else await wy(g(s));an.set(!1),k(s,""),k(o,""),h=0,k(f,!1)}catch(_){k(a,_ instanceof Error?_.message:t()("unlock.incorrectPassword")),!g(c)&&g(a).includes("Incorrect password")&&(h++,h>=3&&(k(f,!0),k(a,t()("unlock.failedAttempts")))),k(s,"")}finally{k(l,!1)}}function p(){k(u,!0)}async function m(){k(u,!1),k(l,!0);try{await ly(),window.location.reload()}catch(_){k(a,"Failed to delete database: "+(_ instanceof Error?_.message:"Unknown error")),k(l,!1)}}function b(){k(u,!1)}Lt();var v=HT(),x=Ke(v),Q=w(x),S=w(Q),P=w(S),$=w(P),M=w($),q=T($,2),U=w(q),j=T(P,2),Z=w(j),K=w(Z),X=w(K),J=T(K,2);Ho(J,_=>k(d,_),()=>g(d));var pe=T(Z,2);{var $e=_=>{var E=YT(),te=Ke(E),F=w(te),fe=w(F),ge=T(F,2),ue=T(te,2),Me=w(ue),Qe=w(Me);ie((ot,Dt,Ct)=>{I(fe,ot),ge.disabled=g(l),lt(ge,"placeholder",Dt),I(Qe,Ct)},[()=>t()("unlock.confirmPassword"),()=>t()("unlock.confirmPassword"),()=>t()("unlock.warning")]),ri(ge,()=>g(o),ot=>k(o,ot)),R(_,E)};re(pe,_=>{g(c)&&_($e)})}var Ae=T(pe,2);{var ae=_=>{var E=GT(),te=w(E),F=w(te);ie(()=>I(F,g(a))),R(_,E)};re(Ae,_=>{g(a)&&_(ae)})}var Oe=T(Ae,2),ne=w(Oe),le=T(Oe,2);{var De=_=>{var E=FT(),te=w(E);ie(F=>{E.disabled=g(l),I(te,F)},[()=>t()("unlock.deleteAndStartOver")]),D("click",E,p),R(_,E)};re(le,_=>{g(f)&&!g(c)&&_(De)})}var Ue=T(j,2),Ye=w(Ue),V=w(Ye),ee=T(x,2);{let _=wt(()=>t()("confirm.deleteDatabase.title")),E=wt(()=>t()("confirm.deleteDatabase.message")),te=wt(()=>t()("confirm.deleteDatabase.confirmButton")),F=wt(()=>t()("common.cancel"));Bs(ee,{get show(){return g(u)},get title(){return g(_)},get message(){return g(E)},get confirmText(){return g(te)},get cancelText(){return g(F)},confirmClass:"bg-red-600 hover:bg-red-700",onConfirm:m,onCancel:b})}ie((_,E,te,F,fe,ge)=>{I(M,_),I(U,E),I(X,te),J.disabled=g(l),lt(J,"placeholder",F),Oe.disabled=g(l),I(ne,fe),I(V,ge)},[()=>g(c)?t()("unlock.welcome"):t()("app.name"),()=>g(c)?t()("unlock.setupPassword"):t()("unlock.enterPassword"),()=>t()("unlock.password"),()=>t()("unlock.password"),()=>g(l)?t()("unlock.processing"):g(c)?t()("unlock.createPassword"):t()("unlock.unlock"),()=>t()("app.tagline")]),ri(J,()=>g(s),_=>k(s,_)),D("submit",j,mw(O)),R(r,v),_t(),n()}var JT=z('<li class="mb-2"><a download="" class="text-blue-600 hover:underline"> </a></li>'),e$=z('<div class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md"><h2 class="text-xl font-bold mb-4"> </h2> <p class="mb-4"> </p> <ul></ul> <div class="mt-6 text-right"><button class="px-4 py-2 bg-gray-200 dark:bg-gray-600 rounded-md"> </button></div></div></div>');function t$(r,e){$t(e,!1);const t=()=>He($a,"$_",i),[i,n]=qi();let s=se(e,"show",8,!1),o=se(e,"onClose",8,()=>{});const a=[{name:"Linux (amd64)",path:"/releases/jottery-linux-amd64"},{name:"macOS (amd64)",path:"/releases/jottery-macos-amd64"},{name:"Windows (amd64)",path:"/releases/jottery-windows-amd64.exe"}];Lt();var l=nr(),c=Ke(l);{var h=f=>{var u=e$(),d=w(u),O=w(d),p=w(O),m=T(O,2),b=w(m),v=T(m,2);Cr(v,5,()=>a,_i,(P,$)=>{var M=JT(),q=w(M),U=w(q);ie(()=>{lt(q,"href",(g($),C(()=>g($).path))),I(U,(g($),C(()=>g($).name)))}),R(P,M)});var x=T(v,2),Q=w(x),S=w(Q);ie((P,$,M)=>{I(p,P),I(b,$),I(S,M)},[()=>(t(),C(()=>t()("releases.title"))),()=>(t(),C(()=>t()("releases.description"))),()=>(t(),C(()=>t()("common.close")))]),D("click",Q,function(...P){o()?.apply(this,P)}),D("click",d,ey(function(P){ty.call(this,e,P)})),D("click",u,function(...P){o()?.apply(this,P)}),R(f,u)};re(c,f=>{s()&&f(h)})}R(r,l),_t(),n()}var r$=z('<button class="min-h-11 min-w-11 p-2.5 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors" title="Menu" aria-label="Open menu"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button>'),i$=z('<button class="tablet:hidden min-h-11 min-w-11 p-2.5 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors" title="Menu" aria-label="Open menu"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button>'),n$=z('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"></button>'),s$=z('<div class="hidden tablet:block flex-1 max-w-md relative"><input id="search-input" type="text" class="w-full px-3 py-1.5 pr-8 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"/> <!></div> <div class="flex-1 tablet:hidden"></div>',1),o$=z('<div class="flex-1"></div>'),a$=z('<div class="flex items-center gap-3"><button class="min-h-11 min-w-11 p-3 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors" aria-label="Search"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button> <button class="min-h-11 min-w-11 p-3 bg-blue-600 active:bg-blue-700 text-white rounded-md transition-colors" aria-label="New note"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button></div>'),l$=z('<div class="flex tablet:hidden items-center gap-3"><button class="min-h-11 min-w-11 p-3 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors" aria-label="Search"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button> <button class="min-h-11 min-w-11 p-3 bg-blue-600 active:bg-blue-700 text-white rounded-md transition-colors" aria-label="New note"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button></div>'),c$=z('<div class="hidden tablet:flex items-center gap-2"><button class="px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition-colors"> </button> <button class="px-3 py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm rounded-md transition-colors"> </button> <button class="px-3 py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm rounded-md transition-colors"> </button> <button class="px-3 py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm rounded-md transition-colors"> </button> <button class="px-3 py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm rounded-md transition-colors"> </button></div>'),h$=z('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"></button>'),f$=z('<div><div class="relative"><input id="search-input-mobile" type="text" class="w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"/> <!></div></div>'),u$=z('<div role="button" tabindex="-1" aria-label="Close menu"></div> <div><div class="flex flex-col h-full"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"><h2 class="text-lg font-bold text-gray-900 dark:text-white">Menu</h2> <button class="min-h-11 min-w-11 p-3 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors" aria-label="Close menu"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <nav class="flex-1 overflow-y-auto p-2"><button class="w-full flex items-center gap-3 px-4 py-3 min-h-11 text-left active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"><span class="text-xl"></span> <span class="text-sm font-medium"> </span></button> <button class="w-full flex items-center gap-3 px-4 py-3 min-h-11 text-left active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"><span class="text-xl"></span> <span class="text-sm font-medium"> </span></button> <button class="w-full flex items-center gap-3 px-4 py-3 min-h-11 text-left active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"><span class="text-xl"></span> <span class="text-sm font-medium"> </span></button> <div class="my-2 border-t border-gray-200 dark:border-gray-700"></div> <button class="w-full flex items-center gap-3 px-4 py-3 min-h-11 text-left active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"><span class="text-xl"></span> <span class="text-sm font-medium"> </span></button></nav></div></div>',1),d$=z('<header class="border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-3 relative"><div><!> <h1> </h1> <!> <!> <!></div> <!> <!></header> <!> <!>',1);function O$(r,e){$t(e,!1);const t=()=>He($a,"$_",n),i=()=>He(An,"$searchQuery",n),[n,s]=qi();let o=se(e,"onOpenSettings",8,()=>{}),a=se(e,"onNewNote",8,()=>{}),l=se(e,"onOpenRecycleBin",8,()=>{});se(e,"onOpenReleases",8,()=>{});let c=se(e,"forceMobileLayout",8,!1),h=N(!1),f=N(!1),u=N(!1),d=N(!1);function O(){a()()}function p(){k(h,!0)}function m(){k(h,!1),Wc(),an.set(!0)}function b(){k(h,!1)}function v(){k(f,!0)}function x(){k(u,!g(u))}function Q(){k(d,!g(d)),g(d)&&setTimeout(()=>{document.getElementById("search-input-mobile")?.focus()},100)}function S(){k(u,!1)}Lt();var P=d$(),$=Ke(P),M=w($),q=w(M);{var U=_=>{var E=r$();D("click",E,x),R(_,E)},j=_=>{var E=i$();D("click",E,x),R(_,E)};re(q,_=>{c()?_(U):_(j,!1)})}var Z=T(q,2),K=w(Z),X=T(Z,2);{var J=_=>{var E=s$(),te=Ke(E),F=w(te),fe=T(F,2);{var ge=ue=>{var Me=n$();ie(Qe=>lt(Me,"title",Qe),[()=>(t(),C(()=>t()("search.clear")))]),D("click",Me,()=>An.set("")),R(ue,Me)};re(fe,ue=>{i()&&ue(ge)})}ie(ue=>lt(F,"placeholder",ue),[()=>(t(),C(()=>t()("search.placeholder")))]),ri(F,i,ue=>VO(An,ue)),R(_,E)},pe=_=>{var E=o$();R(_,E)};re(X,_=>{c()?_(pe,!1):_(J)})}var $e=T(X,2);{var Ae=_=>{var E=a$(),te=w(E),F=T(te,2);ie((fe,ge)=>{lt(te,"title",fe),lt(F,"title",ge)},[()=>(t(),C(()=>t()("search.placeholder"))),()=>(t(),C(()=>t()("note.create")))]),D("click",te,Q),D("click",F,O),R(_,E)},ae=_=>{var E=l$(),te=w(E),F=T(te,2);ie((fe,ge)=>{lt(te,"title",fe),lt(F,"title",ge)},[()=>(t(),C(()=>t()("search.placeholder"))),()=>(t(),C(()=>t()("note.create")))]),D("click",te,Q),D("click",F,O),R(_,E)};re($e,_=>{c()?_(Ae):_(ae,!1)})}var Oe=T($e,2);{var ne=_=>{var E=c$(),te=w(E),F=w(te),fe=T(te,2),ge=w(fe),ue=T(fe,2),Me=w(ue),Qe=T(ue,2),ot=w(Qe),Dt=T(Qe,2),Ct=w(Dt);ie((gt,mr,mt,zt,Bt,yr,sr,Gt,yt,br)=>{lt(te,"title",gt),I(F,`+ ${mr??""}`),lt(fe,"title",mt),I(ge,` ${zt??""}`),lt(ue,"title",Bt),I(Me,` ${yr??""}`),lt(Qe,"title",sr),I(ot,` ${Gt??""}`),lt(Dt,"title",yt),I(Ct,` ${br??""}`)},[()=>(t(),C(()=>t()("note.create"))),()=>(t(),C(()=>t()("note.new"))),()=>(t(),C(()=>t()("recycleBin.title"))),()=>(t(),C(()=>t()("recycleBin.title"))),()=>(t(),C(()=>t()("common.settings"))),()=>(t(),C(()=>t()("common.settings"))),()=>(t(),C(()=>t()("releases.title"))),()=>(t(),C(()=>t()("releases.title"))),()=>(t(),C(()=>t()("keyboard.lockApp"))),()=>(t(),C(()=>t()("common.lock")))]),D("click",te,O),D("click",fe,function(...gt){l()?.apply(this,gt)}),D("click",ue,function(...gt){o()?.apply(this,gt)}),D("click",Qe,v),D("click",Dt,p),R(_,E)};re(Oe,_=>{c()||_(ne)})}var le=T(M,2);{var De=_=>{var E=f$(),te=w(E),F=w(te),fe=T(F,2);{var ge=ue=>{var Me=h$();ie(Qe=>lt(Me,"title",Qe),[()=>(t(),C(()=>t()("search.clear")))]),D("click",Me,()=>An.set("")),R(ue,Me)};re(fe,ue=>{i()&&ue(ge)})}ie(ue=>{qr(E,1,`${c()?"":"tablet:hidden"} mt-3 animate-slide-down`,"svelte-1elxaub"),lt(F,"placeholder",ue)},[()=>(t(),C(()=>t()("search.placeholder")))]),ri(F,i,ue=>VO(An,ue)),R(_,E)};re(le,_=>{g(d)&&_(De)})}var Ue=T(le,2);{var Ye=_=>{var E=u$(),te=Ke(E),F=T(te,2),fe=w(F),ge=w(fe),ue=T(w(ge),2),Me=T(ge,2),Qe=w(Me),ot=T(w(Qe),2),Dt=w(ot),Ct=T(Qe,2),gt=T(w(Ct),2),mr=w(gt),mt=T(Ct,2),zt=T(w(mt),2),Bt=w(zt),yr=T(mt,4),sr=T(w(yr),2),Gt=w(sr);ie((yt,br,Bi,vn)=>{qr(te,1,`${c()?"":"tablet:hidden"} fixed inset-0 bg-black bg-opacity-50 z-40`),qr(F,1,`${c()?"":"tablet:hidden"} fixed left-0 top-0 bottom-0 w-64 bg-white dark:bg-gray-800 z-50 shadow-xl animate-slide-in-left`,"svelte-1elxaub"),I(Dt,yt),I(mr,br),I(Bt,Bi),I(Gt,vn)},[()=>(t(),C(()=>t()("recycleBin.title"))),()=>(t(),C(()=>t()("common.settings"))),()=>(t(),C(()=>t()("releases.title"))),()=>(t(),C(()=>t()("common.lock")))]),D("click",te,S),D("click",ue,S),D("click",Qe,()=>{l()(),S()}),D("click",Ct,()=>{o()(),S()}),D("click",mt,()=>{v(),S()}),D("click",yr,()=>{p(),S()}),R(_,E)};re(Ue,_=>{g(u)&&_(Ye)})}var V=T($,2);{let _=wt(()=>(t(),C(()=>t()("lock.title")))),E=wt(()=>(t(),C(()=>t()("lock.message")))),te=wt(()=>(t(),C(()=>t()("lock.confirmButton")))),F=wt(()=>(t(),C(()=>t()("common.cancel"))));Bs(V,{get show(){return g(h)},get title(){return g(_)},get message(){return g(E)},get confirmText(){return g(te)},get cancelText(){return g(F)},confirmClass:"bg-blue-600 hover:bg-blue-700",onConfirm:m,onCancel:b})}var ee=T(V,2);t$(ee,{get show(){return g(f)},onClose:()=>k(f,!1)}),ie(_=>{qr(M,1,`flex items-center gap-2 ${c()?"gap-2":"tablet:gap-4"}`),qr(Z,1,`text-lg ${c()?"":"tablet:text-xl"} font-bold text-gray-900 dark:text-white`),I(K,_)},[()=>(t(),C(()=>t()("app.name")))]),R(r,P),_t(),s()}var p$=z('<span class="text-yellow-500 flex-shrink-0"></span>'),g$=z('<p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-1 svelte-nen7ht"> </p>'),m$=z('<span class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs whitespace-nowrap"> </span>'),y$=z('<span class="text-gray-400 flex-shrink-0"> </span>'),b$=z('<div class="flex gap-1 flex-wrap justify-end ml-2"><!> <!></div>'),v$=z('<button><div class="flex items-start justify-between mb-1"><div class="flex items-center gap-2 flex-1 min-w-0"><!> <h3 class="font-medium text-gray-900 dark:text-gray-100 truncate"> </h3></div></div> <!> <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-500"><span class="flex-shrink-0"> </span> <!></div></button>');function S$(r,e){$t(e,!1);const t=()=>He(ka,"$selectedNoteId",i),[i,n]=qi(),s=N(),o=N(),a=N(),l=N(),c=N(),h=N();let f=se(e,"note",8),u=se(e,"onNoteSelect",8,void 0);function d(){Jl(f().id),u()&&u()()}ze(()=>(t(),Ne(f())),()=>{k(s,t()===f().id)}),ze(()=>Ne(f()),()=>{k(o,f().content.split(`
`)[0]||"Untitled")}),ze(()=>{},()=>{k(a,typeof window<"u"&&window.innerWidth<768)}),ze(()=>g(a),()=>{k(l,g(a)?60:100)}),ze(()=>(Ne(f()),g(l)),()=>{k(c,f().content.split(`
`).slice(1).join(" ").slice(0,g(l)))}),ze(()=>Ne(f()),()=>{k(h,new Date(f().modifiedAt).toLocaleDateString("en-GB",{month:"short",day:"numeric",year:"numeric"}))}),On(),Lt();var O=v$(),p=w(O),m=w(p),b=w(m);{var v=Z=>{var K=p$();R(Z,K)};re(b,Z=>{Ne(f()),C(()=>f().pinned)&&Z(v)})}var x=T(b,2),Q=w(x),S=T(p,2);{var P=Z=>{var K=g$(),X=w(K);ie(()=>I(X,g(c))),R(Z,K)};re(S,Z=>{g(c)&&Z(P)})}var $=T(S,2),M=w($),q=w(M),U=T(M,2);{var j=Z=>{var K=b$(),X=w(K);Cr(X,1,()=>(Ne(f()),C(()=>f().tags.slice(0,2))),_i,($e,Ae)=>{var ae=m$(),Oe=w(ae);ie(()=>I(Oe,`#${g(Ae)??""}`)),R($e,ae)});var J=T(X,2);{var pe=$e=>{var Ae=y$(),ae=w(Ae);ie(()=>I(ae,`+${Ne(f()),C(()=>f().tags.length-2)??""}`)),R($e,Ae)};re(J,$e=>{Ne(f()),C(()=>f().tags.length>2)&&$e(pe)})}R(Z,K)};re(U,Z=>{Ne(f()),C(()=>f().tags.length>0)&&Z(j)})}ie(()=>{qr(O,1,`w-full text-left p-4 min-h-[60px] border-b border-gray-200 dark:border-gray-700 active:bg-gray-100 dark:active:bg-gray-700 transition-colors ${g(s)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":""}`),I(Q,g(o)),I(q,g(h))}),D("click",O,d),R(r,O),_t(),n()}var x$=z('<p class="text-lg mb-2">No notes yet</p> <p class="text-sm">Create your first note to get started</p>',1),Q$=z('<p class="text-lg mb-2">No results found</p> <p class="text-sm">Try a different search query</p>',1),w$=z('<p class="text-lg mb-2">No notes</p> <p class="text-sm">Something went wrong</p>',1),k$=z('<div class="flex items-center justify-center h-full text-gray-500 dark:text-gray-400 p-4 text-center"><div><!></div></div>'),P$=z('<div class="h-full overflow-y-auto bg-white dark:bg-gray-900"><!></div>');function Sp(r,e){$t(e,!1);const t=()=>He(En,"$filteredNotes",s),i=()=>He(er,"$notes",s),n=()=>He(An,"$searchQuery",s),[s,o]=qi();let a=se(e,"onNoteSelect",8,void 0);Lt();var l=P$(),c=w(l);{var h=u=>{var d=k$(),O=w(d),p=w(O);{var m=v=>{var x=x$();R(v,x)},b=v=>{var x=nr(),Q=Ke(x);{var S=$=>{var M=Q$();R($,M)},P=$=>{var M=w$();R($,M)};re(Q,$=>{n(),C(()=>n().trim())?$(S):$(P,!1)},!0)}R(v,x)};re(p,v=>{i(),C(()=>i().length===0)?v(m):v(b,!1)})}R(u,d)},f=u=>{var d=nr(),O=Ke(d);Cr(O,1,t,p=>p.id,(p,m)=>{S$(p,{get note(){return g(m)},get onNoteSelect(){return a()}})}),R(u,d)};re(c,u=>{t(),C(()=>t().length===0)?u(h):u(f,!1)})}R(r,l),_t(),o()}function tu(r,e){const t=typeof r=="string"?new Date(r):r,i=ry(ai)||"en-GB",n={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",...e};return new Intl.DateTimeFormat(i,n).format(t)}function rl(r){return tu(r,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}let ru=[],eb=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?eb:ru).push(t=t+r[e])})();function T$(r){if(r<768)return!1;for(let e=0,t=ru.length;;){let i=e+t>>1;if(r<ru[i])t=i;else if(r>=eb[i])e=i+1;else return!0;if(e==t)return!1}}function xp(r){return r>=127462&&r<=127487}const Qp=8205;function $$(r,e,t=!0,i=!0){return(t?tb:_$)(r,e,i)}function tb(r,e,t){if(e==r.length)return e;e&&rb(r.charCodeAt(e))&&ib(r.charCodeAt(e-1))&&e--;let i=Ah(r,e);for(e+=wp(i);e<r.length;){let n=Ah(r,e);if(i==Qp||n==Qp||t&&T$(n))e+=wp(n),i=n;else if(xp(n)){let s=0,o=e-2;for(;o>=0&&xp(Ah(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function _$(r,e,t){for(;e>0;){let i=tb(r,e-2,t);if(i<e)return i;e--}return 0}function Ah(r,e){let t=r.charCodeAt(e);if(!ib(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return rb(i)?(t-55296<<10)+(i-56320)+65536:t}function rb(r){return r>=56320&&r<57344}function ib(r){return r>=55296&&r<56320}function wp(r){return r<65536?1:2}let Te=class nb{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Is(this,e,t);let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),Kr.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Is(this,e,t);let i=[];return this.decompose(e,t,i,0),Kr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new Bo(this),s=new Bo(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=i)return!0}}iter(e=1){return new Bo(this,e)}iterRange(e,t=this.length){return new sb(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ob(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?nb.empty:e.length<=32?new rt(e):Kr.from(rt.split(e,[]))}};class rt extends Te{constructor(e,t=C$(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?i:a)>=e)return new A$(n,a,i,o);n=a+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new rt(kp(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=i.pop(),a=Rl(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new rt(a,o.length+s.length));else{let l=a.length>>1;i.push(new rt(a.slice(0,l)),new rt(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof rt))return super.replace(e,t,i);[e,t]=Is(this,e,t);let n=Rl(this.text,Rl(i.text,kp(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new rt(n,s):Kr.from(rt.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=Is(this,e,t);let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=i),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new rt(i,n)),i=[],n=-1);return n>-1&&t.push(new rt(i,n)),t}}class Kr extends Te{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,n);n=a+1,i=l+1}}decompose(e,t,i,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if([e,t]=Is(this,e,t),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let h=this.children.slice();return h[n]=l,new Kr(h,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Is(this,e,t);let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=i),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,i)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Kr))return 0;let i=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return i;let l=this.children[n],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let O of e)O.flatten(d);return new rt(d,t)}let n=Math.max(32,i>>5),s=n<<1,o=n>>1,a=[],l=0,c=-1,h=[];function f(d){let O;if(d.lines>s&&d instanceof Kr)for(let p of d.children)f(p);else d.lines>o&&(l>o||!l)?(u(),a.push(d)):d instanceof rt&&l&&(O=h[h.length-1])instanceof rt&&d.lines+O.lines<=32?(l+=d.lines,c+=d.length+1,h[h.length-1]=new rt(O.text.concat(d.text),O.length+1+d.length)):(l+d.lines>n&&u(),l+=d.lines,c+=d.length+1,h.push(d))}function u(){l!=0&&(a.push(h.length==1?h[0]:Kr.from(h,c)),c=-1,l=h.length=0)}for(let d of e)f(d);return u(),a.length==1?a[0]:new Kr(a,t)}}Te.empty=new rt([""],0);function C$(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Rl(r,e,t=0,i=1e9){for(let n=0,s=0,o=!0;s<r.length&&n<=i;s++){let a=r[s],l=n+a.length;l>=t&&(l>i&&(a=a.slice(0,i-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function kp(r,e,t){return Rl(r,[""],e,t)}class Bo{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof rt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof rt?n.text.length:n.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof rt){let l=n.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof rt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class sb{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Bo(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ob{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Te.prototype[Symbol.iterator]=function(){return this.iter()},Bo.prototype[Symbol.iterator]=sb.prototype[Symbol.iterator]=ob.prototype[Symbol.iterator]=function(){return this});let A$=class{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}};function Is(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function kt(r,e,t=!0,i=!0){return $$(r,e,t,i)}function E$(r){return r>=56320&&r<57344}function R$(r){return r>=55296&&r<56320}function xi(r,e){let t=r.charCodeAt(e);if(!R$(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return E$(i)?(t-55296<<10)+(i-56320)+65536:t}function ab(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Rn(r){return r<65536?1:2}const iu=/\r\n?|\n/;var jt=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(jt||(jt={}));class li{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,n,s),n+=s):n+=o,i+=s}}iterChangedRanges(e,t=!1){nu(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new li(e)}composeDesc(e){return this.empty?e:e.empty?this:lb(this,e)}mapDesc(e,t=!1){return e.empty?this:su(this,e,t)}mapPos(e,t=-1,i=jt.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=n+a;if(l<0){if(c>e)return s+(e-n);s+=a}else{if(i!=jt.Simple&&c>=e&&(i==jt.TrackDel&&n<e&&c>e||i==jt.TrackBefore&&n<e||i==jt.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=c}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],o=this.sections[i++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new li(e)}static create(e){return new li(e)}}class ut extends li{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return nu(this,(t,i,n,s,o)=>e=e.replace(n,n+(i-t),o),!1),e}mapDesc(e,t=!1){return su(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(Te.empty);i.push(o?e.slice(s,s+o):Te.empty)}s+=o}return new ut(t,i)}compose(e){return this.empty?e:e.empty?this:lb(this,e,!0)}map(e,t=!1){return e.empty?this:su(this,e,t,!0)}iterChanges(e,t=!1){nu(this,e,t)}get desc(){return li.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new ia(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);Rt(n,h,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Rt(t,h,f),f>0&&Ki(i,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);Rt(t,h,-1),Rt(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new ut(t,i),filtered:li.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!n.length)return;o<t&&Rt(n,t-o,-1);let f=new ut(n,s);a=a?a.compose(f.map(a)):f,n=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let f of h)c(f);else if(h instanceof ut){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:f,to:u=f,insert:d}=h;if(f>u||f<0||u>t)throw new RangeError(`Invalid change range ${f} to ${u} (in doc of length ${t})`);let O=d?typeof d=="string"?Te.of(d.split(i||iu)):d:Te.empty,p=O.length;if(f==u&&p==0)return;f<o&&l(),f>o&&Rt(n,f-o,-1),Rt(n,u-f,p),Ki(s,n,O),o=u}}return c(e),l(!a),a}static empty(e){return new ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(Te.empty);i[n]=Te.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new ut(t,i)}static createSet(e,t){return new ut(e,t)}}function Rt(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:n>=0&&e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function Ki(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(Te.empty);r.push(t)}}function nu(r,e,t){let i=r.inserted;for(let n=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)n+=a,s+=a;else{let c=n,h=s,f=Te.empty;for(;c+=a,h+=l,l&&i&&(f=f.append(i[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(n,c,s,h,f),n=c,s=h}}}function su(r,e,t,i=!1){let n=[],s=i?[]:null,o=new ia(r),a=new ia(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Rt(n,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(Rt(n,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(Rt(n,0,o.ins),s&&Ki(s,n,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let f=Math.min(h,a.len);c+=f,h-=f,a.forward(f)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;Rt(n,c,l<o.i?o.ins:0),s&&l<o.i&&Ki(s,n,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?ut.createSet(n,s):li.create(n);throw new Error("Mismatched change set lengths")}}}function lb(r,e,t=!1){let i=[],n=t?[]:null,s=new ia(r),o=new ia(e);for(let a=!1;;){if(s.done&&o.done)return n?ut.createSet(i,n):li.create(i);if(s.ins==0)Rt(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Rt(i,0,o.ins,a),n&&Ki(n,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;Rt(i,l,h,a),n&&h&&Ki(n,i,o.text)}else o.ins==-1?(Rt(i,s.off?0:s.len,l,a),n&&Ki(n,i,s.textBit(l))):(Rt(i,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&Ki(n,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class ia{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Te.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Te.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ln{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new Ln(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return A.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return A.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return A.range(e.anchor,e.head)}static create(e,t,i){return new Ln(e,t,i)}}class A{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:A.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new A([this.main],0)}addRange(e,t=!0){return A.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,A.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new A(e.ranges.map(t=>Ln.fromJSON(t)),e.main)}static single(e,t=e){return new A([A.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return A.normalized(e.slice(),t);i=s.to}return new A(e,t)}static cursor(e,t=0,i,n){return Ln.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(n??16777215)<<6)}static range(e,t,i,n){let s=(i??16777215)<<6|(n==null?7:Math.min(6,n));return t<e?Ln.create(t,e,48|s):Ln.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?A.range(l,a):A.range(a,l))}}return new A(e,t)}}function cb(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let $d=0;class G{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=$d++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new G(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:_d),!!e.static,e.enables)}of(e){return new Xl([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xl(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xl(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function _d(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class Xl{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=$d++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((t=e[f.id])!==null&&t!==void 0?t:1)&1||h.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,u){if(l&&u.docChanged||c&&(u.docChanged||u.selection)||ou(f,h)){let d=i(f);if(a?!Pp(d,f.values[o],n):!n(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,u)=>{let d,O=u.config.address[s];if(O!=null){let p=sc(u,O);if(this.dependencies.every(m=>m instanceof G?u.facet(m)===f.facet(m):m instanceof gr?u.field(m,!1)==f.field(m,!1):!0)||(a?Pp(d=i(f),p,n):n(d=i(f),p)))return f.values[o]=p,0}else d=i(f);return f.values[o]=d,1}}}}function Pp(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function ou(r,e){let t=!1;for(let i of e)Io(r,i)&1&&(t=!0);return t}function X$(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let c=[];for(let h=0;h<i.length;h++){let f=sc(l,i[h]);if(n[h]==2)for(let u of f)c.push(u);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)Io(l,c);return l.values[o]=a(l),1},update(l,c){if(!ou(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=ou(l,i),f=c.config.facets[e.id],u=c.facet(e);if(f&&!h&&_d(t,f))return l.values[o]=u,0;let d=a(l);return e.compare(d,u)?(l.values[o]=u,0):(l.values[o]=d,1)}}}const il=G.define({static:!0});class gr{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new gr($d++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(il).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,n)=>{let s=i.facet(il),o=n.facet(il),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[t]=a.create(i),1):n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,il.of({field:this,create:e})]}get extension(){return this}}const Xn={lowest:4,low:3,default:2,high:1,highest:0};function So(r){return e=>new hb(e,r)}const gn={highest:So(Xn.highest),high:So(Xn.high),default:So(Xn.default),low:So(Xn.low),lowest:So(Xn.lowest)};class hb{constructor(e,t){this.inner=e,this.prec=t}}class In{of(e){return new au(this,e)}reconfigure(e){return In.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class au{constructor(e,t){this.compartment=e,this.inner=t}}class nc{constructor(e,t,i,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),o=new Map;for(let u of M$(e,t,o))u instanceof gr?n.push(u):(s[u.facet.id]||(s[u.facet.id]=[])).push(u);let a=Object.create(null),l=[],c=[];for(let u of n)a[u.id]=c.length<<1,c.push(d=>u.slot(d));let h=i?.config.facets;for(let u in s){let d=s[u],O=d[0].facet,p=h&&h[u]||[];if(d.every(m=>m.type==0))if(a[O.id]=l.length<<1|1,_d(p,d))l.push(i.facet(O));else{let m=O.combine(d.map(b=>b.value));l.push(i&&O.compare(m,i.facet(O))?i.facet(O):m)}else{for(let m of d)m.type==0?(a[m.id]=l.length<<1|1,l.push(m.value)):(a[m.id]=c.length<<1,c.push(b=>m.dynamicSlot(b)));a[O.id]=c.length<<1,c.push(m=>X$(m,O,d))}}let f=c.map(u=>u(a));return new nc(e,o,f,a,l,s)}}function M$(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof au&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof au){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof hb)s(o.inner,o.prec);else if(o instanceof gr)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Xl)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Xn.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(r,Xn.default),i.reduce((o,a)=>o.concat(a))}function Io(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function sc(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const fb=G.define(),lu=G.define({combine:r=>r.some(e=>e),static:!0}),ub=G.define({combine:r=>r.length?r[0]:void 0,static:!0}),db=G.define(),Ob=G.define(),pb=G.define(),gb=G.define({combine:r=>r.length?r[0]:!1});class Di{constructor(e,t){this.type=e,this.value=t}static define(){return new Z$}}class Z${of(e){return new Di(this,e)}}class L${constructor(e){this.map=e}of(e){return new xe(this,e)}}class xe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new xe(this.type,t)}is(e){return this.type==e}static define(e={}){return new L$(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}xe.reconfigure=xe.define();xe.appendConfig=xe.define();class ft{constructor(e,t,i,n,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&cb(i,t.newLength),s.some(a=>a.type==ft.time)||(this.annotations=s.concat(ft.time.of(Date.now())))}static create(e,t,i,n,s,o){return new ft(e,t,i,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ft.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ft.time=Di.define();ft.userEvent=Di.define();ft.addToHistory=Di.define();ft.remote=Di.define();function q$(r,e){let t=[];for(let i=0,n=0;;){let s,o;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],o=r[i++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function mb(r,e,t){var i;let n,s,o;return t?(n=e.changes,s=ut.empty(e.changes.length),o=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:xe.mapEffects(r.effects,n).concat(xe.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function cu(r,e,t){let i=e.selection,n=Ps(e.annotations);return e.userEvent&&(n=n.concat(ft.userEvent.of(e.userEvent))),{changes:e.changes instanceof ut?e.changes:ut.of(e.changes||[],t,r.facet(ub)),selection:i&&(i instanceof A?i:A.single(i.anchor,i.head)),effects:Ps(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function yb(r,e,t){let i=cu(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=mb(i,cu(r,e[s],o?i.changes.newLength:r.doc.length),o)}let n=ft.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return z$(t?D$(n):n)}function D$(r){let e=r.startState,t=!0;for(let n of e.facet(db)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:q$(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=ut.empty(e.doc.length);else{let o=r.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=ft.create(e,n,r.selection&&r.selection.map(s),xe.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(Ob);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof ft?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ft?r=s[0]:r=yb(e,Ps(s),!1)}return r}function z$(r){let e=r.startState,t=e.facet(pb),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=mb(i,cu(e,s,r.changes.newLength),!0))}return i==r?r:ft.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const B$=[];function Ps(r){return r==null?B$:Array.isArray(r)?r:[r]}var nt=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(nt||(nt={}));const I$=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let hu;try{hu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function N$(r){if(hu)return hu.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||I$.test(t)))return!0}return!1}function V$(r){return e=>{if(!/\S/.test(e))return nt.Space;if(N$(e))return nt.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return nt.Word;return nt.Other}}class Pe{constructor(e,t,i,n,s,o){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Io(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Io(this,i),sc(this,i)}update(...e){return yb(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let a of e.effects)a.is(In.reconfigure)?(t&&(n=new Map,t.compartments.forEach((l,c)=>n.set(c,l)),t=null),n.set(a.value.compartment,a.value.extension)):a.is(xe.reconfigure)?(t=null,i=a.value):a.is(xe.appendConfig)&&(t=null,i=Ps(i).concat(a.value));let s;t?s=e.startState.values.slice():(t=nc.resolve(i,n,this),s=new Pe(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(lu)?e.newSelection:e.newSelection.asSingle();new Pe(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:A.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],o=Ps(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(n);for(let u=0;u<a;u++)s[u]=s[u].map(h);let f=n.mapDesc(c,!0);s.push(l.range.map(f)),n=n.compose(h),o=xe.mapEffects(o,h).concat(xe.mapEffects(Ps(l.effects),f))}return{changes:n,selection:A.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof ut?e:ut.of(e,this.doc.length,this.facet(Pe.lineSeparator))}toText(e){return Te.of(e.split(this.facet(Pe.lineSeparator)||iu))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Io(this,t),sc(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof gr&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Pe.create({doc:e.doc,selection:A.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=nc.resolve(e.extensions||[],new Map),i=e.doc instanceof Te?e.doc:Te.of((e.doc||"").split(t.staticFacet(Pe.lineSeparator)||iu)),n=e.selection?e.selection instanceof A?e.selection:A.single(e.selection.anchor,e.selection.head):A.single(0);return cb(n,i.length),t.staticFacet(lu)||(n=n.asSingle()),new Pe(t,i,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Pe.tabSize)}get lineBreak(){return this.facet(Pe.lineSeparator)||`
`}get readOnly(){return this.facet(gb)}phrase(e,...t){for(let i of this.facet(Pe.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(fb))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return V$(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=kt(t,o,!1);if(s(t.slice(l,o))!=nt.Word)break;o=l}for(;a<n;){let l=kt(t,a);if(s(t.slice(a,l))!=nt.Word)break;a=l}return o==a?null:A.range(o+i,a+i)}}Pe.allowMultipleSelections=lu;Pe.tabSize=G.define({combine:r=>r.length?r[0]:4});Pe.lineSeparator=ub;Pe.readOnly=gb;Pe.phrases=G.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});Pe.languageData=fb;Pe.changeFilter=db;Pe.transactionFilter=Ob;Pe.transactionExtender=pb;In.reconfigure=xe.define();function as(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let o=n[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class Fn{eq(e){return this==e}range(e,t=e){return fu.create(e,t,this)}}Fn.prototype.startSide=Fn.prototype.endSide=0;Fn.prototype.point=!1;Fn.prototype.mapMode=jt.TrackDel;let fu=class bb{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new bb(e,t,i)}};function uu(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Cd{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,f=this.to[l]+e,u,d;if(h==f){let O=t.mapPos(h,c.startSide,c.mapMode);if(O==null||(u=d=O,c.startSide!=c.endSide&&(d=t.mapPos(h,c.endSide),d<u)))continue}else if(u=t.mapPos(h,c.startSide),d=t.mapPos(f,c.endSide),u>d||u==d&&c.startSide>0&&c.endSide<=0)continue;(d-u||c.endSide-c.startSide)<0||(o<0&&(o=u),c.point&&(a=Math.max(a,d-u)),i.push(c),n.push(u-o),s.push(d-o))}return{mapped:i.length?new Cd(n,s,i,a):null,pos:o}}}class Ee{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new Ee(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(uu)),this.isEmpty)return t.length?Ee.of(t):this;let a=new vb(this,null,-1).goto(0),l=0,c=[],h=new Hn;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let f=t[l++];h.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(fu.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Ee.empty:this.nextLayer.update({add:c,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:f}=l.map(a,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),i.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ee(i,t,s||Ee.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return na.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return na.from(e).goto(t)}static compare(e,t,i,n,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=Tp(o,a,i),c=new xo(o,l,s),h=new xo(a,l,s);i.iterGaps((f,u,d)=>$p(c,f,h,u,d,n)),i.empty&&i.length==0&&$p(c,0,h,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=999999999);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Tp(s,o),l=new xo(s,a,0).goto(i),c=new xo(o,a,0).goto(i);for(;;){if(l.to!=c.to||!du(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>n)return!0;l.next(),c.next()}}static spans(e,t,i,n,s=-1){let o=new xo(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),f=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,l);n.point(a,c,o.point,h,f,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(n.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Hn;for(let n of e instanceof fu?[e]:t?W$(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(e){if(!e.length)return Ee.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let n=e[i];n!=Ee.empty;n=n.nextLayer)t=new Ee(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}Ee.empty=new Ee([],[],null,-1);function W$(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(uu(e,i)>0)return r.slice().sort(uu);e=i}return r}Ee.empty.nextLayer=Ee.empty;class Hn{finishChunk(e){this.chunks.push(new Cd(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Hn)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ee.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ee.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Tp(r,e,t){let i=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!t?.touchesRange(a,a+s.chunk[o].length)&&n.add(s.chunk[o])}return n}class vb{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class na{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new vb(o,t,i,s));return n.length==1?n[0]:new na(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Eh(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Eh(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Eh(this.heap,0)}}}function Eh(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class xo{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=na.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){nl(this.active,e),nl(this.activeTo,e),nl(this.activeRank,e),this.minActive=_p(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||n-this.activeTo[t])>0;)t++;sl(this.active,t,i),sl(this.activeTo,t,n),sl(this.activeRank,t,s),e&&sl(e,t,this.cursor.from),this.minActive=_p(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&nl(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function $p(r,e,t,i,n,s){r.goto(e),t.goto(i);let o=i+n,a=i,l=i-e;for(;;){let c=r.to+l-t.to,h=c||r.endSide-t.endSide,f=h<0?r.to+l:t.to,u=Math.min(f,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&du(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(a,u,r.point,t.point):u>a&&!du(r.active,t.active)&&s.compareRange(a,u,r.active,t.active),f>o)break;(c||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(f),a=f,h<=0&&r.next(),h>=0&&t.next()}}function du(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function nl(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function sl(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function _p(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function fi(r,e,t=r.length){let i=0;for(let n=0;n<t&&n<r.length;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=kt(r,n));return i}function j$(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=kt(r,n)}return r.length}const Ou="",Cp=typeof Symbol>"u"?"__"+Ou:Symbol.for(Ou),pu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class cn{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],f=/^@(\w+)\b/.exec(o[0]),u=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let d in a){let O=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(p=>o.map(m=>p.replace(/&/,m))).reduce((p,m)=>p.concat(m)),O,l);else if(O&&typeof O=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(n(d),O,h,u)}else O!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,p=>"-"+p.toLowerCase())+": "+O+";")}(h.length||u)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ap[Cp]||1;return Ap[Cp]=e+1,Ou+e.toString(36)}static mount(e,t,i){let n=e[pu],s=i&&i.nonce;n?s&&n.setNonce(s):n=new U$(e,s),n.mount(Array.isArray(t)?t:[t],e)}}let Ep=new Map;class U${constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=Ep.get(i);if(s)return e[pu]=s;this.sheet=new n.CSSStyleSheet,Ep.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[pu]=this}mount(e,t){let i=this.sheet,n=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=a.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var hn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Y$=typeof navigator<"u"&&/Mac/.test(navigator.platform),G$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)hn[48+xt]=hn[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)hn[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)hn[xt]=String.fromCharCode(xt+32),sa[xt]=String.fromCharCode(xt);for(var Rh in hn)sa.hasOwnProperty(Rh)||(sa[Rh]=hn[Rh]);function F$(r){var e=Y$&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||G$&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?sa:hn)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function vt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];typeof n=="string"?r.setAttribute(i,n):n!=null&&(r[i]=n)}e++}for(;e<arguments.length;e++)Sb(r,arguments[e]);return r}function Sb(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Sb(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Wt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},gu=typeof document<"u"?document:{documentElement:{style:{}}};const mu=/Edge\/(\d+)/.exec(Wt.userAgent),xb=/MSIE \d/.test(Wt.userAgent),yu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wt.userAgent),Gc=!!(xb||yu||mu),Rp=!Gc&&/gecko\/(\d+)/i.test(Wt.userAgent),Xh=!Gc&&/Chrome\/(\d+)/.exec(Wt.userAgent),H$="webkitFontSmoothing"in gu.documentElement.style,bu=!Gc&&/Apple Computer/.test(Wt.vendor),Xp=bu&&(/Mobile\/\w+/.test(Wt.userAgent)||Wt.maxTouchPoints>2);var W={mac:Xp||/Mac/.test(Wt.platform),windows:/Win/.test(Wt.platform),linux:/Linux|X11/.test(Wt.platform),ie:Gc,ie_version:xb?gu.documentMode||6:yu?+yu[1]:mu?+mu[1]:0,gecko:Rp,gecko_version:Rp?+(/Firefox\/(\d+)/.exec(Wt.userAgent)||[0,0])[1]:0,chrome:!!Xh,chrome_version:Xh?+Xh[1]:0,ios:Xp,android:/Android\b/.test(Wt.userAgent),webkit_version:H$?+(/\bAppleWebKit\/(\d+)/.exec(Wt.userAgent)||[0,0])[1]:0,safari:bu,safari_version:bu?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Wt.userAgent)||[0,0])[1]:0,tabSize:gu.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function oa(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function vu(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Ml(r,e){if(!e.anchorNode)return!1;try{return vu(r,e.anchorNode)}catch{return!1}}function aa(r){return r.nodeType==3?Jn(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function No(r,e,t,i){return t?Mp(r,e,t,i,-1)||Mp(r,e,t,i,1):!1}function Kn(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function oc(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function Mp(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:ui(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Kn(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?ui(r):0}else return!1}}function ui(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Fc(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function K$(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Qb(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function J$(r,e,t,i,n,s,o,a){let l=r.ownerDocument,c=l.defaultView||window;for(let h=r,f=!1;h&&!f;)if(h.nodeType==1){let u,d=h==l.body,O=1,p=1;if(d)u=K$(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(f=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let v=h.getBoundingClientRect();({scaleX:O,scaleY:p}=Qb(h,v)),u={left:v.left,right:v.left+h.clientWidth*O,top:v.top,bottom:v.top+h.clientHeight*p}}let m=0,b=0;if(n=="nearest")e.top<u.top?(b=e.top-(u.top+o),t>0&&e.bottom>u.bottom+b&&(b=e.bottom-u.bottom+o)):e.bottom>u.bottom&&(b=e.bottom-u.bottom+o,t<0&&e.top-b<u.top&&(b=e.top-(u.top+o)));else{let v=e.bottom-e.top,x=u.bottom-u.top;b=(n=="center"&&v<=x?e.top+v/2-x/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-x+o)-u.top}if(i=="nearest"?e.left<u.left?(m=e.left-(u.left+s),t>0&&e.right>u.right+m&&(m=e.right-u.right+s)):e.right>u.right&&(m=e.right-u.right+s,t<0&&e.left<u.left+m&&(m=e.left-(u.left+s))):m=(i=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:i=="start"==a?e.left-s:e.right-(u.right-u.left)+s)-u.left,m||b)if(d)c.scrollBy(m,b);else{let v=0,x=0;if(b){let Q=h.scrollTop;h.scrollTop+=b/p,x=(h.scrollTop-Q)*p}if(m){let Q=h.scrollLeft;h.scrollLeft+=m/O,v=(h.scrollLeft-Q)*O}e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x},v&&Math.abs(v-m)<1&&(i="nearest"),x&&Math.abs(x-b)<1&&(n="nearest")}if(d)break;(e.top<u.top||e.bottom>u.bottom||e.left<u.left||e.right>u.right)&&(e={left:Math.max(e.left,u.left),right:Math.min(e.right,u.right),top:Math.max(e.top,u.top),bottom:Math.min(e.bottom,u.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function e_(r){let e=r.ownerDocument,t,i;for(let n=r.parentNode;n&&!(n==e.body||t&&i);)if(n.nodeType==1)!i&&n.scrollHeight>n.clientHeight&&(i=n),!t&&n.scrollWidth>n.clientWidth&&(t=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:t,y:i}}class t_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ui(t):0),i,Math.min(e.focusOffset,i?ui(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let _n=null;W.safari&&W.safari_version>=26&&(_n=!1);function wb(r){if(r.setActive)return r.setActive();if(_n)return r.focus(_n);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(_n==null?{get preventScroll(){return _n={preventScroll:!0},!0}}:void 0),!_n){_n=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Zp;function Jn(r,e,t=e){let i=Zp||(Zp=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function Ts(r,e,t,i){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,r.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function r_(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function kb(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function i_(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ui(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=ui(t))}else{if(t==r)return!0;i=Kn(t),t=t.parentNode}}function Pb(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function Tb(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=ui(t)}else if(t.parentNode&&!oc(t))i=Kn(t),t=t.parentNode;else return null}}function $b(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!oc(t))i=Kn(t)+1,t=t.parentNode;else return null}}class Xt{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Xt(e.parentNode,Kn(e),t)}static after(e,t){return new Xt(e.parentNode,Kn(e)+1,t)}}const Ad=[];class Xe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=n?n.nextSibling:i.firstChild)){let a=Xe.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Lp(s);else i.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Lp(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=ui(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Xe.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,h=i;l<this.children.length;l++){let f=this.children[l],u=c+f.length;if(c<e&&u>t)return f.domBoundsAround(e,t,c);if(u>=e&&n==-1&&(n=l,s=c),c>t&&f.dom.parentNode==this.dom){o=l,a=h;break}h=u,c=u+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Ad){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new _b(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Xe.prototype.breakAfter=0;function Lp(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class _b{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Cb(r,e,t,i,n,s,o,a,l){let{children:c}=r,h=c.length?c[e]:null,f=s.length?s[s.length-1]:null,u=f?f.breakAfter:o;if(!(e==i&&h&&!o&&!u&&s.length<2&&h.merge(t,n,s.length?f:null,t==0,a,l))){if(i<c.length){let d=c[i];d&&(n<d.length||d.breakAfter&&f?.breakAfter)?(e==i&&(d=d.split(n),n=0),!u&&f&&d.merge(0,n,f,!0,0,l)?s[s.length-1]=d:((n||d.children.length&&!d.children[0].length)&&d.merge(0,n,null,!1,0,l),s.push(d))):d?.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function Ab(r,e,t,i,n,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),f=e-t;for(let u of i)f+=u.length;r.length+=f,Cb(r,c,h,a,l,i,0,n,s)}const n_=256;class zr extends Xe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof zr)||this.length-(t-e)+i.length>n_||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Xt(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return s_(this.dom,e,t)}}class Ri extends Xe{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(kb(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,o){return i&&(!(i instanceof Ri&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(Ab(this,e,t,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),n<0&&i>=e&&(n=s),i=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Ri(this.mark,t,o)}domAtPos(e){return Eb(this,e)}coordsAt(e,t){return Xb(this,e,t)}}function s_(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?W.chrome||W.gecko||(e?(n--,o=1):s<i&&(s++,o=-1)):t<0?n--:s<i&&s++;let a=Jn(r,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return W.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Fc(l,o<0):l||null}class Ji extends Xe{static create(e,t,i){return new Ji(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Ji.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,n,s,o){return i&&(!(i instanceof Ji)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Ji&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Te.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):Te.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Xt.before(this.dom):Xt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?n.length-1:0;s=n[a],!(e>0?a==0:a==n.length-1||s.top<s.bottom);a+=o?-1:1);return Fc(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ns extends Xe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ns&&e.side==this.side}split(){return new Ns(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Xt.before(this.dom):Xt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Te.empty}get isHidden(){return!0}}zr.prototype.children=Ji.prototype.children=Ns.prototype.children=Ad;function Eb(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let o=i[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Xt(t,0)}function Rb(r,e,t){let i,{children:n}=r;t>0&&e instanceof Ri&&n.length&&(i=n[n.length-1])instanceof Ri&&i.mark.eq(e.mark)?Rb(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function Xb(r,e,t){let i=null,n=-1,s=null,o=-1;function a(c,h){for(let f=0,u=0;f<c.children.length&&u<=h;f++){let d=c.children[f],O=u+d.length;O>=h&&(d.children.length?a(d,h-u):(!s||s.isHidden&&(t>0||a_(s,d)))&&(O>h||u==O&&d.getSide()>0)?(s=d,o=h-u):(u<h||u==O&&d.getSide()<0&&!d.isHidden)&&(i=d,n=h-u)),u=O}}a(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:o),t):o_(r)}function o_(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=aa(e);return t[t.length-1]||null}function a_(r,e){let t=r.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function Su(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const qp=Object.create(null);function ac(r,e,t){if(r==e)return!0;r||(r=qp),e||(e=qp);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function xu(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function l_(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class so{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ar=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Ar||(Ar={}));class he extends Fn{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new _a(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new fn(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:o}=Mb(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new fn(e,i,n,t,e.widget||null,!0)}static line(e){return new Ca(e)}static set(e,t=!1){return Ee.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}he.none=Ee.empty;class _a extends he{constructor(e){let{start:t,end:i}=Mb(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof _a&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&ac(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}_a.prototype.point=!1;class Ca extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ca&&this.spec.class==e.spec.class&&ac(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ca.prototype.mapMode=jt.TrackBefore;Ca.prototype.point=!0;class fn extends he{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?jt.TrackBefore:jt.TrackAfter:jt.TrackDel}get type(){return this.startSide!=this.endSide?Ar.WidgetRange:this.startSide<=0?Ar.WidgetBefore:Ar.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof fn&&c_(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}fn.prototype.point=!0;function Mb(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function c_(r,e){return r==e||!!(r&&e&&r.compare(e))}function Zl(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class ct extends Xe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,o){if(i){if(!(i instanceof ct))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),Ab(this,e,t,i?i.children.slice():[],s,o),!0}split(e){let t=new ct;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ac(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Rb(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Su(t,this.attrs||{})),i&&(this.attrs=Su({class:i},this.attrs||{}))}domAtPos(e){return Eb(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(kb(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(xu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&Xe.get(n)instanceof Ri;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=Xe.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!W.ios||!this.children.some(s=>s instanceof zr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof zr)||/[^ -~]/.test(i.text))return null;let n=aa(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Xb(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let o=(s-n.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof ct&&this.children.length==0&&e.children.length==0&&ac(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],o=n+s.length;if(o>=t){if(s instanceof ct)return s;if(o>t)break}n=o+s.breakAfter}return null}}class Ci extends Xe{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,o){return i&&(!(i instanceof Ci)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Xt.before(this.dom):Xt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ci(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Ad}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Te.empty}domBoundsAround(){return null}become(e){return e instanceof Ci&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof Qu?null:Fc(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Qu extends so{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Vo{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ci&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ct),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ol(new Ns(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ci)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e),s=Math.min(n,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(ol(new zr(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=n<=s?0:t.length}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof fn){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof fn)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ci(i.widget||Vs.block,a,i));else{let l=Ji.create(i.widget||Vs.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),c&&(f.append(ol(new Ns(1),n),s),s=n.length+Math.max(0,s-n.length)),f.append(ol(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let o=new Vo(e,t,i,s);return o.openEnd=Ee.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ol(r,e){for(let t of e)r=new Ri(t,[r],r.length);return r}class Vs extends so{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Vs.inline=new Vs("span");Vs.block=new Vs("div");var st=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(st||(st={}));const es=st.LTR,Ed=st.RTL;function Zb(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const h_=Zb("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),f_=Zb("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),wu=Object.create(null),Yr=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);wu[e]=t,wu[t]=-e}function Lb(r){return r<=247?h_[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?f_[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const u_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class en{get dir(){return this.level%2?Ed:es}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function qb(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!qb(i.inner,n.inner))return!1}return!0}const Ze=[];function d_(r,e,t,i,n){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:n;for(let c=o,h=l,f=l;c<a;c++){let u=Lb(r.charCodeAt(c));u==512?u=h:u==8&&f==4&&(u=16),Ze[c]=u==4?2:u,u&7&&(f=u),h=u}for(let c=o,h=l,f=l;c<a;c++){let u=Ze[c];if(u==128)c<a-1&&h==Ze[c+1]&&h&24?u=Ze[c]=h:Ze[c]=256;else if(u==64){let d=c+1;for(;d<a&&Ze[d]==64;)d++;let O=c&&h==8||d<t&&Ze[d]==8?f==1?1:8:256;for(let p=c;p<d;p++)Ze[p]=O;c=d-1}else u==8&&f==1&&(Ze[c]=1);h=u,u&7&&(f=u)}}}function O_(r,e,t,i,n){let s=n==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,h=o<i.length?i[o].from:t;for(let f=c,u,d,O;f<h;f++)if(d=wu[u=r.charCodeAt(f)])if(d<0){for(let p=a-3;p>=0;p-=3)if(Yr[p+1]==-d){let m=Yr[p+2],b=m&2?n:m&4?m&1?s:n:0;b&&(Ze[f]=Ze[Yr[p]]=b),a=p;break}}else{if(Yr.length==189)break;Yr[a++]=f,Yr[a++]=u,Yr[a++]=l}else if((O=Ze[f])==2||O==1){let p=O==n;l=p?0:1;for(let m=a-3;m>=0;m-=3){let b=Yr[m+2];if(b&2)break;if(p)Yr[m+2]|=2;else{if(b&4)break;Yr[m+2]|=4}}}}}function p_(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let o=n?t[n-1].to:r,a=n<t.length?t[n].from:e;for(let l=o;l<a;){let c=Ze[l];if(c==256){let h=l+1;for(;;)if(h==a){if(n==t.length)break;h=t[n++].to,a=n<t.length?t[n].from:e}else if(Ze[h]==256)h++;else break;let f=s==1,u=(h<e?Ze[h]:i)==1,d=f==u?f?1:2:i;for(let O=h,p=n,m=p?t[p-1].to:r;O>l;)O==m&&(O=t[--p].from,m=p?t[p-1].to:r),Ze[--O]=d;l=h}else s=c,l++}}}function ku(r,e,t,i,n,s,o){let a=i%2?2:1;if(i%2==n%2)for(let l=e,c=0;l<t;){let h=!0,f=!1;if(c==s.length||l<s[c].from){let p=Ze[l];p!=a&&(h=!1,f=p==16)}let u=!h&&a==1?[]:null,d=h?i:i+1,O=l;e:for(;;)if(c<s.length&&O==s[c].from){if(f)break e;let p=s[c];if(!h)for(let m=p.to,b=c+1;;){if(m==t)break e;if(b<s.length&&s[b].from==m)m=s[b++].to;else{if(Ze[m]==a)break e;break}}if(c++,u)u.push(p);else{p.from>l&&o.push(new en(l,p.from,d));let m=p.direction==es!=!(d%2);Pu(r,m?i+1:i,n,p.inner,p.from,p.to,o),l=p.to}O=p.to}else{if(O==t||(h?Ze[O]!=a:Ze[O]==a))break;O++}u?ku(r,l,O,i+1,n,u,o):l<O&&o.push(new en(l,O,d)),l=O}else for(let l=t,c=s.length;l>e;){let h=!0,f=!1;if(!c||l>s[c-1].to){let p=Ze[l-1];p!=a&&(h=!1,f=p==16)}let u=!h&&a==1?[]:null,d=h?i:i+1,O=l;e:for(;;)if(c&&O==s[c-1].to){if(f)break e;let p=s[--c];if(!h)for(let m=p.from,b=c;;){if(m==e)break e;if(b&&s[b-1].to==m)m=s[--b].from;else{if(Ze[m-1]==a)break e;break}}if(u)u.push(p);else{p.to<l&&o.push(new en(p.to,l,d));let m=p.direction==es!=!(d%2);Pu(r,m?i+1:i,n,p.inner,p.from,p.to,o),l=p.from}O=p.from}else{if(O==e||(h?Ze[O-1]!=a:Ze[O-1]==a))break;O--}u?ku(r,O,l,i+1,n,u,o):O<l&&o.push(new en(O,l,d)),l=O}}function Pu(r,e,t,i,n,s,o){let a=e%2?2:1;d_(r,n,s,i,a),O_(r,n,s,i,a),p_(n,s,i,a),ku(r,n,s,e,t,i,o)}function g_(r,e,t){if(!r)return[new en(0,0,e==Ed?1:0)];if(e==es&&!t.length&&!u_.test(r))return Db(r.length);if(t.length)for(;r.length>Ze.length;)Ze[Ze.length]=256;let i=[],n=e==es?0:1;return Pu(r,n,n,t,0,r.length,i),i}function Db(r){return[new en(0,r,0)]}let zb="";function m_(r,e,t,i,n){var s;let o=i.head-r.from,a=en.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(n,t);if(o==c){let u=a+=n?1:-1;if(u<0||u>=e.length)return null;l=e[a=u],o=l.side(!n,t),c=l.side(n,t)}let h=kt(r.text,o,l.forward(n,t));(h<l.from||h>l.to)&&(h=c),zb=r.text.slice(Math.min(o,h),Math.max(o,h));let f=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return f&&h==c&&f.level+(n?0:1)<l.level?A.cursor(f.side(!n,t)+r.from,f.forward(n,t)?1:-1,f.level):A.cursor(h+r.from,l.forward(n,t)?-1:1,l.level)}function y_(r,e,t){for(let i=e;i<t;i++){let n=Lb(r.charCodeAt(i));if(n==1)return es;if(n==2||n==4)return Ed}return es}const Bb=G.define(),Ib=G.define(),Nb=G.define(),Vb=G.define(),Tu=G.define(),Wb=G.define(),jb=G.define(),Rd=G.define(),Xd=G.define(),Ub=G.define({combine:r=>r.some(e=>e)}),b_=G.define({combine:r=>r.some(e=>e)}),Yb=G.define();class $s{constructor(e,t="nearest",i="nearest",n=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new $s(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new $s(A.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const al=xe.define({map:(r,e)=>r.map(e)}),Gb=xe.define();function Or(r,e,t){let i=r.facet(Vb);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ki=G.define({combine:r=>r.length?r[0]:!0});let v_=0;const Ss=G.define({combine(r){return r.filter((e,t)=>{for(let i=0;i<t;i++)if(r[i].plugin==e.plugin)return!1;return!0})}});class Yt{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Ss.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Ss.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:o}=t||{};return new Yt(v_++,e,i,n,a=>{let l=[];return o&&l.push(la.of(c=>{let h=c.plugin(a);return h?o(h):he.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Yt.define((i,n)=>new e(i,n),t)}}class Mh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Or(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Or(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Or(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Fb=G.define(),Md=G.define(),la=G.define(),Hb=G.define(),Aa=G.define(),Kb=G.define();function Dp(r,e){let t=r.state.facet(Kb);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(r):s),n=[];return Ee.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,h=o-e.from,f=n;for(let u=a.length-1;u>=0;u--,l--){let d=a[u].spec.bidiIsolate,O;if(d==null&&(d=y_(e.text,c,h)),l>0&&f.length&&(O=f[f.length-1]).to==c&&O.direction==d)O.to=h,f=O.inner;else{let p={from:c,to:h,direction:d,inner:[]};f.push(p),f=p.inner}}}}),n}const Jb=G.define();function Zd(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(Jb)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:t,top:i,bottom:n}}const Ao=G.define();class Er{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new Er(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let f=t[s],u=t[s+1],d=Math.max(a,f),O=Math.min(h,u);if(d<=O&&new Er(d+c,O+c,d,O).addToSet(i),u>h)break;s+=2}if(!l)return i;new Er(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class lc{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=ut.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Er(s,o,a,l))),this.changedRanges=n}static create(e,t,i){return new lc(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class zp extends Xe{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=he.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ct],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Er(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!T_(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?x_(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;i=new Er(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(W.ie||W.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=k_(o,a,e.changes);return i=Er.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=W.chrome||W.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ci&&o.widget instanceof Qu&&s.push(o.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=n.length-1;;o--){let a=o>=0?n[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:f}=a,u,d,O,p;if(i&&i.range.fromB<f&&i.range.toB>h){let Q=Vo.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),S=Vo.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);d=Q.breakAtStart,O=Q.openStart,p=S.openEnd;let P=this.compositionView(i);S.breakAtStart?P.breakAfter=1:S.content.length&&P.merge(P.length,P.length,S.content[0],!1,S.openStart,0)&&(P.breakAfter=S.content[0].breakAfter,S.content.shift()),Q.content.length&&P.merge(0,0,Q.content[Q.content.length-1],!0,0,Q.openEnd)&&Q.content.pop(),u=Q.content.concat(P).concat(S.content)}else({content:u,breakAtStart:d,openStart:O,openEnd:p}=Vo.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:m,off:b}=s.findPos(c,1),{i:v,off:x}=s.findPos(l,-1);Cb(this,v,x,m,b,u,d,O,p)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(Gb)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new zr(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Ri(n,[t],t.length);let i=new ct;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Xe.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&!(this.view.state.facet(ki)||this.dom.tabIndex>-1)&&Ml(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(W.gecko&&a.empty&&!this.hasComposition&&S_(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Xt(f,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!No(l.node,l.offset,h.anchorNode,h.anchorOffset)||!No(c.node,c.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{W.android&&W.chrome&&this.dom.contains(h.focusNode)&&P_(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=oa(this.view.root);if(f)if(a.empty){if(W.gecko){let u=Q_(l.node,l.offset);if(u&&u!=3){let d=(u==1?Tb:$b)(l.node,l.offset);d&&(l=new Xt(d.node,d.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let u=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),u.setEnd(c.node,c.offset),u.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(u)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Xt(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new Xt(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&No(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=oa(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=ct.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=Xe.get(t.childNodes[n]);s instanceof ct&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=Xe.get(t.childNodes[n]);s instanceof ct&&(i=s.domAtPos(s.length))}return i?new Xt(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=Xe.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof ct)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof ct&&!(i instanceof ct&&t>=0)))i=a,n=c;else if(i&&c==e&&l==e&&a instanceof Ci&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof ct))return null;for(;n.children.length;){let{i:a,off:l}=n.childPos(i,1);for(;;a++){if(a==n.children.length)return null;if((n=n.children[a]).length)break}i=l}if(!(n instanceof zr))return null;let s=kt(n.text,i);if(s==i)return null;let o=Jn(n.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==st.LTR;for(let c=0,h=0;h<this.children.length;h++){let f=this.children[h],u=c+f.length;if(u>n)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(t.push(d.height),o){let O=f.dom.lastChild,p=O?aa(O):[];if(p.length){let m=p[p.length-1],b=l?m.right-d.left:d.right-m.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=u)}}}c=u+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?st.RTL:st.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ct){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=aa(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new _b(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(he.replace({widget:new Qu(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return he.set(e)}updateDeco(){let e=1,t=this.view.state.facet(la).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(Hb).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=i,t.push(Ee.join(n))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(Yb))try{if(c(this.view,e.range,e))return!0}catch(h){Or(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=Zd(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;J$(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==st.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let i=n=>n instanceof Ji||n.children.some(i);return i(this.children[t])}}function S_(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function ev(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let i=Tb(t.focusNode,t.focusOffset),n=$b(t.focusNode,t.focusOffset),s=i||n;if(n&&i&&n.node!=i.node){let a=Xe.get(n.node);if(!a||a instanceof zr&&a.text!=n.node.nodeValue)s=n;else if(r.docView.lastCompositionAfterCursor){let l=Xe.get(i.node);!l||l instanceof zr&&l.text!=i.node.nodeValue||(s=n)}}if(r.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function x_(r,e,t){let i=ev(r,t);if(!i)return null;let{node:n,from:s,to:o}=i,a=n.nodeValue;if(/[\n\r]/.test(a)||r.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new Er(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let f=n.parentNode;;f=f.parentNode){let u=Xe.get(f);if(u instanceof Ri)h.push({node:f,deco:u.mark});else{if(u instanceof ct||f.nodeName=="DIV"&&f.parentNode==r.contentDOM)return{range:c,text:n,marks:h,line:f};if(f!=r.contentDOM)h.push({node:f,deco:new _a({inclusive:!0,attributes:l_(f),tagName:f.tagName.toLowerCase()})});else return null}}}function Q_(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let w_=class{constructor(){this.changes=[]}compareRange(e,t){Zl(e,t,this.changes)}comparePoint(e,t){Zl(e,t,this.changes)}boundChange(e){Zl(e,e,this.changes)}};function k_(r,e,t){let i=new w_;return Ee.compare(r,e,t,i),i.changes}function P_(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function T_(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function $_(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return A.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=kt(n.text,s,!1):a=kt(n.text,s);let l=i(n.text.slice(o,a));for(;o>0;){let c=kt(n.text,o,!1);if(i(n.text.slice(c,o))!=l)break;o=c}for(;a<n.length;){let c=kt(n.text,a);if(i(n.text.slice(a,c))!=l)break;a=c}return A.range(o+n.from,a+n.from)}function __(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function C_(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function Zh(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Bp(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Ip(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function $u(r,e,t){let i,n,s,o,a=!1,l,c,h,f;for(let O=r.firstChild;O;O=O.nextSibling){let p=aa(O);for(let m=0;m<p.length;m++){let b=p[m];n&&Zh(n,b)&&(b=Bp(Ip(b,n.bottom),n.top));let v=__(e,b),x=C_(t,b);if(v==0&&x==0)return O.nodeType==3?Np(O,e,t):$u(O,e,t);(!i||o>x||o==x&&s>v)&&(i=O,n=b,s=v,o=x,a=v?e<b.left?m>0:m<p.length-1:!0),v==0?t>b.bottom&&(!h||h.bottom<b.bottom)?(l=O,h=b):t<b.top&&(!f||f.top>b.top)&&(c=O,f=b):h&&Zh(h,b)?h=Ip(h,b.bottom):f&&Zh(f,b)&&(f=Bp(f,b.top))}}if(h&&h.bottom>=t?(i=l,n=h):f&&f.top<=t&&(i=c,n=f),!i)return{node:r,offset:0};let u=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return Np(i,u,t);if(a&&i.contentEditable!="false")return $u(i,u,t);let d=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:d}}function Np(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Jn(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let f=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&f<s){let u=e>=(h.left+h.right)/2,d=u;if(W.chrome||W.gecko){let O=Jn(r,a).getBoundingClientRect();Math.abs(O.left-h.right)<.1&&(d=!u)}if(f<=0)return{node:r,offset:a+(d?1:0)};n=a+(d?1:0),s=f}}}return{node:r,offset:n>-1?n:o>0?r.nodeValue.length:0}}function tv(r,e,t,i=-1){var n,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:h,y:f}=e,u=f-a;if(u<0)return 0;if(u>c)return r.state.doc.length;for(let Q=r.viewState.heightOracle.textHeight/2,S=!1;l=r.elementAtHeight(u),l.type!=Ar.Text;)for(;u=i>0?l.bottom+Q:l.top-Q,!(u>=0&&u<=c);){if(S)return t?null:0;S=!0,i=-i}f=a+u;let d=l.from;if(d<r.viewport.from)return r.viewport.from==0?0:t?null:Vp(r,o,l,h,f);if(d>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:Vp(r,o,l,h,f);let O=r.dom.ownerDocument,p=r.root.elementFromPoint?r.root:O,m=p.elementFromPoint(h,f);m&&!r.contentDOM.contains(m)&&(m=null),m||(h=Math.max(o.left+1,Math.min(o.right-1,h)),m=p.elementFromPoint(h,f),m&&!r.contentDOM.contains(m)&&(m=null));let b,v=-1;if(m&&((n=r.docView.nearest(m))===null||n===void 0?void 0:n.isEditable)!=!1){if(O.caretPositionFromPoint){let Q=O.caretPositionFromPoint(h,f);Q&&({offsetNode:b,offset:v}=Q)}else if(O.caretRangeFromPoint){let Q=O.caretRangeFromPoint(h,f);Q&&({startContainer:b,startOffset:v}=Q)}b&&(!r.contentDOM.contains(b)||W.safari&&A_(b,v,h)||W.chrome&&E_(b,v,h))&&(b=void 0),b&&(v=Math.min(ui(b),v))}if(!b||!r.docView.dom.contains(b)){let Q=ct.find(r.docView,d);if(!Q)return u>l.top+l.height/2?l.to:l.from;({node:b,offset:v}=$u(Q.dom,h,f))}let x=r.docView.nearest(b);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let Q=x.dom.getBoundingClientRect();return e.y<Q.top||e.y<=Q.bottom&&e.x<=(Q.left+Q.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(b,v)+x.posAtStart}function Vp(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-a)*.5)/a);s+=l*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+j$(o,s,r.state.tabSize)}function rv(r,e,t){let i,n=r;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(;;){let s=n.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=n.parentNode;if(!o||o.nodeName=="DIV")break;n=o}}return Jn(r,i-1,i).getBoundingClientRect().right>t}function A_(r,e,t){return rv(r,e,t)}function E_(r,e,t){if(e!=0)return rv(r,e,t);for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():Jn(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function R_(r,e,t){let i=r.lineBlockAt(e);if(Array.isArray(i.type)){let n;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!n||s.type==Ar.Text&&(n.type!=s.type||(t<0?s.from<e:s.to>e)))&&(n=s)}}return n||i}return i}function X_(r,e,t,i){let n=R_(r,e.head,e.assoc||-1),s=!i||n.type!=Ar.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),a=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(a==st.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return A.cursor(l,t?-1:1)}return A.cursor(t?n.to:n.from,t?-1:1)}function Wp(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),o=r.textDirectionAt(n.from);for(let a=e,l=null;;){let c=m_(n,s,o,a,t),h=zb;if(!c){if(n.number==(t?r.state.doc.lines:1))return a;h=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),c=r.visualLineSide(n,!t)}if(l){if(!l(h))return a}else{if(!i)return c;l=i(h)}a=c}}function M_(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let o=i(s);return n==nt.Space&&(n=o),n==o}}function Z_(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return A.cursor(n,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(n,e.assoc||-1),h=r.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=r.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-d.from))),a=(s<0?d.top:d.bottom)+h}let f=l.left+o,u=i??r.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let O=a+(u+d)*s,p=tv(r,{x:f,y:O},!1,s);if(O<l.top||O>l.bottom||(s<0?p<n:p>n)){let m=r.docView.coordsForChar(p),b=!m||O<m.top?-1:1;return A.cursor(p,b,void 0,o)}}}function Wo(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function iv(r,e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let o=Wo(r,n.from,0);o!=n.from&&(s=A.cursor(o,-1))}else{let o=Wo(r,n.from,-1),a=Wo(r,n.to,1);(o!=n.from||a!=n.to)&&(s=A.range(n.from==n.anchor?o:a,n.from==n.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?A.create(t,e.mainIndex):e}function Lh(r,e,t){let i=Wo(r.state.facet(Aa).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:A.cursor(i,i<t.from?1:-1)}const Eo="";class L_{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Pe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Eo}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==t)break;let a=Xe.get(n),l=Xe.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:oc(n))||oc(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&!D_(o,t)&&this.lineBreak(),n=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=Xe.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(q_(e,i.node,i.offset)?t:0))}}function q_(r,e,t){for(;;){if(!e||t<ui(e))return!1;if(e==r)return!0;t=Kn(e)+1,e=e.parentNode}}function D_(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let i=Xe.get(r);if(!(i?.isWidget||r.cmIgnore))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let n=i.overrideDOMText;if(n?.length)return!1}return!0}class jp{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class z_{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:I_(e),l=new L_(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=N_(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!vu(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!vu(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((W.ios||W.chrome)&&e.state.selection.main.empty&&l!=c&&(h.from>0||h.to<e.state.doc.length)){let f=Math.min(l,c),u=Math.max(l,c),d=h.from-f,O=h.to-u;(d==0||d==1||f==0)&&(O==0||O==-1||u==e.state.doc.length)&&(l=0,c=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(A.range(c,l)):this.newSel=A.single(c,l)}}}function nv(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=n.from,c=null;(s===8||W.android&&e.text.length<a-o)&&(l=n.to,c="end");let h=sv(r.state.doc.sliceString(o,a,Eo),e.text,l-o,c);h&&(W.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Eo+Eo&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:Te.of(e.text.slice(h.from,h.toB).split(Eo))})}else i&&(!r.hasFocus&&r.state.facet(ki)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:(W.mac||W.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=A.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Te.of([t.insert.toString().replace("."," ")])}):t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:r.state.doc.lineAt(n.from).to<n.to&&r.docView.lineHasWidget(n.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:n.from,to:n.to,insert:r.state.toText(r.inputState.insertingText)}:W.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=A.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:Te.of([" "])}),t)return Ld(r,t,i,s);if(i&&!i.main.eq(n)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin,a=="select.pointer"&&(i=iv(r.state.facet(Aa).map(l=>l(r)),i))),r.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function Ld(r,e,t,i=-1){if(W.ios&&r.inputState.flushIOSKey(e))return!0;let n=r.state.selection.main;if(W.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&r.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ts(r.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&Ts(r.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&Ts(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let o,a=()=>o||(o=B_(r,e,t));return r.state.facet(Wb).some(l=>l(r,e.from,e.to,s,a))||r.dispatch(a()),!0}function B_(r,e,t){let i,n=r.state,s=n.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,c=l<0?s.from:s.to,h=Wo(n.facet(Aa).map(f=>f(r)),c,l);e.from==h&&(o=h)}if(o>-1)i={changes:e,selection:A.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let l=s.from<e.from?n.sliceDoc(s.from,e.from):"",c=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(l+e.insert.sliceString(0,void 0,r.state.lineBreak)+c))}else{let l=n.changes(e),c=t&&t.main.to<=l.newLength?t.main:void 0;if(n.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let h=r.state.sliceDoc(e.from,e.to),f,u=t&&ev(r,t.main.head);if(u){let O=e.insert.length-(e.to-e.from);f={from:u.from,to:u.to-O}}else f=r.state.doc.lineAt(s.head);let d=s.to-e.to;i=n.changeByRange(O=>{if(O.from==s.from&&O.to==s.to)return{changes:l,range:c||O.map(l)};let p=O.to-d,m=p-h.length;if(r.state.sliceDoc(m,p)!=h||p>=f.from&&m<=f.to)return{range:O};let b=n.changes({from:m,to:p,insert:e.insert}),v=O.to-s.to;return{changes:b,range:c?A.range(Math.max(0,c.anchor+v),Math.max(0,c.head+v)):O.map(b)}})}else i={changes:l,selection:c&&n.selection.replaceRange(c)}}let a="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,a+=".compose",r.inputState.compositionFirstChange&&(a+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:a,scrollIntoView:!0})}function sv(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function I_(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new jp(t,i)),(n!=t||s!=i)&&e.push(new jp(n,s))),e}function N_(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?A.single(t+e,i+e):null}class V_{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,W.safari&&e.contentDOM.addEventListener("input",()=>null),W.gecko&&o2(e.contentDOM.ownerDocument)}handleEvent(e){!K_(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=W_(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(n.removeEventListener(s,this.handleEvent),a=null),a||n.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&av.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),W.android&&W.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return W.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=ov.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||j_.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ts(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:W.safari&&!W.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Up(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){Or(t.state,n)}}}function W_(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec,s=n&&n.plugin.domEventHandlers,o=n&&n.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&t(a).handlers.push(Up(i.value,l))}if(o)for(let a in o){let l=o[a];l&&t(a).observers.push(Up(i.value,l))}}for(let i in Br)t(i).handlers.push(Br[i]);for(let i in Rr)t(i).observers.push(Rr[i]);return e}const ov=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],j_="dthko",av=[16,17,18,20,91,92,224,225],ll=6;function cl(r){return Math.max(0,r)*.7+8}function U_(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class Y_{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=e_(e.contentDOM),this.atoms=e.state.facet(Aa).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Pe.allowMultipleSelections)&&G_(e,t),this.dragging=H_(e,t)&&hv(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&U_(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,n=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Zd(this.view);e.clientX-l.left<=n+ll?t=-cl(n-e.clientX):e.clientX+l.right>=o-ll&&(t=cl(e.clientX-o)),e.clientY-l.top<=s+ll?i=-cl(s-e.clientY):e.clientY+l.bottom>=a-ll&&(i=cl(e.clientY-a)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=iv(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function G_(r,e){let t=r.state.facet(Bb);return t.length?t[0](e):W.mac?e.metaKey:e.ctrlKey}function F_(r,e){let t=r.state.facet(Ib);return t.length?t[0](e):W.mac?!e.altKey:!e.ctrlKey}function H_(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=oa(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function K_(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Xe.get(t))&&i.ignoreEvent(e))return!1;return!0}const Br=Object.create(null),Rr=Object.create(null),lv=W.ie&&W.ie_version<15||W.ios&&W.webkit_version<604;function J_(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),cv(r,t.value)},50)}function Hc(r,e,t){for(let i of r.facet(e))t=i(t,r);return t}function cv(r,e){e=Hc(r.state,Rd,e);let{state:t}=r,i,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(_u!=null&&t.selection.ranges.every(l=>l.empty)&&_u==s.toString()){let l=-1;i=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let f=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:f},range:A.cursor(c.from+f.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(n++);return{changes:{from:l.from,to:l.to,insert:c.text},range:A.cursor(l.from+c.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Rr.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Br.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Rr.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Rr.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Br.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(Nb))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=r2(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new Y_(r,e,t,i)),i&&r.observer.ignore(()=>{wb(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function Yp(r,e,t,i){if(i==1)return A.cursor(e,t);if(i==2)return $_(r.state,e,t);{let n=ct.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,A.range(o,a)}}let Gp=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function e2(r,e,t,i){let n=ct.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&Gp(t,i,o))return-1;let a=n.coordsAt(s,1);return a&&Gp(t,i,a)?1:o&&o.bottom>=i?-1:1}function Fp(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:e2(r,t,e.clientX,e.clientY)}}const t2=W.ie&&W.ie_version<=11;let Hp=null,Kp=0,Jp=0;function hv(r){if(!t2)return r.detail;let e=Hp,t=Jp;return Hp=r,Jp=Date.now(),Kp=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(Kp+1)%3:1}function r2(r,e){let t=Fp(r,e),i=hv(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=Fp(r,s),c,h=Yp(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let f=Yp(r,t.pos,t.bias,i),u=Math.min(f.from,h.from),d=Math.max(f.to,h.to);h=u<h.from?A.range(u,d):A.range(d,u)}return o?n.replaceRange(n.main.extend(h.from,h.to)):a&&i==1&&n.ranges.length>1&&(c=i2(n,l.pos))?c:a?n.addRange(h):A.create([h])}}}function i2(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return A.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Br.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let n=r.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,o=s+n.length;(s>=t.to||o<=t.from)&&(t=A.range(s,o))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Hc(r.state,Xd,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Br.dragend=r=>(r.inputState.draggedContent=null,!1);function eg(r,e,t,i){if(t=Hc(r.state,Rd,t),!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,o=i&&s&&F_(r,e)?{from:s.from,to:s.to}:null,a={from:n,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Br.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&eg(r,e,i.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return eg(r,e,i,!0),!0}return!1};Br.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=lv?null:e.clipboardData;return t?(cv(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(J_(r),!1)};function n2(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function s2(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),n=o.number}i=!0}return{text:Hc(r,Xd,e.join(r.lineBreak)),ranges:t,linewise:i}}let _u=null;Br.copy=Br.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=s2(r.state);if(!t&&!n)return!1;_u=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=lv?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(n2(r,t),!1)};const fv=Di.define();function uv(r,e){let t=[];for(let i of r.facet(jb)){let n=i(r,e);n&&t.push(n)}return t.length?r.update({effects:t,annotations:fv.of(!0)}):null}function dv(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=uv(r.state,e);t?r.dispatch(t):r.update([])}},10)}Rr.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),dv(r)};Rr.blur=r=>{r.observer.clearSelectionRange(),dv(r)};Rr.compositionstart=Rr.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Rr.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,W.chrome&&W.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Rr.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Br.beforeinput=(r,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=r.posAtDOM(a.startContainer,a.startOffset),c=r.posAtDOM(a.endContainer,a.endOffset);return Ld(r,{from:l,to:c,insert:r.state.toText(s)},null),!0}}let n;if(W.chrome&&W.android&&(n=ov.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return W.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),W.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Rr.compositionend(r,e),20),!1};const tg=new Set;function o2(r){tg.has(r)||(tg.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const rg=["pre-wrap","normal","pre-line","break-spaces"];let Ws=!1;function ig(){Ws=!1}class a2{constructor(e){this.lineWrapping=e,this.doc=Te.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rg.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,o){let a=rg.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class l2{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Jr{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?Ar.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof fn?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Jr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Be=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(Be||(Be={}));const Ll=.001;class Ut{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ll&&(Ws=!0),this.height=e)}replace(e,t,i){return Ut.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,o=i.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:f}=n[a],u=s.lineAt(l,Be.ByPosNoHeight,i.setDoc(t),0,0),d=u.to>=c?u:s.lineAt(c,Be.ByPosNoHeight,i,0,0);for(f+=d.to-c,c=d.to;a>0&&u.from<=n[a-1].toA;)l=n[a-1].fromA,h=n[a-1].fromB,a--,l<u.from&&(u=s.lineAt(l,Be.ByPosNoHeight,i,0,0));h+=u.from-l,l=u.from;let O=qd.build(i.setDoc(o),e,h,f);s=cc(s,s.replace(l,c,O))}return s.updateHeight(i,0)}static empty(){return new fr(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,n-=a.size}else if(s>n*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new c2(Ut.of(e.slice(0,t)),o,Ut.of(e.slice(i)))}}function cc(r,e){return r==e?r:(r.constructor!=e.constructor&&(Ws=!0),e)}Ut.prototype.size=1;class Ov extends Ut{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new Jr(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class fr extends Ov{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new Jr(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof fr||n instanceof St&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof St?n=new fr(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Ut.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class St extends Ut{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,i,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let c=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(c),f=a+h.length*l,u=Math.max(i,e-f/2);return new Jr(h.from,h.length,u,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:f}=t.doc.line(s+c);return new Jr(h,f,i+a*c,a,0)}}lineAt(e,t,i,n,s){if(t==Be.ByHeight)return this.blockAt(e,i,n,s);if(t==Be.ByPosNoHeight){let{from:d,to:O}=i.doc.lineAt(e);return new Jr(d,O-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),h=a+c.length*l,f=c.number-o,u=n+a*f+l*(c.from-s-f);return new Jr(c.from,c.length,Math.max(n,Math.min(u,n+this.height-h)),h,0)}forEachLine(e,t,i,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let h=e,f=n;h<=t;){let u=i.doc.lineAt(h);if(h==e){let O=u.number-a;f+=l*O+c*(e-s-O)}let d=l+c*u.length;o(new Jr(u.from,u.length,f,d,0)),f+=d,h=u.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof St?i[i.length-1]=new St(s.length+n):i.push(null,new St(n-1))}if(e>0){let s=i[0];s instanceof St?i[0]=new St(e+s.length):i.unshift(new St(e-1),null)}return Ut.of(i)}decomposeLeft(e,t){t.push(new St(e-1),null)}decomposeRight(e,t){t.push(null,new St(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new St(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let f=n.heights[n.index++];l==-1?l=f:Math.abs(f-l)>=Ll&&(l=-2);let u=new fr(h,f);u.outdated=!1,o.push(u),a+=h+1}a<=s&&o.push(null,new St(s-a).updateHeight(e,a));let c=Ut.of(o);return(l<0||Math.abs(c.height-this.height)>=Ll||Math.abs(l-this.heightMetrics(e,t).perLine)>=Ll)&&(Ws=!0),cc(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class c2 extends Ut{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==Be.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==Be.ByPosNoHeight?Be.ByPosNoHeight:Be.ByPos;return l?c.join(this.right.lineAt(a,h,i,o,a)):this.left.lineAt(a,h,i,n,s).join(c)}forEachLine(e,t,i,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,Be.ByPos,i,n,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,n,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&ng(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),ng(s,a)}return Ut.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ut.of(this.break?[e,null,t]:[e,t]):(this.left=cc(this.left,e),this.right=cc(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,i,n):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ng(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof St&&(i=r[e+1])instanceof St&&r.splice(e-1,3,new St(t.length+1+i.length))}const h2=5;class qd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof fr?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new fr(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Ov(o,n,i)):(o||s||n>=h2)&&this.addLineDeco(n,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new fr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new St(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof fr)return e;let t=new fr(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof fr)&&!this.isCovered?this.nodes.push(new fr(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof fr&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new qd(i,e);return Ee.spans(t,i,n,s,0),s.finish(i)}}function f2(r,e,t){let i=new u2;return Ee.compare(r,e,t,i,0),i.changes}class u2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&Zl(e,t,this.changes,5)}}function d2(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let c=r.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,f=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&f.overflow!="visible"){let u=h.getBoundingClientRect();s=Math.max(s,u.left),o=Math.min(o,u.right),a=Math.max(a,u.top),l=Math.min(c==r.parentNode?n.innerHeight:l,u.bottom)}c=f.position=="absolute"||f.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function O2(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function p2(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class qh{constructor(e,t,i,n){this.from=e,this.to=t,this.size=i,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return he.replace({widget:new g2(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class g2 extends so{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sg{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=og,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=st.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Md).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new a2(t),this.stateDeco=e.facet(la).filter(i=>typeof i!="function"),this.heightMap=Ut.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle.setDoc(e.doc),[new Er(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new hl(s,o))}}return this.viewports=e.sort((i,n)=>i.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?og:new Dd(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ro(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(la).filter(h=>typeof h!="function");let n=e.changedRanges,s=Er.extendWithRanges(n,f2(i,this.stateDeco,e?e.changes:ut.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);ig(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Ws)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(b_)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?st.RTL:st.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let{scaleX:Q,scaleY:S}=Qb(t,a);(Q>.005&&Math.abs(this.scaleX-Q)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=Q,this.scaleY=S,c|=16,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,u=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=u)&&(this.paddingTop=f,this.paddingBottom=u,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=Pb(e.scrollDOM);let O=(this.printing?p2:d2)(t,this.paddingTop),p=O.top-this.pixelViewport.top,m=O.bottom-this.pixelViewport.bottom;this.pixelViewport=O;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!O2(e.dom))return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let Q=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(Q)&&(o=!0),o||n.lineWrapping&&Math.abs(v-this.contentDOMWidth)>n.charWidth){let{lineHeight:S,charWidth:P,textHeight:$}=e.docView.measureTextSize();o=S>0&&n.refresh(s,S,P,$,Math.max(5,v/P),Q),o&&(e.docView.minWidth=0,c|=16)}p>0&&m>0?h=Math.max(p,m):p<0&&m<0&&(h=Math.min(p,m)),ig();for(let S of this.viewports){let P=S.from==this.viewport.from?Q:e.docView.measureVisibleLineHeights(S);this.heightMap=(o?Ut.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle,[new Er(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new l2(S.from,P))}Ws&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new hl(n.lineAt(o-i*1e3,Be.ByHeight,s,0,0).from,n.lineAt(a+(1-i)*1e3,Be.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=n.lineAt(c,Be.ByPos,s,0,0),u;t.y=="center"?u=(f.top+f.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?u=f.top:u=f.bottom-h,l=new hl(n.lineAt(u-1e3/2,Be.ByHeight,s,0,0).from,n.lineAt(u+h+1e3/2,Be.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new hl(this.heightMap.lineAt(i,Be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Be.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new qh(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=st.LTR&&!i)return[];let a=[],l=(h,f,u,d)=>{if(f-h<s)return;let O=this.state.selection.main,p=[O.from];O.empty||p.push(O.to);for(let b of p)if(b>h&&b<f){l(h,b-10,u,d),l(b+10,f,u,d);return}let m=y2(e,b=>b.from>=u.from&&b.to<=u.to&&Math.abs(b.from-h)<s&&Math.abs(b.to-f)<s&&!p.some(v=>b.from<v&&b.to>v));if(!m){if(f<u.to&&t&&i&&t.visibleRanges.some(x=>x.from<=f&&x.to>=f)){let x=t.moveToLineBoundary(A.cursor(f),!1,!0).head;x>h&&(f=x)}let b=this.gapSize(u,h,f,d),v=i||b<2e6?b:2e6;m=new qh(h,f,b,v)}a.push(m)},c=h=>{if(h.length<o||h.type!=Ar.Text)return;let f=m2(h.from,h.to,this.stateDeco);if(f.total<o)return;let u=this.scrollTarget?this.scrollTarget.range.head:null,d,O;if(i){let p=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,b;if(u!=null){let v=ul(f,u),x=((this.visibleBottom-this.visibleTop)/2+p)/h.height;m=v-x,b=v+x}else m=(this.visibleTop-h.top-p)/h.height,b=(this.visibleBottom-h.top+p)/h.height;d=fl(f,m),O=fl(f,b)}else{let p=f.total*this.heightOracle.charWidth,m=n*this.heightOracle.charWidth,b=0;if(p>2e6)for(let P of e)P.from>=h.from&&P.from<h.to&&P.size!=P.displaySize&&P.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=P.size-P.displaySize);let v=this.pixelViewport.left+b,x=this.pixelViewport.right+b,Q,S;if(u!=null){let P=ul(f,u),$=((x-v)/2+m)/p;Q=P-$,S=P+$}else Q=(v-m)/p,S=(x+m)/p;d=fl(f,Q),O=fl(f,S)}d>h.from&&l(h.from,d,h,f),O<h.to&&l(O,h.to,h,f)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(c):c(h);return a}gapSize(e,t,i,n){let s=ul(n,i)-ul(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){qh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Ee.spans(t,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let s=0;s<i.length&&!(n&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(n|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ro(this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Ro(this.heightMap.lineAt(this.scaler.fromDOM(e),Be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ro(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class hl{constructor(e,t){this.from=e,this.to=t}}function m2(r,e,t){let i=[],n=r,s=0;return Ee.spans(t,r,e,{span(){},point(o,a){o>n&&(i.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function fl({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(i<=a)return s+i;i-=a}}function ul(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function y2(r,e){for(let t of r)if(e(t))return t}const og={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Dd{constructor(e,t,i){let n=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,Be.ByPos,e,0,0).top,h=t.lineAt(l,Be.ByPos,e,0,0).bottom;return n+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}eq(e){return e instanceof Dd?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Ro(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new Jr(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>Ro(n,e)):r._content)}const dl=G.define({combine:r=>r.join(" ")}),Cu=G.define({combine:r=>r.indexOf(!0)>-1}),Au=cn.newName(),pv=cn.newName(),gv=cn.newName(),mv={"&light":"."+pv,"&dark":"."+gv};function Eu(r,e,t){return new cn(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const b2=Eu("."+Au,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},mv),v2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Dh=W.ie&&W.ie_version<=11;class S2{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new t_,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(W.ie&&W.ie_version<=11||W.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&W.android&&e.constructor.EDIT_CONTEXT!==!1&&!(W.chrome&&W.chrome_version<126)&&(this.editContext=new Q2(e),e.state.facet(ki)&&(e.contentDOM.editContext=this.editContext.editContext)),Dh&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(ki)?i.root.activeElement!=this.dom:!Ml(this.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(W.ie&&W.ie_version<=11||W.android&&W.chrome)&&!i.state.selection.main.empty&&n.focusNode&&No(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=oa(e.root);if(!t)return!1;let i=W.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&x2(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let n=Ml(this.dom,i);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&i_(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,v2),Dh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Dh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ts(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&Ml(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new z_(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=nv(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=ag(t,e.previousSibling||e.target.previousSibling,-1),n=ag(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ki)!=e.state.facet(ki)&&(e.view.contentDOM.editContext=e.state.facet(ki)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ag(r,e,t){for(;e;){let i=Xe.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function lg(r,e){let t=e.startContainer,i=e.startOffset,n=e.endContainer,s=e.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return No(o.node,o.offset,n,s)&&([t,i,n,s]=[n,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}}function x2(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return lg(r,n)}let t=null;function i(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),t?lg(r,t):null}class Q2{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let n=e.state.selection.main,{anchor:s,head:o}=n,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let c=l-a>i.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let h=sv(e.state.sliceDoc(a,l),i.text,(c?n.from:n.to)-a,c?"end":null);if(!h){let u=A.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));u.main.eq(n)||e.dispatch({selection:u,userEvent:"select"});return}let f={from:h.from+a,to:h.toA+a,insert:Te.of(i.text.slice(h.from,h.toB).split(`
`))};if((W.mac||W.android)&&f.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:l,insert:Te.of([i.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let u=this.to-this.from+(f.to-f.from+f.insert.length);Ld(e,f,A.single(this.toEditorPos(i.selectionStart,u),this.toEditorPos(i.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let n=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,n.push(s)}t.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=i=>{let n=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let h=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;n.push(he.mark({attributes:{style:h}}).range(l,c))}}}e.dispatch({effects:Gb.of(he.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let n=oa(i.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,n=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let h=c.length-(o-s);if(n&&o>=n.to)if(n.from==s&&n.to==o&&n.insert.eq(c)){n=this.pendingContextChange=null,t+=h,this.to+=h;return}else n=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=h}t+=h}),n&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(i,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Y{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(n=>n.forEach(s=>i(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||r_(e.parent)||document,this.viewState=new sg(e.state||Pe.create(e)),e.scrollTo&&e.scrollTo.is(al)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ss).map(n=>new Mh(n));for(let n of this.plugins)n.update(this);this.observer=new S2(this),this.inputState=new V_(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ft?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let u of e){if(u.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=u.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(u=>u.annotation(fv))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=uv(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(Pe.phrases)!=this.state.facet(Pe.phrases))return this.setState(s);n=lc.create(this,s,e),n.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let u of e){if(f&&(f=f.map(u.changes)),u.scrollIntoView){let{main:d}=u.state.selection;f=new $s(d.empty?d:A.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of u.effects)d.is(al)&&(f=d.value.clip(this.state))}this.viewState.update(n,f),this.bidiCache=hc.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(Ao)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(u=>u.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(dl)!=n.state.facet(dl)&&(this.viewState.mustMeasureContent=!0),(t||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let u of this.state.facet(Tu))try{u(n)}catch(d){Or(this.state,d,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!nv(this,h)&&c.force&&Ts(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new sg(e),this.plugins=e.facet(Ss).map(i=>new Mh(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new zp(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ss),i=e.state.facet(Ss);if(t!=i){let n=[];for(let s of i){let o=t.indexOf(s);if(o<0)n.push(new Mh(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Or(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(Pb(i))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(n);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(d=>{try{return d.read(this)}catch(O){return Or(this.state,O),cg}}),f=lc.create(this,this.state,[]),u=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),u=this.docView.update(f),u&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(h[d]!=cg)try{let O=c[d];O.write&&O.write(h[d],this)}catch(O){Or(this.state,O)}if(u&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let O=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(O>1||O<-1){n=n+O,i.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Tu))a(t)}get themeClasses(){return Au+" "+(this.state.facet(Cu)?gv:pv)+" "+this.state.facet(dl)}updateAttrs(){let e=hg(this,Fb,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ki)?"true":"false",class:"cm-content",style:`${W.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),hg(this,Md,t);let i=this.observer.ignore(()=>{let n=xu(this.contentDOM,this.contentAttrs,t),s=xu(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(Y.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Ao);let e=this.state.facet(Y.cspNonce);cn.mount(this.root,this.styleModules.concat(b2).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Lh(this,e,Wp(this,e,t,i))}moveByGroup(e,t){return Lh(this,e,Wp(this,e,t,i=>M_(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return A.cursor(s.side(t,n)+e.from,s.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,i=!0){return X_(this,e,t,i)}moveVertically(e,t,i){return Lh(this,e,Z_(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),tv(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[en.find(s,e-n.from,-1,t)];return Fc(i,o.dir==st.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ub)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>w2)return Db(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||qb(s.isolates,i=Dp(this,e))))return s.order;i||(i=Dp(this,e));let n=g_(e.text,t,i);return this.bidiCache.push(new hc(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||W.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{wb(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return al.of(new $s(typeof e=="number"?A.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return al.of(new $s(A.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Yt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Yt.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=cn.newName(),n=[dl.of(i),Ao.of(Eu(`.${i}`,e))];return t&&t.dark&&n.push(Cu.of(!0)),n}static baseTheme(e){return gn.lowest(Ao.of(Eu("."+Au,e,mv)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&Xe.get(i)||Xe.get(e);return((t=n?.rootView)===null||t===void 0?void 0:t.view)||null}}Y.styleModule=Ao;Y.inputHandler=Wb;Y.clipboardInputFilter=Rd;Y.clipboardOutputFilter=Xd;Y.scrollHandler=Yb;Y.focusChangeEffect=jb;Y.perLineTextDirection=Ub;Y.exceptionSink=Vb;Y.updateListener=Tu;Y.editable=ki;Y.mouseSelectionStyle=Nb;Y.dragMovesSelection=Ib;Y.clickAddsSelectionRange=Bb;Y.decorations=la;Y.outerDecorations=Hb;Y.atomicRanges=Aa;Y.bidiIsolatedRanges=Kb;Y.scrollMargins=Jb;Y.darkTheme=Cu;Y.cspNonce=G.define({combine:r=>r.length?r[0]:""});Y.contentAttributes=Md;Y.editorAttributes=Fb;Y.lineWrapping=Y.contentAttributes.of({class:"cm-lineWrapping"});Y.announce=xe.define();const w2=4096,cg={};class hc{constructor(e,t,i,n,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:st.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&i.push(new hc(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function hg(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],o=typeof s=="function"?s(r):s;o&&Su(o,t)}return t}const k2=W.mac?"mac":W.windows?"win":W.linux?"linux":"key";function P2(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Ol(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const T2=gn.default(Y.domEventHandlers({keydown(r,e){return bv(yv(e.state),r,e,"editor")}})),Ea=G.define({enables:T2}),fg=new WeakMap;function yv(r){let e=r.facet(Ea),t=fg.get(e);return t||fg.set(e,t=C2(e.reduce((i,n)=>i.concat(n),[]))),t}function $2(r,e,t){return bv(yv(r.state),e,r,t)}let Fi=null;const _2=4e3;function C2(r,e=k2){let t=Object.create(null),i=Object.create(null),n=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,h)=>{var f,u;let d=t[o]||(t[o]=Object.create(null)),O=a.split(/ (?!$)/).map(b=>P2(b,e));for(let b=1;b<O.length;b++){let v=O.slice(0,b).join(" ");n(v,!0),d[v]||(d[v]={preventDefault:!0,stopPropagation:!1,run:[x=>{let Q=Fi={view:x,prefix:v,scope:o};return setTimeout(()=>{Fi==Q&&(Fi=null)},_2),!0}]})}let p=O.join(" ");n(p,!1);let m=d[p]||(d[p]={preventDefault:!1,stopPropagation:!1,run:((u=(f=d._any)===null||f===void 0?void 0:f.run)===null||u===void 0?void 0:u.slice())||[]});l&&m.run.push(l),c&&(m.preventDefault=!0),h&&(m.stopPropagation=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let u in h)h[u].run.push(d=>f(d,Ru))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let Ru=null;function bv(r,e,t,i){Ru=e;let n=F$(e),s=xi(n,0),o=Rn(s)==n.length&&n!=" ",a="",l=!1,c=!1,h=!1;Fi&&Fi.view==t&&Fi.scope==i&&(a=Fi.prefix+" ",av.indexOf(e.keyCode)<0&&(c=!0,Fi=null));let f=new Set,u=m=>{if(m){for(let b of m.run)if(!f.has(b)&&(f.add(b),b(t)))return m.stopPropagation&&(h=!0),!0;m.preventDefault&&(m.stopPropagation&&(h=!0),c=!0)}return!1},d=r[i],O,p;return d&&(u(d[a+Ol(n,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(W.windows&&e.ctrlKey&&e.altKey)&&!(W.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(O=hn[e.keyCode])&&O!=n?(u(d[a+Ol(O,e,!0)])||e.shiftKey&&(p=sa[e.keyCode])!=n&&p!=O&&u(d[a+Ol(p,e,!1)]))&&(l=!0):o&&e.shiftKey&&u(d[a+Ol(n,e,!0)])&&(l=!0),!l&&u(d._any)&&(l=!0)),c&&(l=!0),l&&h&&e.stopPropagation(),Ru=null,l}function ug(r,e,t,i,n){e.lastIndex=0;for(let s=r.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)n(o+a.index,a)}function A2(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let i=[];for(let{from:n,to:s}of t)n=Math.max(r.state.doc.lineAt(n).from,n-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class E2{constructor(e){const{regexp:t,decoration:i,decorate:n,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(a,l,c,h)=>n(h,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,h)=>{let f=i(a,l,c);f&&h(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Hn,i=t.add.bind(t);for(let{from:n,to:s}of A2(e,this.maxLength))ug(e.state.doc,this.regexp,n,s,(o,a)=>this.addMatch(a,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(i=Math.min(a,i),n=Math.max(l,n))}),e.viewportMoved||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,n);if(a>=o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let u=[],d,O=(p,m,b)=>u.push(b.range(p,m));if(l==c)for(this.regexp.lastIndex=h-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,O);else ug(e.state.doc,this.regexp,h,f,(p,m)=>this.addMatch(m,e,p,O));t=t.update({filterFrom:h,filterTo:f,filter:(p,m)=>p<h||m>f,add:u})}}return t}}const Xu=/x/.unicode!=null?"gu":"g",R2=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Xu),X2={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let zh=null;function M2(){var r;if(zh==null&&typeof document<"u"&&document.body){let e=document.body.style;zh=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return zh||!1}const ql=G.define({combine(r){let e=as(r,{render:null,specialChars:R2,addSpecialChars:null});return(e.replaceTabs=!M2())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Xu)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Xu)),e}});function Z2(r={}){return[ql.of(r),L2()]}let dg=null;function L2(){return dg||(dg=Yt.fromClass(class{constructor(r){this.view=r,this.decorations=he.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(ql)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new E2({regexp:r.specialChars,decoration:(e,t,i)=>{let{doc:n}=t.state,s=xi(e[0],0);if(s==9){let o=n.lineAt(i),a=t.state.tabSize,l=fi(o.text,a,i-o.from);return he.replace({widget:new B2((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=he.replace({widget:new z2(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(ql);r.startState.facet(ql)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const q2="";function D2(r){return r>=32?q2:r==10?"":String.fromCharCode(9216+r)}class z2 extends so{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=D2(this.code),i=e.state.phrase("Control character")+" "+(X2[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class B2 extends so{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function I2(){return V2}const N2=he.line({class:"cm-activeLine"}),V2=Yt.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let i of r.state.selection.ranges){let n=r.lineBlockAt(i.head);n.from>e&&(t.push(N2.range(n.from)),e=n.from)}return he.set(t)}},{decorations:r=>r.decorations}),pl="-10000px";class W2{constructor(e,t,i,n){this.facet=t,this.createTooltipView=i,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,t){var i;let n=e.state.facet(this.facet),s=n.filter(l=>l);if(n===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],h=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let u=this.tooltips[f];u&&u.create==c.create&&(h=f)}if(h<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let f=o[l]=this.tooltipViews[h];a&&(a[l]=t[h]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=n,this.tooltips=s,this.tooltipViews=o,!0}}function j2(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Bh=G.define({combine:r=>{var e,t,i;return{position:W.ios?"absolute":((e=r.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||j2}}}),Og=new WeakMap,vv=Yt.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Bh);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new W2(r,Sv,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(Bh);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=pl,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(r=i.destroy)===null||r===void 0||r.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(W.safari){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),n=Zd(this.view);return{visible:{left:i.left+n.left,top:i.top+n.top,right:i.right-n.right,bottom:i.bottom-n.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Bh).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:i,scaleX:n,scaleY:s}=r,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,f=r.pos[a],u=r.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(t.top,i.top)||f.top>=Math.min(t.bottom,i.bottom)||f.right<Math.max(t.left,i.left)-.1||f.left>Math.min(t.right,i.right)+.1)){h.style.top=pl;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,O=d?7:0,p=u.right-u.left,m=(e=Og.get(c))!==null&&e!==void 0?e:u.bottom-u.top,b=c.offset||Y2,v=this.view.textDirection==st.LTR,x=u.width>i.right-i.left?v?i.left:i.right-u.width:v?Math.max(i.left,Math.min(f.left-(d?14:0)+b.x,i.right-p)):Math.min(Math.max(i.left,f.left-p+(d?14:0)-b.x),i.right-p),Q=this.above[a];!l.strictSide&&(Q?f.top-m-O-b.y<i.top:f.bottom+m+O+b.y>i.bottom)&&Q==i.bottom-f.bottom>f.top-i.top&&(Q=this.above[a]=!Q);let S=(Q?f.top-i.top:i.bottom-f.bottom)-O;if(S<m&&c.resize!==!1){if(S<this.view.defaultLineHeight){h.style.top=pl;continue}Og.set(c,m),h.style.height=(m=S)/s+"px"}else h.style.height&&(h.style.height="");let P=Q?f.top-m-O-b.y:f.bottom+O+b.y,$=x+p;if(c.overlap!==!0)for(let M of o)M.left<$&&M.right>x&&M.top<P+m&&M.bottom>P&&(P=Q?M.top-m-2-O:M.bottom+O+2);if(this.position=="absolute"?(h.style.top=(P-r.parent.top)/s+"px",pg(h,(x-r.parent.left)/n)):(h.style.top=P/s+"px",pg(h,x/n)),d){let M=f.left+(v?b.x:-b.x)-(x+14-7);d.style.left=M/n+"px"}c.overlap!==!0&&o.push({left:x,top:P,right:$,bottom:P+m}),h.classList.toggle("cm-tooltip-above",Q),h.classList.toggle("cm-tooltip-below",!Q),c.positioned&&c.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=pl}},{eventObservers:{scroll(){this.maybeMeasure()}}});function pg(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const U2=Y.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Y2={x:0,y:0},Sv=G.define({enables:[vv,U2]});function xv(r,e){let t=r.plugin(vv);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const gg=G.define({combine(r){let e,t;for(let i of r)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function fc(r,e){let t=r.plugin(Qv),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const Qv=Yt.fromClass(class{constructor(r){this.input=r.state.facet(uc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(gg);this.top=new gl(r,!0,e.topContainer),this.bottom=new gl(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(gg);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new gl(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new gl(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(uc);if(t!=this.input){let i=t.filter(l=>l),n=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),h;c<0?(h=l(r.view),a.push(h)):(h=this.panels[c],h.update&&h.update(r)),n.push(h),(h.top?s:o).push(h)}this.specs=i,this.panels=n,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Y.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class gl{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=mg(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=mg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function mg(r){let e=r.nextSibling;return r.remove(),e}const uc=G.define({enables:Qv});class ts extends Fn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ts.prototype.elementClass="";ts.prototype.toDOM=void 0;ts.prototype.mapMode=jt.TrackBefore;ts.prototype.startSide=ts.prototype.endSide=-1;ts.prototype.point=!0;const Ih=G.define(),G2=G.define(),Dl=G.define(),yg=G.define({combine:r=>r.some(e=>e)});function F2(r){return[H2]}const H2=Yt.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Dl).map(e=>new vg(r,e)),this.fixed=!r.state.facet(yg);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(yg)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ee.iter(this.view.state.facet(Ih),this.view.viewport.from),i=[],n=this.gutters.map(s=>new K2(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Ar.Text&&o){Mu(t,i,a.from);for(let l of n)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of n)l.widget(this.view,a)}else if(s.type==Ar.Text){Mu(t,i,s.from);for(let o of n)o.line(this.view,s,i)}else if(s.widget)for(let o of n)o.widget(this.view,s);for(let s of n)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(Dl),t=r.state.facet(Dl),i=r.docChanged||r.heightChanged||r.viewportChanged||!Ee.eq(r.startState.facet(Ih),r.state.facet(Ih),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new vg(this.view,s)):(this.gutters[o].update(r),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Y.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,n=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==st.LTR?{left:i,right:n}:{right:i,left:n}})});function bg(r){return Array.isArray(r)?r:[r]}function Mu(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class K2{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Ee.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==n.elements.length){let a=new wv(e,o,s,i);n.elements.push(a),n.dom.appendChild(a.dom)}else n.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];Mu(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),n=i?[i]:null;for(let s of e.state.facet(G2)){let o=s(e,t.widget,t);o&&(n||(n=[])).push(o)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class vg{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,n)&&n.preventDefault()});this.markers=bg(t.markers(e)),t.initialSpacer&&(this.spacer=new wv(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=bg(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!Ee.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class wv{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),J2(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(n);let f=n.nextSibling;n.remove(),n=f}}if(!l)break;l.toDOM&&(c?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function J2(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const eC=G.define(),tC=G.define(),xs=G.define({combine(r){return as(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],o=t[n];i[n]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class Nh extends ts{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Vh(r,e){return r.state.facet(xs).formatNumber(e,r.state)}const rC=Dl.compute([xs],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(eC)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new Nh(Vh(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let n of e.state.facet(tC)){let s=n(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(xs)!=e.state.facet(xs),initialSpacer(e){return new Nh(Vh(e,Sg(e.state.doc.lines)))},updateSpacer(e,t){let i=Vh(t.view,Sg(t.view.state.doc.lines));return i==e.number?e:new Nh(i)},domEventHandlers:r.facet(xs).domEventHandlers,side:"before"}));function iC(r={}){return[xs.of(r),F2(),rC]}function Sg(r){let e=9;for(;e<r;)e=e*10+9;return e}const kv=1024;let nC=0;class Pr{constructor(e,t){this.from=e,this.to=t}}class oe{constructor(e={}){this.id=nC++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=dt.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}oe.closedBy=new oe({deserialize:r=>r.split(" ")});oe.openedBy=new oe({deserialize:r=>r.split(" ")});oe.group=new oe({deserialize:r=>r.split(" ")});oe.isolate=new oe({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});oe.contextHash=new oe({perNode:!0});oe.lookAhead=new oe({perNode:!0});oe.mounted=new oe({perNode:!0});class ca{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[oe.mounted.id]}}const sC=Object.create(null);class dt{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):sC,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new dt(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(oe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(oe.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}}dt.none=new dt("",Object.create(null),0,8);class Ra{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let o=s(i);if(o){n||(n=Object.assign({},i.props));let a=o[1],l=o[0];l.combine&&l.id in n&&(a=l.combine(n[l.id],a)),n[l.id]=a}}t.push(n?new dt(i.name,n,i.id,i.flags):i)}return new Ra(t)}}const ml=new WeakMap,xg=new WeakMap;var qe;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(qe||(qe={}));class _e{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ca.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new dc(this.topNode,e)}cursorAt(e,t=0,i=0){let n=ml.get(this)||this.topNode,s=new dc(n);return s.moveTo(e,t),ml.set(this,s._tree),s}get topNode(){return new Zt(this,0,0,null)}resolve(e,t=0){let i=ha(ml.get(this)||this.topNode,e,t,!1);return ml.set(this,i),i}resolveInner(e,t=0){let i=ha(xg.get(this)||this.topNode,e,t,!0);return xg.set(this,i),i}resolveStack(e,t=0){return lC(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&qe.IncludeAnonymous)>0;for(let l=this.cursor(o|qe.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Id(dt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new _e(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new _e(dt.none,t,i,n)))}static build(e){return cC(e)}}_e.empty=new _e(dt.none,[],[],0);class zd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new zd(this.buffer,this.index)}}class un{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return dt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Pv(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new un(s,o,this.set)}}function Pv(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function ha(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof Zt&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:qe.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof Zt&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class Tv{cursor(e=0){return new dc(this,e)}getChild(e,t=null,i=null){let n=Qg(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return Qg(this,e,t,i)}resolve(e,t=0){return ha(this,e,t,!1)}resolveInner(e,t=0){return ha(this,e,t,!0)}matchContext(e){return Zu(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}}class Zt extends Tv{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(Pv(n,i,f,f+h.length)){if(h instanceof un){if(s&qe.ExcludeBuffers)continue;let u=h.findChild(0,h.buffer.length,t,i-f,n);if(u>-1)return new ii(new oC(o,h,e,f),null,u)}else if(s&qe.IncludeAnonymous||!h.type.isAnonymous||Bd(h)){let u;if(!(s&qe.IgnoreMounts)&&(u=ca.get(h))&&!u.overlay)return new Zt(u.tree,f,e,o);let d=new Zt(h,f,e,o);return s&qe.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&qe.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let n;if(!(i&qe.IgnoreOverlays)&&(n=ca.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Zt(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Qg(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function Zu(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class oC{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class ii extends Tv{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new ii(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&qe.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ii(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ii(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ii(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new _e(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function $v(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Zt&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new aC(n,t)}class aC{constructor(e,t){this.heads=e,this.node=t}get next(){return $v(this.heads)}}function lC(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Zt?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=ca.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Zt(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(ha(a,e,t,!1))}}return n?$v(n):i}class dc{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Zt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&qe.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qe.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&qe.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&qe.IncludeAnonymous||a instanceof un||!a.type.isAnonymous||Bd(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new ii(this.buffer,t,this.stack[n]);return this.bufferNode=new ii(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return Zu(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Zu(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function Bd(r){return r.children.some(e=>e instanceof un||!e.type.isAnonymous||Bd(e))}function cC(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=kv,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new zd(t,t.length):t,l=i.types,c=0,h=0;function f(S,P,$,M,q,U){let{id:j,start:Z,end:K,size:X}=a,J=h,pe=c;if(X<0)if(a.next(),X==-1){let ne=s[j];$.push(ne),M.push(Z-S);return}else if(X==-3){c=j;return}else if(X==-4){h=j;return}else throw new RangeError(`Unrecognized record size: ${X}`);let $e=l[j],Ae,ae,Oe=Z-S;if(K-Z<=n&&(ae=m(a.pos-P,q))){let ne=new Uint16Array(ae.size-ae.skip),le=a.pos-ae.size,De=ne.length;for(;a.pos>le;)De=b(ae.start,ne,De);Ae=new un(ne,K-ae.start,i),Oe=ae.start-S}else{let ne=a.pos-X;a.next();let le=[],De=[],Ue=j>=o?j:-1,Ye=0,V=K;for(;a.pos>ne;)Ue>=0&&a.id==Ue&&a.size>=0?(a.end<=V-n&&(O(le,De,Z,Ye,a.end,V,Ue,J,pe),Ye=le.length,V=a.end),a.next()):U>2500?u(Z,ne,le,De):f(Z,ne,le,De,Ue,U+1);if(Ue>=0&&Ye>0&&Ye<le.length&&O(le,De,Z,Ye,Z,V,Ue,J,pe),le.reverse(),De.reverse(),Ue>-1&&Ye>0){let ee=d($e,pe);Ae=Id($e,le,De,0,le.length,0,K-Z,ee,ee)}else Ae=p($e,le,De,K-Z,J-K,pe)}$.push(Ae),M.push(Oe)}function u(S,P,$,M){let q=[],U=0,j=-1;for(;a.pos>P;){let{id:Z,start:K,end:X,size:J}=a;if(J>4)a.next();else{if(j>-1&&K<j)break;j<0&&(j=X-n),q.push(Z,K,X),U++,a.next()}}if(U){let Z=new Uint16Array(U*4),K=q[q.length-2];for(let X=q.length-3,J=0;X>=0;X-=3)Z[J++]=q[X],Z[J++]=q[X+1]-K,Z[J++]=q[X+2]-K,Z[J++]=J;$.push(new un(Z,q[2]-K,i)),M.push(K-S)}}function d(S,P){return($,M,q)=>{let U=0,j=$.length-1,Z,K;if(j>=0&&(Z=$[j])instanceof _e){if(!j&&Z.type==S&&Z.length==q)return Z;(K=Z.prop(oe.lookAhead))&&(U=M[j]+Z.length+K)}return p(S,$,M,q,U,P)}}function O(S,P,$,M,q,U,j,Z,K){let X=[],J=[];for(;S.length>M;)X.push(S.pop()),J.push(P.pop()+$-q);S.push(p(i.types[j],X,J,U-q,Z-U,K)),P.push(q-$)}function p(S,P,$,M,q,U,j){if(U){let Z=[oe.contextHash,U];j=j?[Z].concat(j):[Z]}if(q>25){let Z=[oe.lookAhead,q];j=j?[Z].concat(j):[Z]}return new _e(S,P,$,M,j)}function m(S,P){let $=a.fork(),M=0,q=0,U=0,j=$.end-n,Z={size:0,start:0,skip:0};e:for(let K=$.pos-S;$.pos>K;){let X=$.size;if($.id==P&&X>=0){Z.size=M,Z.start=q,Z.skip=U,U+=4,M+=4,$.next();continue}let J=$.pos-X;if(X<0||J<K||$.start<j)break;let pe=$.id>=o?4:0,$e=$.start;for($.next();$.pos>J;){if($.size<0)if($.size==-3||$.size==-4)pe+=4;else break e;else $.id>=o&&(pe+=4);$.next()}q=$e,M+=X,U+=pe}return(P<0||M==S)&&(Z.size=M,Z.start=q,Z.skip=U),Z.size>4?Z:void 0}function b(S,P,$){let{id:M,start:q,end:U,size:j}=a;if(a.next(),j>=0&&M<o){let Z=$;if(j>4){let K=a.pos-(j-4);for(;a.pos>K;)$=b(S,P,$)}P[--$]=Z,P[--$]=U-S,P[--$]=q-S,P[--$]=M}else j==-3?c=M:j==-4&&(h=M);return $}let v=[],x=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,v,x,-1,0);let Q=(e=r.length)!==null&&e!==void 0?e:v.length?x[0]+v[0].length:0;return new _e(l[r.topID],v.reverse(),x.reverse(),Q)}const wg=new WeakMap;function zl(r,e){if(!r.isAnonymous||e instanceof un||e.type!=r)return 1;let t=wg.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof _e)){t=1;break}t+=zl(r,i)}wg.set(e,t)}return t}function Id(r,e,t,i,n,s,o,a,l){let c=0;for(let O=i;O<n;O++)c+=zl(r,e[O]);let h=Math.ceil(c*1.5/8),f=[],u=[];function d(O,p,m,b,v){for(let x=m;x<b;){let Q=x,S=p[x],P=zl(r,O[x]);for(x++;x<b;x++){let $=zl(r,O[x]);if(P+$>=h)break;P+=$}if(x==Q+1){if(P>h){let $=O[Q];d($.children,$.positions,0,$.children.length,p[Q]+v);continue}f.push(O[Q])}else{let $=p[x-1]+O[x-1].length-S;f.push(Id(r,O,p,Q,x,S,$,null,l))}u.push(S+v-s)}}return d(e,t,i,n,0),(a||l)(f,u,o)}class Nd{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof ii?this.setBuffer(e.context.buffer,e.index,t):e instanceof Zt&&this.map.set(e.tree,t)}get(e){return e instanceof ii?this.getBuffer(e.context.buffer,e.index):e instanceof Zt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ai{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new Ai(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,f=h?h.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let u=o;if(l>=u.from||f<=u.to||c){let d=Math.max(u.from,l)-c,O=Math.min(u.to,f)-c;u=d>=O?null:new Ai(d,O,u.tree,u.offset+c,a>0,!!h)}if(u&&n.push(u),o.to>f)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return n}}class Vd{startParse(e,t,i){return typeof e=="string"&&(e=new hC(e)),i=i?i.length?i.map(n=>new Pr(n.from,n.to)):[new Pr(0,0)]:[new Pr(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class hC{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function _v(r){return(e,t,i,n)=>new uC(e,r,t,i,n)}class kg{constructor(e,t,i,n,s){this.parser=e,this.parse=t,this.overlay=i,this.target=n,this.from=s}}function Pg(r){if(!r.length||r.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(r))}class fC{constructor(e,t,i,n,s,o,a){this.parser=e,this.predicate=t,this.mounts=i,this.index=n,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const Lu=new oe({perNode:!0});class uC{constructor(e,t,i,n,s){this.nest=t,this.input=i,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new _e(i.type,i.children,i.positions,i.length,i.propValues.concat([[Lu,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[oe.mounted.id]=new ca(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new pC(this.fragments),t=null,i=null,n=new dc(new Zt(this.baseTree,this.ranges[0].from,0,null),qe.IncludeAnonymous|qe.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&n.from>=this.stoppedAt)a=!1;else if(e.hasNode(n)){if(t){let c=t.mounts.find(h=>h.frag.from<=n.from&&h.frag.to>=n.to&&h.mount.overlay);if(c)for(let h of c.mount.overlay){let f=h.from+c.pos,u=h.to+c.pos;f>=n.from&&u<=n.to&&!t.ranges.some(d=>d.from<u&&d.to>f)&&t.ranges.push({from:f,to:u})}}a=!1}else if(i&&(o=dC(i.ranges,n.from,n.to)))a=o!=2;else if(!n.type.isAnonymous&&(s=this.nest(n,this.input))&&(n.from<n.to||!s.overlay)){n.tree||(OC(n),t&&t.depth++,i&&i.depth++);let c=e.findMounts(n.from,s.parser);if(typeof s.overlay=="function")t=new fC(s.parser,s.overlay,c,this.inner.length,n.from,n.tree,t);else{let h=_g(this.ranges,s.overlay||(n.from<n.to?[new Pr(n.from,n.to)]:[]));h.length&&Pg(h),(h.length||!s.overlay)&&this.inner.push(new kg(s.parser,h.length?s.parser.startParse(this.input,Cg(c,h),h):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new Pr(f.from-n.from,f.to-n.from)):null,n.tree,h.length?h[0].from:n.from)),s.overlay?h.length&&(i={ranges:h,depth:0,prev:i}):a=!1}}else if(t&&(l=t.predicate(n))&&(l===!0&&(l=new Pr(n.from,n.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(a&&n.firstChild())t&&t.depth++,i&&i.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(t&&!--t.depth){let c=_g(this.ranges,t.ranges);c.length&&(Pg(c),this.inner.splice(t.index,0,new kg(t.parser,t.parser.startParse(this.input,Cg(t.mounts,c),c),t.ranges.map(h=>new Pr(h.from-t.start,h.to-t.start)),t.target,c[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function dC(r,e,t){for(let i of r){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function Tg(r,e,t,i,n,s){if(e<t){let o=r.buffer[e+1];i.push(r.slice(e,t,o)),n.push(o-s)}}function OC(r){let{node:e}=r,t=[],i=e.context.buffer;do t.push(r.index),r.parent();while(!r.tree);let n=r.tree,s=n.children.indexOf(i),o=n.children[s],a=o.buffer,l=[s];function c(h,f,u,d,O,p){let m=t[p],b=[],v=[];Tg(o,h,m,b,v,d);let x=a[m+1],Q=a[m+2];l.push(b.length);let S=p?c(m+4,a[m+3],o.set.types[a[m]],x,Q-x,p-1):e.toTree();return b.push(S),v.push(x-d),Tg(o,a[m+3],f,b,v,d),new _e(u,b,v,O)}n.children[s]=c(0,a.length,dt.none,0,o.length,t.length-1);for(let h of l){let f=r.tree.children[h],u=r.tree.positions[h];r.yield(new Zt(f,u+r.from,h,r._tree))}}class $g{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(qe.IncludeAnonymous|qe.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,qe.IgnoreOverlays|qe.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof _e)t=t.children[0];else break}return!1}}let pC=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(Lu))!==null&&t!==void 0?t:i.to,this.inner=new $g(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(Lu))!==null&&e!==void 0?e:t.to,this.inner=new $g(t.tree,-t.offset)}}findMounts(e,t){var i;let n=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(i=s.tree)===null||i===void 0?void 0:i.prop(oe.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&n.push({frag:l,pos:s.from-l.offset,mount:o})}}}return n}};function _g(r,e){let t=null,i=e;for(let n=1,s=0;n<r.length;n++){let o=r[n-1].to,a=r[n].from;for(;s<i.length;s++){let l=i[s];if(l.from>=a)break;l.to<=o||(t||(i=t=e.slice()),l.from<o?(t[s]=new Pr(l.from,o),l.to>a&&t.splice(s+1,0,new Pr(a,l.to))):l.to>a?t[s--]=new Pr(a,l.to):t.splice(s--,1))}}return i}function gC(r,e,t,i){let n=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let h=n==r.length?1e9:o?r[n].to:r[n].from,f=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let u=Math.max(l,t),d=Math.min(h,f,i);u<d&&c.push(new Pr(u,d))}if(l=Math.min(h,f),l==1e9)break;h==l&&(o?(o=!1,n++):o=!0),f==l&&(a?(a=!1,s++):a=!0)}return c}function Cg(r,e){let t=[];for(let{pos:i,mount:n,frag:s}of r){let o=i+(n.overlay?n.overlay[0].from:0),a=o+n.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(n.overlay){let h=n.overlay.map(u=>new Pr(u.from+i,u.to+i)),f=gC(e,h,l,c);for(let u=0,d=l;;u++){let O=u==f.length,p=O?c:f[u].from;if(p>d&&t.push(new Ai(d,p,n.tree,-o,s.from>=d||s.openStart,s.to<=p||s.openEnd)),O)break;d=f[u].to}}else t.push(new Ai(l,c,n.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}let mC=0;class dr{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=mC++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof dr&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let n=new dr(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new Oc(e);return i=>i.modified.indexOf(t)>-1?i:Oc.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}}let yC=0;class Oc{constructor(e){this.name=e,this.instances=[],this.id=yC++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&bC(t,a.modified));if(i)return i;let n=[],s=new dr(e.name,n,e,t);for(let a of t)a.instances.push(s);let o=vC(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(Oc.get(a,l));return s}}function bC(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function vC(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function zi(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let f=0;;){if(a=="..."&&f>0&&f+3==n.length){o=1;break}let u=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!u)throw new RangeError("Invalid path: "+n);if(s.push(u[0]=="*"?"":u[0][0]=='"'?JSON.parse(u[0]):u[0]),f+=u[0].length,f==n.length)break;let d=n[f++];if(f==n.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+n);a=n.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new fa(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return Cv.add(e)}const Cv=new oe({combine(r,e){let t,i,n;for(;r||e;){if(!r||e&&r.depth>=e.depth?(n=e,e=e.next):(n=r,r=r.next),t&&t.mode==n.mode&&!n.context&&!t.context)continue;let s=new fa(n.tags,n.mode,n.context);t?t.next=s:i=s,t=s}return i}});class fa{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}fa.empty=new fa([],2,null);function Av(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function SC(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function xC(r,e,t,i=0,n=r.length){let s=new QC(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class QC{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=n,h=wC(e)||fa.empty,f=SC(s,h.tags);if(f&&(c&&(c+=" "),c+=f,h.mode==1&&(n+=(n?" ":"")+f)),this.startSpan(Math.max(t,a),c),h.opaque)return;let u=e.tree&&e.tree.prop(oe.mounted);if(u&&u.overlay){let d=e.node.enter(u.overlay[0].from+a,1),O=this.highlighters.filter(m=>!m.scope||m.scope(u.tree.type)),p=e.firstChild();for(let m=0,b=a;;m++){let v=m<u.overlay.length?u.overlay[m]:null,x=v?v.from+a:l,Q=Math.max(t,b),S=Math.min(i,x);if(Q<S&&p)for(;e.from<S&&(this.highlightRange(e,Q,S,n,s),this.startSpan(Math.min(S,e.to),c),!(e.to>=x||!e.nextSibling())););if(!v||x>i)break;b=v.to+a,b>t&&(this.highlightRange(d.cursor(),Math.max(t,v.from+a),Math.min(i,b),"",O),this.startSpan(Math.min(i,b),c))}p&&e.parent()}else if(e.firstChild()){u&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function wC(r){let e=r.type.prop(Cv);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const B=dr.define,yl=B(),Yi=B(),Ag=B(Yi),Eg=B(Yi),Gi=B(),bl=B(Gi),Wh=B(Gi),Hr=B(),Pn=B(Hr),Gr=B(),Fr=B(),qu=B(),Qo=B(qu),vl=B(),y={comment:yl,lineComment:B(yl),blockComment:B(yl),docComment:B(yl),name:Yi,variableName:B(Yi),typeName:Ag,tagName:B(Ag),propertyName:Eg,attributeName:B(Eg),className:B(Yi),labelName:B(Yi),namespace:B(Yi),macroName:B(Yi),literal:Gi,string:bl,docString:B(bl),character:B(bl),attributeValue:B(bl),number:Wh,integer:B(Wh),float:B(Wh),bool:B(Gi),regexp:B(Gi),escape:B(Gi),color:B(Gi),url:B(Gi),keyword:Gr,self:B(Gr),null:B(Gr),atom:B(Gr),unit:B(Gr),modifier:B(Gr),operatorKeyword:B(Gr),controlKeyword:B(Gr),definitionKeyword:B(Gr),moduleKeyword:B(Gr),operator:Fr,derefOperator:B(Fr),arithmeticOperator:B(Fr),logicOperator:B(Fr),bitwiseOperator:B(Fr),compareOperator:B(Fr),updateOperator:B(Fr),definitionOperator:B(Fr),typeOperator:B(Fr),controlOperator:B(Fr),punctuation:qu,separator:B(qu),bracket:Qo,angleBracket:B(Qo),squareBracket:B(Qo),paren:B(Qo),brace:B(Qo),content:Hr,heading:Pn,heading1:B(Pn),heading2:B(Pn),heading3:B(Pn),heading4:B(Pn),heading5:B(Pn),heading6:B(Pn),contentSeparator:B(Hr),list:B(Hr),quote:B(Hr),emphasis:B(Hr),strong:B(Hr),link:B(Hr),monospace:B(Hr),strikethrough:B(Hr),inserted:B(),deleted:B(),changed:B(),invalid:B(),meta:vl,documentMeta:B(vl),annotation:B(vl),processingInstruction:B(vl),definition:dr.defineModifier("definition"),constant:dr.defineModifier("constant"),function:dr.defineModifier("function"),standard:dr.defineModifier("standard"),local:dr.defineModifier("local"),special:dr.defineModifier("special")};for(let r in y){let e=y[r];e instanceof dr&&(e.name=r)}Av([{tag:y.link,class:"tok-link"},{tag:y.heading,class:"tok-heading"},{tag:y.emphasis,class:"tok-emphasis"},{tag:y.strong,class:"tok-strong"},{tag:y.keyword,class:"tok-keyword"},{tag:y.atom,class:"tok-atom"},{tag:y.bool,class:"tok-bool"},{tag:y.url,class:"tok-url"},{tag:y.labelName,class:"tok-labelName"},{tag:y.inserted,class:"tok-inserted"},{tag:y.deleted,class:"tok-deleted"},{tag:y.literal,class:"tok-literal"},{tag:y.string,class:"tok-string"},{tag:y.number,class:"tok-number"},{tag:[y.regexp,y.escape,y.special(y.string)],class:"tok-string2"},{tag:y.variableName,class:"tok-variableName"},{tag:y.local(y.variableName),class:"tok-variableName tok-local"},{tag:y.definition(y.variableName),class:"tok-variableName tok-definition"},{tag:y.special(y.variableName),class:"tok-variableName2"},{tag:y.definition(y.propertyName),class:"tok-propertyName tok-definition"},{tag:y.typeName,class:"tok-typeName"},{tag:y.namespace,class:"tok-namespace"},{tag:y.className,class:"tok-className"},{tag:y.macroName,class:"tok-macroName"},{tag:y.propertyName,class:"tok-propertyName"},{tag:y.operator,class:"tok-operator"},{tag:y.comment,class:"tok-comment"},{tag:y.meta,class:"tok-meta"},{tag:y.invalid,class:"tok-invalid"},{tag:y.punctuation,class:"tok-punctuation"}]);var jh;const qn=new oe;function Wd(r){return G.define({combine:r?e=>e.concat(r):void 0})}const jd=new oe;class Tr{constructor(e,t,i=[],n=""){this.data=e,this.name=n,Pe.prototype.hasOwnProperty("tree")||Object.defineProperty(Pe.prototype,"tree",{get(){return je(this)}}),this.parser=t,this.extension=[Us.of(this),Pe.languageData.of((s,o,a)=>{let l=Rg(s,o,a),c=l.type.prop(qn);if(!c)return[];let h=s.facet(c),f=l.type.prop(jd);if(f){let u=l.resolve(o-l.from,a);for(let d of f)if(d.test(u,s)){let O=s.facet(d.facet);return d.type=="replace"?O:O.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return Rg(e,t,i).type.prop(qn)==this.data}findRegions(e){let t=e.facet(Us);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,o)=>{if(s.prop(qn)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(oe.mounted);if(a){if(a.tree.prop(qn)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(n(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof _e&&n(c,s.positions[l]+o)}};return n(je(e),0),i}get allowsNesting(){return!0}}Tr.setState=xe.define();function Rg(r,e,t){let i=r.facet(Us),n=je(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,qe.ExcludeBuffers))s.type.isTop&&(n=s);return n}class Xi extends Tr{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=Wd(e.languageData);return new Xi(t,e.parser.configure({props:[qn.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Xi(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function je(r){let e=r.field(Tr.state,!1);return e?e.tree:_e.empty}class kC{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let wo=null;class ua{constructor(e,t,i=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ua(e,t,[],_e.empty,0,i,[],null)}startParse(){return this.parser.startParse(new kC(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=_e.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Ai.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ai.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=wo;wo=this;try{return e()}finally{wo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Xg(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,f,u)=>l.push({fromA:c,toA:h,fromB:f,toB:u})),i=Ai.applyChanges(i,l),n=_e.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);h<f&&a.push({from:h,to:f})}}}return new ua(this.parser,t,i,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=Xg(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Vd{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=wo;if(l){for(let c of n)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new _e(dt.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return wo}}function Xg(r,e,t){return Ai.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class js{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new js(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ua.create(e.facet(Us).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new js(i)}}Tr.state=gr.define({create:js.init,update(r,e){for(let t of e.effects)if(t.is(Tr.setState))return t.value;return e.startState.facet(Us)!=e.state.facet(Us)?js.init(e.state):r.apply(e)}});let Ev=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Ev=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Uh=typeof navigator<"u"&&(!((jh=navigator.scheduling)===null||jh===void 0)&&jh.isInputPending)?()=>navigator.scheduling.isInputPending():null,PC=Yt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Tr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Tr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Ev(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Tr.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Uh?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>Uh&&Uh()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Tr.setState.of(new js(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Or(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Us=G.define({combine(r){return r.length?r[0]:null},enables:r=>[Tr.state,PC,Y.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class dn{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class pc{constructor(e,t,i,n,s,o=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=n,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new pc(e.name,(e.alias||[]).concat(e.name).map(n=>n.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let n of e)if(n.filename&&n.filename.test(t))return n;let i=/\.([^.]+)$/.exec(t);if(i){for(let n of e)if(n.extensions.indexOf(i[1])>-1)return n}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let n of e)if(n.alias.some(s=>s==t))return n;if(i)for(let n of e)for(let s of n.alias){let o=t.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(t[o-1])&&!/\w/.test(t[o+s.length])))return n}return null}}const TC=G.define(),Xa=G.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function gc(r){let e=r.facet(Xa);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function mc(r,e){let t="",i=r.tabSize,n=r.facet(Xa)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function Rv(r,e){r instanceof Pe&&(r=new Kc(r));for(let i of r.state.facet(TC)){let n=i(r,e);if(n!==void 0)return n}let t=je(r.state);return t.length>=e?$C(r,t,e):null}class Kc{constructor(e,t={}){this.state=e,this.options=t,this.unit=gc(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return fi(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const mn=new oe;function $C(r,e,t){let i=e.resolveStack(t),n=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(n!=i.node){let s=[];for(let o=n;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return Xv(i,r,t)}function Xv(r,e,t){for(let i=r;i;i=i.next){let n=CC(i.node);if(n)return n(Ud.create(e,t,i))}return 0}function _C(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function CC(r){let e=r.type.prop(mn);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(oe.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return o=>Mv(o,!0,1,void 0,s&&!_C(o)?n.from:void 0)}return r.parent==null?AC:null}function AC(){return 0}class Ud extends Kc{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Ud(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(EC(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return Xv(this.context.next,this.base,this.pos)}}function EC(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function RC(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function Bl({closing:r,align:e=!0,units:t=1}){return i=>Mv(i,e,t,r)}function Mv(r,e,t,i,n){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||n==r.pos+o,l=e?RC(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}const XC=r=>r.baseIndent;function Nn({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const MC=G.define(),yn=new oe;function Jc(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}class eh{constructor(e,t){this.specs=e;let i;function n(a){let l=cn.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof Tr?a=>a.prop(qn)==o.data:o?a=>a==o:void 0,this.style=Av(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new cn(i):null,this.themeType=t.themeType}static define(e,t){return new eh(e,t||{})}}const Du=G.define(),ZC=G.define({combine(r){return r.length?[r[0]]:null}});function Yh(r){let e=r.facet(Du);return e.length?e:r.facet(ZC)}function LC(r,e){let t=[DC],i;return r instanceof eh&&(r.module&&t.push(Y.styleModule.of(r.module)),i=r.themeType),i?t.push(Du.computeN([Y.darkTheme],n=>n.facet(Y.darkTheme)==(i=="dark")?[r]:[])):t.push(Du.of(r)),t}class qC{constructor(e){this.markCache=Object.create(null),this.tree=je(e.state),this.decorations=this.buildDeco(e,Yh(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=je(e.state),i=Yh(e.state),n=i!=Yh(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!n&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return he.none;let i=new Hn;for(let{from:n,to:s}of e.visibleRanges)xC(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=he.mark({class:l})))},n,s);return i.finish()}}const DC=gn.high(Yt.fromClass(qC,{decorations:r=>r.decorations})),zC=Y.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Zv=1e4,Lv="()[]{}",qv=G.define({combine(r){return as(r,{afterCursor:!0,brackets:Lv,maxScanDistance:Zv,renderMatch:NC})}}),BC=he.mark({class:"cm-matchingBracket"}),IC=he.mark({class:"cm-nonmatchingBracket"});function NC(r){let e=[],t=r.matched?BC:IC;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const VC=gr.define({create(){return he.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],i=e.state.facet(qv);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=ni(e.state,n.head,-1,i)||n.head>0&&ni(e.state,n.head-1,1,i)||i.afterCursor&&(ni(e.state,n.head,1,i)||n.head<e.state.doc.length&&ni(e.state,n.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return he.set(t,!0)},provide:r=>Y.decorations.from(r)}),WC=[VC,zC];function jC(r={}){return[qv.of(r),WC]}const Dv=new oe;function zu(r,e,t){let i=r.prop(e<0?oe.openedBy:oe.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function Bu(r){let e=r.type.prop(Dv);return e?e(r.node):r}function ni(r,e,t,i={}){let n=i.maxScanDistance||Zv,s=i.brackets||Lv,o=je(r),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=zu(l.type,t,s);if(c&&l.from<l.to){let h=Bu(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return UC(r,e,t,l,h,c,s)}}return YC(r,e,t,o,a.type,n,s)}function UC(r,e,t,i,n,s,o){let a=i.parent,l={from:n.from,to:n.to},c=0,h=a?.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let f=Bu(h);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(zu(h.type,t,o))c++;else if(zu(h.type,-t,o)){if(c==0){let f=Bu(h);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function YC(r,e,t,i,n,s,o){let a=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=r.doc.iterRange(e,t>0?r.doc.length:0),f=0;for(let u=0;!h.next().done&&u<=s;){let d=h.value;t<0&&(u+=d.length);let O=e+u*t;for(let p=t>0?0:d.length-1,m=t>0?d.length:-1;p!=m;p+=t){let b=o.indexOf(d[p]);if(!(b<0||i.resolveInner(O+p,1).type!=n))if(b%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:O+p,to:O+p+1},matched:b>>1==l>>1};f--}}t>0&&(u+=d.length)}return h.done?{start:c,matched:!1}:null}const GC=Object.create(null),Mg=[dt.none],Zg=[],Lg=Object.create(null),FC=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])FC[r]=HC(GC,e);function Gh(r,e){Zg.indexOf(r)>-1||(Zg.push(r),console.warn(e))}function HC(r,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let h=r[c]||y[c];h?typeof h=="function"?l.length?l=l.map(h):Gh(c,`Modifier ${c} used at start of tag`):l.length?Gh(c,`Tag ${c} used as modifier`):l=Array.isArray(h)?h:[h]:Gh(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),n=i+" "+t.map(a=>a.id),s=Lg[n];if(s)return s.id;let o=Lg[n]=dt.define({id:Mg.length,name:i,props:[zi({[i]:t})]});return Mg.push(o),o.id}st.RTL,st.LTR;const KC=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),i=Gd(r.state,t.from);return i.line?JC(r):i.block?tA(r):!1};function Yd(r,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=r(e,t);return n?(i(t.update(n)),!0):!1}}const JC=Yd(nA,0),eA=Yd(zv,0),tA=Yd((r,e)=>zv(r,e,iA(e)),0);function Gd(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const ko=50;function rA(r,{open:e,close:t},i,n){let s=r.sliceDoc(i-ko,i),o=r.sliceDoc(n,n+ko),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:n+l,margin:l&&1}};let h,f;n-i<=2*ko?h=f=r.sliceDoc(i,n):(h=r.sliceDoc(i,i+ko),f=r.sliceDoc(n-ko,n));let u=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(f)[0].length,O=f.length-d-t.length;return h.slice(u,u+e.length)==e&&f.slice(O,O+t.length)==t?{open:{pos:i+u+e.length,margin:/\s/.test(h.charAt(u+e.length))?1:0},close:{pos:n-d-t.length,margin:/\s/.test(f.charAt(O-1))?1:0}}:null}function iA(r){let e=[];for(let t of r.selection.ranges){let i=r.doc.lineAt(t.from),n=t.to<=i.to?i:r.doc.lineAt(t.to);n.from>i.from&&n.from==t.to&&(n=t.to==i.to+1?i:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:n.to})}return e}function zv(r,e,t=e.selection.ranges){let i=t.map(s=>Gd(e,s.from).block);if(!i.every(s=>s))return null;let n=t.map((s,o)=>rA(e,i[o],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,o)=>n[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let o=0,a;o<n.length;o++)if(a=n[o]){let l=i[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function nA(r,e,t=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,c=Gd(e,s).line;if(c){for(let h=s;h<=o;){let f=e.doc.lineAt(h);if(f.from>n&&(s==o||o>f.from)){n=f.from;let u=/^\s*/.exec(f.text)[0].length,d=u==f.length,O=f.text.slice(u,u+c.length)==c?u:-1;u<f.text.length&&u<l&&(l=u),i.push({line:f,comment:O,token:c,indent:u,empty:d,single:!1})}h=f.to+1}if(l<1e9)for(let h=a;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==a+1&&(i[a].single=!0)}}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:f}of i)(f||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}const Iu=Di.define(),sA=Di.define(),oA=G.define(),Bv=G.define({combine(r){return as(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,n)=>e(i,n)||t(i,n)})}}),Iv=gr.define({create(){return si.empty},update(r,e){let t=e.state.facet(Bv),i=e.annotation(Iu);if(i){let l=tr.fromTransaction(e,i.selection),c=i.side,h=c==0?r.undone:r.done;return l?h=yc(h,h.length,t.minDepth,l):h=Wv(h,e.startState.selection),new si(c==0?i.rest:h,c==0?h:i.rest)}let n=e.annotation(sA);if((n=="full"||n=="before")&&(r=r.isolate()),e.annotation(ft.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=tr.fromTransaction(e),o=e.annotation(ft.time),a=e.annotation(ft.userEvent);return s?r=r.addChanges(s,o,a,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new si(r.done.map(tr.fromJSON),r.undone.map(tr.fromJSON))}});function aA(r={}){return[Iv,Bv.of(r),Y.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Nv:e.inputType=="historyRedo"?Nu:null;return i?(e.preventDefault(),i(t)):!1}})]}function th(r,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let n=t.field(Iv,!1);if(!n)return!1;let s=n.pop(r,t,e);return s?(i(s),!0):!1}}const Nv=th(0,!1),Nu=th(1,!1),lA=th(0,!0),cA=th(1,!0);class tr{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new tr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new tr(e.changes&&ut.fromJSON(e.changes),[],e.mapped&&li.fromJSON(e.mapped),e.startSelection&&A.fromJSON(e.startSelection),e.selectionsAfter.map(A.fromJSON))}static fromTransaction(e,t){let i=$r;for(let n of e.startState.facet(oA)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new tr(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,$r)}static selection(e){return new tr(void 0,$r,void 0,void 0,e)}}function yc(r,e,t,i){let n=e+1>t+20?e-t-1:0,s=r.slice(n,e);return s.push(i),s}function hA(r,e){let t=[],i=!1;return r.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],h=t[l++];a>=c&&o<=h&&(i=!0)}}),i}function fA(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Vv(r,e){return r.length?e.length?r.concat(e):r:e}const $r=[],uA=200;function Wv(r,e){if(r.length){let t=r[r.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-uA));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),yc(r,r.length-1,1e9,t.setSelAfter(i)))}else return[tr.selection([e])]}function dA(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Fh(r,e){if(!r.length)return r;let t=r.length,i=$r;for(;t;){let n=OA(r[t-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,i=n.selectionsAfter}return i.length?[tr.selection(i)]:$r}function OA(r,e,t){let i=Vv(r.selectionsAfter.length?r.selectionsAfter.map(a=>a.map(e)):$r,t);if(!r.changes)return tr.selection(i);let n=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new tr(n,xe.mapEffects(r.effects,e),o,r.startSelection.map(s),i)}const pA=/^(input\.type|delete)($|\.)/;class si{constructor(e,t,i=0,n=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new si(this.done,this.undone):this}addChanges(e,t,i,n,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||pA.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,hA(a.changes,e.changes))||i=="input.type.compose")?o=yc(o,o.length-1,n.minDepth,new tr(e.changes.compose(a.changes),Vv(xe.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,$r)):o=yc(o,o.length,n.minDepth,e),new si(o,$r,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:$r;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&fA(s[s.length-1],e)?this:new si(Wv(this.done,e),this.undone,t,i)}addMapping(e){return new si(Fh(this.done,e),Fh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1],o=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Iu.of({side:e,rest:dA(n),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=n.length==1?$r:n.slice(0,n.length-1);return s.mapped&&(a=Fh(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Iu.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}si.empty=new si($r,$r);const gA=[{key:"Mod-z",run:Nv,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Nu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Nu,preventDefault:!0},{key:"Mod-u",run:lA,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:cA,preventDefault:!0}];function oo(r,e){return A.create(r.ranges.map(e),r.mainIndex)}function Nr(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Vr({state:r,dispatch:e},t){let i=oo(r.selection,t);return i.eq(r.selection,!0)?!1:(e(Nr(r,i)),!0)}function rh(r,e){return A.cursor(e?r.to:r.from)}function jv(r,e){return Vr(r,t=>t.empty?r.moveByChar(t,e):rh(t,e))}function qt(r){return r.textDirectionAt(r.state.selection.main.head)==st.LTR}const Uv=r=>jv(r,!qt(r)),Yv=r=>jv(r,qt(r));function Gv(r,e){return Vr(r,t=>t.empty?r.moveByGroup(t,e):rh(t,e))}const mA=r=>Gv(r,!qt(r)),yA=r=>Gv(r,qt(r));function bA(r,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function ih(r,e,t){let i=je(r).resolveInner(e.head),n=t?oe.closedBy:oe.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;bA(r,c,n)?i=c:l=t?c.to:c.from}let s=i.type.prop(n),o,a;return s&&(o=t?ni(r,i.from,1):ni(r,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,A.cursor(a,t?-1:1)}const vA=r=>Vr(r,e=>ih(r.state,e,!qt(r))),SA=r=>Vr(r,e=>ih(r.state,e,qt(r)));function Fv(r,e){return Vr(r,t=>{if(!t.empty)return rh(t,e);let i=r.moveVertically(t,e);return i.head!=t.head?i:r.moveToLineBoundary(t,e)})}const Hv=r=>Fv(r,!1),Kv=r=>Fv(r,!0);function Jv(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,i=0,n;if(e){for(let s of r.state.facet(Y.scrollMargins)){let o=s(r);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(i=Math.max(o?.bottom,i))}n=r.scrollDOM.clientHeight-t-i}else n=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,n-5)}}function eS(r,e){let t=Jv(r),{state:i}=r,n=oo(i.selection,o=>o.empty?r.moveVertically(o,e,t.height):rh(o,e));if(n.eq(i.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(i.selection.main.head),a=r.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Y.scrollIntoView(n.main.head,{y:"start",yMargin:o.top-l}))}return r.dispatch(Nr(i,n),{effects:s}),!0}const qg=r=>eS(r,!1),Vu=r=>eS(r,!0);function bn(r,e,t){let i=r.lineBlockAt(e.head),n=r.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?i.to:i.from)&&(n=r.moveToLineBoundary(e,t,!1)),!t&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=A.cursor(i.from+s))}return n}const xA=r=>Vr(r,e=>bn(r,e,!0)),QA=r=>Vr(r,e=>bn(r,e,!1)),wA=r=>Vr(r,e=>bn(r,e,!qt(r))),kA=r=>Vr(r,e=>bn(r,e,qt(r))),PA=r=>Vr(r,e=>A.cursor(r.lineBlockAt(e.head).from,1)),TA=r=>Vr(r,e=>A.cursor(r.lineBlockAt(e.head).to,-1));function $A(r,e,t){let i=!1,n=oo(r.selection,s=>{let o=ni(r,s.head,-1)||ni(r,s.head,1)||s.head>0&&ni(r,s.head-1,1)||s.head<r.doc.length&&ni(r,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return A.cursor(a)});return i?(e(Nr(r,n)),!0):!1}const _A=({state:r,dispatch:e})=>$A(r,e);function Xr(r,e){let t=oo(r.state.selection,i=>{let n=e(i);return A.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Nr(r.state,t)),!0)}function tS(r,e){return Xr(r,t=>r.moveByChar(t,e))}const rS=r=>tS(r,!qt(r)),iS=r=>tS(r,qt(r));function nS(r,e){return Xr(r,t=>r.moveByGroup(t,e))}const CA=r=>nS(r,!qt(r)),AA=r=>nS(r,qt(r)),EA=r=>Xr(r,e=>ih(r.state,e,!qt(r))),RA=r=>Xr(r,e=>ih(r.state,e,qt(r)));function sS(r,e){return Xr(r,t=>r.moveVertically(t,e))}const oS=r=>sS(r,!1),aS=r=>sS(r,!0);function lS(r,e){return Xr(r,t=>r.moveVertically(t,e,Jv(r).height))}const Dg=r=>lS(r,!1),zg=r=>lS(r,!0),XA=r=>Xr(r,e=>bn(r,e,!0)),MA=r=>Xr(r,e=>bn(r,e,!1)),ZA=r=>Xr(r,e=>bn(r,e,!qt(r))),LA=r=>Xr(r,e=>bn(r,e,qt(r))),qA=r=>Xr(r,e=>A.cursor(r.lineBlockAt(e.head).from)),DA=r=>Xr(r,e=>A.cursor(r.lineBlockAt(e.head).to)),Bg=({state:r,dispatch:e})=>(e(Nr(r,{anchor:0})),!0),Ig=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.doc.length})),!0),Ng=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.selection.main.anchor,head:0})),!0),Vg=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),zA=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),BA=({state:r,dispatch:e})=>{let t=nh(r).map(({from:i,to:n})=>A.range(i,Math.min(n+1,r.doc.length)));return e(r.update({selection:A.create(t),userEvent:"select"})),!0},IA=({state:r,dispatch:e})=>{let t=oo(r.selection,i=>{let n=je(r),s=n.resolveStack(i.from,1);if(i.empty){let o=n.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return A.range(a.to,a.from)}return i});return t.eq(r.selection)?!1:(e(Nr(r,t)),!0)};function cS(r,e){let{state:t}=r,i=t.selection,n=t.selection.ranges.slice();for(let s of t.selection.ranges){let o=t.doc.lineAt(s.head);if(e?o.to<r.state.doc.length:o.from>0)for(let a=s;;){let l=r.moveVertically(a,e);if(l.head<o.from||l.head>o.to){n.some(c=>c.head==l.head)||n.push(l);break}else{if(l.head==a.head)break;a=l}}}return n.length==i.ranges.length?!1:(r.dispatch(Nr(t,A.create(n,n.length-1))),!0)}const NA=r=>cS(r,!1),VA=r=>cS(r,!0),WA=({state:r,dispatch:e})=>{let t=r.selection,i=null;return t.ranges.length>1?i=A.create([t.main]):t.main.empty||(i=A.create([A.cursor(t.main.head)])),i?(e(Nr(r,i)),!0):!1};function Ma(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:i}=r,n=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=Sl(r,l,!1)):l>o&&(t="delete.forward",l=Sl(r,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Sl(r,o,!1),a=Sl(r,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:A.cursor(o,o<s.head?-1:1)}});return n.changes.empty?!1:(r.dispatch(i.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Y.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Sl(r,e,t){if(r instanceof Y)for(let i of r.state.facet(Y.atomicRanges).map(n=>n(r)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const hS=(r,e,t)=>Ma(r,i=>{let n=i.from,{state:s}=r,o=s.doc.lineAt(n),a,l;if(t&&!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,n-o.from))){if(a[a.length-1]=="	")return n-1;let c=fi(a,s.tabSize),h=c%gc(s)||gc(s);for(let f=0;f<h&&a[a.length-1-f]==" ";f++)n--;l=n}else l=kt(o.text,n-o.from,e,e)+o.from,l==n&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,n-o.from))&&(l=kt(o.text,l-o.from,!1,!1)+o.from);return l}),Wu=r=>hS(r,!1,!0),fS=r=>hS(r,!0,!1),uS=(r,e)=>Ma(r,t=>{let i=t.head,{state:n}=r,s=n.doc.lineAt(i),o=n.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=kt(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||i!=t.head)&&(a=h),i=l}return i}),dS=r=>uS(r,!1),jA=r=>uS(r,!0),UA=r=>Ma(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),YA=r=>Ma(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),GA=r=>Ma(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),FA=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Te.of(["",""])},range:A.cursor(i.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},HA=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),o=n==s.from?n-1:kt(s.text,n-s.from,!1)+s.from,a=n==s.to?n+1:kt(s.text,n-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:r.doc.slice(n,a).append(r.doc.slice(o,n))},range:A.cursor(a)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function nh(r){let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),t>=n.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});t=s.number+1}return e}function OS(r,e,t){if(r.readOnly)return!1;let i=[],n=[];for(let s of nh(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let l of s.ranges)n.push(A.range(Math.min(r.doc.length,l.anchor+a),Math.min(r.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let l of s.ranges)n.push(A.range(l.anchor-a,l.head-a))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:A.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const KA=({state:r,dispatch:e})=>OS(r,e,!1),JA=({state:r,dispatch:e})=>OS(r,e,!0);function pS(r,e,t){if(r.readOnly)return!1;let i=[];for(let n of nh(r))t?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const eE=({state:r,dispatch:e})=>pS(r,e,!1),tE=({state:r,dispatch:e})=>pS(r,e,!0),rE=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(nh(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=oo(e.selection,n=>{let s;if(r.lineWrapping){let o=r.lineBlockAt(n.head),a=r.coordsAtPos(n.head,n.assoc||1);a&&(s=o.bottom+r.documentTop-a.bottom+r.defaultLineHeight/2)}return r.moveVertically(n,!0,s)}).map(t);return r.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function iE(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=je(r).resolveInner(e),i=t.childBefore(e),n=t.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(oe.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from&&!/\S/.test(r.sliceDoc(i.to,n.from))?{from:i.to,to:n.from}:null}const Wg=gS(!1),nE=gS(!0);function gS(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:o}=n,a=e.doc.lineAt(s),l=!r&&s==o&&iE(e,s);r&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Kc(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=Rv(c,s);for(h==null&&(h=fi(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",mc(e,h)];return l&&f.push(mc(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Te.of(f)},range:A.cursor(s+1+f[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Fd(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let o=i.from;o<=i.to;){let a=r.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,n,i),t=a.number),o=a.to+1}let s=r.changes(n);return{changes:n,range:A.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const sE=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),i=new Kc(r,{overrideIndentation:s=>{let o=t[s];return o??-1}}),n=Fd(r,(s,o,a)=>{let l=Rv(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=mc(r,l);(c!=h||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return n.changes.empty||e(r.update(n,{userEvent:"indent"})),!0},mS=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Fd(r,(t,i)=>{i.push({from:t.from,insert:r.facet(Xa)})}),{userEvent:"input.indent"})),!0),yS=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Fd(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=fi(n,r.tabSize),o=0,a=mc(r,Math.max(0,s-gc(r)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),oE=r=>(r.setTabFocusMode(),!0),aE=[{key:"Ctrl-b",run:Uv,shift:rS,preventDefault:!0},{key:"Ctrl-f",run:Yv,shift:iS},{key:"Ctrl-p",run:Hv,shift:oS},{key:"Ctrl-n",run:Kv,shift:aS},{key:"Ctrl-a",run:PA,shift:qA},{key:"Ctrl-e",run:TA,shift:DA},{key:"Ctrl-d",run:fS},{key:"Ctrl-h",run:Wu},{key:"Ctrl-k",run:UA},{key:"Ctrl-Alt-h",run:dS},{key:"Ctrl-o",run:FA},{key:"Ctrl-t",run:HA},{key:"Ctrl-v",run:Vu}],lE=[{key:"ArrowLeft",run:Uv,shift:rS,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:mA,shift:CA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:wA,shift:ZA,preventDefault:!0},{key:"ArrowRight",run:Yv,shift:iS,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yA,shift:AA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:kA,shift:LA,preventDefault:!0},{key:"ArrowUp",run:Hv,shift:oS,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Bg,shift:Ng},{mac:"Ctrl-ArrowUp",run:qg,shift:Dg},{key:"ArrowDown",run:Kv,shift:aS,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ig,shift:Vg},{mac:"Ctrl-ArrowDown",run:Vu,shift:zg},{key:"PageUp",run:qg,shift:Dg},{key:"PageDown",run:Vu,shift:zg},{key:"Home",run:QA,shift:MA,preventDefault:!0},{key:"Mod-Home",run:Bg,shift:Ng},{key:"End",run:xA,shift:XA,preventDefault:!0},{key:"Mod-End",run:Ig,shift:Vg},{key:"Enter",run:Wg,shift:Wg},{key:"Mod-a",run:zA},{key:"Backspace",run:Wu,shift:Wu,preventDefault:!0},{key:"Delete",run:fS,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:dS,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:jA,preventDefault:!0},{mac:"Mod-Backspace",run:YA,preventDefault:!0},{mac:"Mod-Delete",run:GA,preventDefault:!0}].concat(aE.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),cE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:vA,shift:EA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:SA,shift:RA},{key:"Alt-ArrowUp",run:KA},{key:"Shift-Alt-ArrowUp",run:eE},{key:"Alt-ArrowDown",run:JA},{key:"Shift-Alt-ArrowDown",run:tE},{key:"Mod-Alt-ArrowUp",run:NA},{key:"Mod-Alt-ArrowDown",run:VA},{key:"Escape",run:WA},{key:"Mod-Enter",run:nE},{key:"Alt-l",mac:"Ctrl-l",run:BA},{key:"Mod-i",run:IA,preventDefault:!0},{key:"Mod-[",run:yS},{key:"Mod-]",run:mS},{key:"Mod-Alt-\\",run:sE},{key:"Shift-Mod-k",run:rE},{key:"Shift-Mod-\\",run:_A},{key:"Mod-/",run:KC},{key:"Alt-A",run:eA},{key:"Ctrl-m",mac:"Shift-Alt-m",run:oE}].concat(lE),hE={key:"Tab",run:mS,shift:yS},jg=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Ys{constructor(e,t,i=0,n=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=s?a=>s(jg(a)):jg,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return xi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=ab(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Rn(e);let n=this.normalize(t);if(n.length)for(let s=0,o=i;;s++){let a=n.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==n.length-1){if(l)return this.value=l,this;break}o==i&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,i){let n=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:i}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(Ys.prototype[Symbol.iterator]=function(){return this});const bS={from:-1,to:-1,match:/.*/.exec("")},Hd="gm"+(/x/.unicode==null?"":"u");class vS{constructor(e,t,i,n=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=bS,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new SS(e,t,i,n,s);this.re=new RegExp(t,Hd+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let o=e.lineAt(n);this.curLineStart=o.from,this.matchPos=bc(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,n=i+t[0].length;if(this.matchPos=bc(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Hh=new WeakMap;class _s{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let n=Hh.get(e);if(!n||n.from>=i||n.to<=t){let a=new _s(t,e.sliceString(t,i));return Hh.set(e,a),a}if(n.from==t&&n.to==i)return n;let{text:s,from:o}=n;return o>t&&(s=e.sliceString(t,o)+s,o=t),n.to<i&&(s+=e.sliceString(n.to,i)),Hh.set(e,new _s(o,s)),new _s(t,s.slice(t-o,i-o))}}class SS{constructor(e,t,i,n,s){this.text=e,this.to=s,this.done=!1,this.value=bS,this.matchPos=bc(e,n),this.re=new RegExp(t,Hd+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=_s.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,n=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this.matchPos=bc(this.text,n+(i==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=_s.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(vS.prototype[Symbol.iterator]=SS.prototype[Symbol.iterator]=function(){return this});function fE(r){try{return new RegExp(r,Hd),!0}catch{return!1}}function bc(r,e){if(e>=r.length)return e;let t=r.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function ju(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=vt("input",{class:"cm-textfield",name:"line",value:e}),i=vt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:jo.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},vt("label",r.state.phrase("Go to line"),": ",t)," ",vt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),vt("button",{name:"close",onclick:()=>{r.dispatch({effects:jo.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=r,a=o.doc.lineAt(o.selection.main.head),[,l,c,h,f]=s,u=h?+h.slice(1):0,d=c?+c:a.number;if(c&&f){let m=d/100;l&&(m=m*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*m)}else c&&l&&(d=d*(l=="-"?-1:1)+a.number);let O=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),p=A.cursor(O.from+Math.max(0,Math.min(u,O.length)));r.dispatch({effects:[jo.of(!1),Y.scrollIntoView(p.from,{y:"center"})],selection:p}),r.focus()}return{dom:i}}const jo=xe.define(),Ug=gr.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(jo)&&(r=t.value);return r},provide:r=>uc.from(r,e=>e?ju:null)}),uE=r=>{let e=fc(r,ju);if(!e){let t=[jo.of(!0)];r.state.field(Ug,!1)==null&&t.push(xe.appendConfig.of([Ug,dE])),r.dispatch({effects:t}),e=fc(r,ju)}return e&&e.dom.querySelector("input").select(),!0},dE=Y.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),OE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},pE=G.define({combine(r){return as(r,OE,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function gE(r){return[SE,vE]}const mE=he.mark({class:"cm-selectionMatch"}),yE=he.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Yg(r,e,t,i){return(t==0||r(e.sliceDoc(t-1,t))!=nt.Word)&&(i==e.doc.length||r(e.sliceDoc(i,i+1))!=nt.Word)}function bE(r,e,t,i){return r(e.sliceDoc(t,t+1))==nt.Word&&r(e.sliceDoc(i-1,i))==nt.Word}const vE=Yt.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(pE),{state:t}=r,i=t.selection;if(i.ranges.length>1)return he.none;let n=i.main,s,o=null;if(n.empty){if(!e.highlightWordAroundCursor)return he.none;let l=t.wordAt(n.head);if(!l)return he.none;o=t.charCategorizer(n.head),s=t.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return he.none;if(e.wholeWords){if(s=t.sliceDoc(n.from,n.to),o=t.charCategorizer(n.head),!(Yg(o,t,n.from,n.to)&&bE(o,t,n.from,n.to)))return he.none}else if(s=t.sliceDoc(n.from,n.to),!s)return he.none}let a=[];for(let l of r.visibleRanges){let c=new Ys(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:h,to:f}=c.value;if((!o||Yg(o,t,h,f))&&(n.empty&&h<=n.from&&f>=n.to?a.push(yE.range(h,f)):(h>=n.to||f<=n.from)&&a.push(mE.range(h,f)),a.length>e.maxMatches))return he.none}}return he.set(a)}},{decorations:r=>r.decorations}),SE=Y.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),xE=({state:r,dispatch:e})=>{let{selection:t}=r,i=A.create(t.ranges.map(n=>r.wordAt(n.head)||A.cursor(n.head)),t.mainIndex);return i.eq(t)?!1:(e(r.update({selection:i})),!0)};function QE(r,e){let{main:t,ranges:i}=r.selection,n=r.wordAt(t.head),s=n&&n.from==t.from&&n.to==t.to;for(let o=!1,a=new Ys(r.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Ys(r.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=r.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const wE=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return xE({state:r,dispatch:e});let i=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=i))return!1;let n=QE(r,i);return n?(e(r.update({selection:r.selection.addRange(A.range(n.from,n.to),!1),effects:Y.scrollIntoView(n.to)})),!0):!1},ao=G.define({combine(r){return as(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new ZE(e),scrollToMatch:e=>Y.scrollIntoView(e)})}});class xS{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||fE(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new $E(this):new PE(this)}getCursor(e,t=0,i){let n=e.doc?e:Pe.create({doc:e});return i==null&&(i=n.doc.length),this.regexp?ys(this,n,t,i):ms(this,n,t,i)}}class QS{constructor(e){this.spec=e}}function ms(r,e,t,i){return new Ys(e.doc,r.unquoted,t,i,r.caseSensitive?void 0:n=>n.toLowerCase(),r.wholeWord?kE(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function kE(r,e){return(t,i,n,s)=>((s>t||s+n.length<i)&&(s=Math.max(0,t-2),n=r.sliceString(s,Math.min(r.length,i+2))),(e(vc(n,t-s))!=nt.Word||e(Sc(n,t-s))!=nt.Word)&&(e(Sc(n,i-s))!=nt.Word||e(vc(n,i-s))!=nt.Word))}class PE extends QS{constructor(e){super(e)}nextMatch(e,t,i){let n=ms(this.spec,e,i,e.doc.length).nextOverlapping();if(n.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);n=ms(this.spec,e,0,s).nextOverlapping()}return n.done||n.value.from==t&&n.value.to==i?null:n.value}prevMatchInRange(e,t,i){for(let n=i;;){let s=Math.max(t,n-1e4-this.spec.unquoted.length),o=ms(this.spec,e,s,n),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;n-=1e4}}prevMatch(e,t,i){let n=this.prevMatchInRange(e,0,t);return n||(n=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=t||n.to!=i)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=ms(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=ms(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}function ys(r,e,t,i){return new vS(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?TE(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function vc(r,e){return r.slice(kt(r,e,!1),e)}function Sc(r,e){return r.slice(e,kt(r,e))}function TE(r){return(e,t,i)=>!i[0].length||(r(vc(i.input,i.index))!=nt.Word||r(Sc(i.input,i.index))!=nt.Word)&&(r(Sc(i.input,i.index+i[0].length))!=nt.Word||r(vc(i.input,i.index+i[0].length))!=nt.Word)}class $E extends QS{nextMatch(e,t,i){let n=ys(this.spec,e,i,e.doc.length).next();return n.done&&(n=ys(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=1;;n++){let s=Math.max(t,i-n*1e4),o=ys(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let n=i.length;n>0;n--){let s=+i.slice(0,n);if(s>0&&s<e.match.length)return e.match[s]+i.slice(n)}return t})}matchAll(e,t){let i=ys(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=ys(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}const da=xe.define(),Kd=xe.define(),sn=gr.define({create(r){return new Kh(Uu(r).create(),null)},update(r,e){for(let t of e.effects)t.is(da)?r=new Kh(t.value.create(),r.panel):t.is(Kd)&&(r=new Kh(r.query,t.value?Jd:null));return r},provide:r=>uc.from(r,e=>e.panel)});class Kh{constructor(e,t){this.query=e,this.panel=t}}const _E=he.mark({class:"cm-searchMatch"}),CE=he.mark({class:"cm-searchMatch cm-searchMatch-selected"}),AE=Yt.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(sn))}update(r){let e=r.state.field(sn);(e!=r.startState.field(sn)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return he.none;let{view:t}=this,i=new Hn;for(let n=0,s=t.visibleRanges,o=s.length;n<o;n++){let{from:a,to:l}=s[n];for(;n<o-1&&l>s[n+1].from-2*250;)l=s[++n].to;r.highlight(t.state,a,l,(c,h)=>{let f=t.state.selection.ranges.some(u=>u.from==c&&u.to==h);i.add(c,h,f?CE:_E)})}return i.finish()}},{decorations:r=>r.decorations});function Za(r){return e=>{let t=e.state.field(sn,!1);return t&&t.query.spec.valid?r(e,t):PS(e)}}const xc=Za((r,{query:e})=>{let{to:t}=r.state.selection.main,i=e.nextMatch(r.state,t,t);if(!i)return!1;let n=A.single(i.from,i.to),s=r.state.facet(ao);return r.dispatch({selection:n,effects:[eO(r,i),s.scrollToMatch(n.main,r)],userEvent:"select.search"}),kS(r),!0}),Qc=Za((r,{query:e})=>{let{state:t}=r,{from:i}=t.selection.main,n=e.prevMatch(t,i,i);if(!n)return!1;let s=A.single(n.from,n.to),o=r.state.facet(ao);return r.dispatch({selection:s,effects:[eO(r,n),o.scrollToMatch(s.main,r)],userEvent:"select.search"}),kS(r),!0}),EE=Za((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:A.create(t.map(i=>A.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),RE=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:n}=t.main,s=[],o=0;for(let a=new Ys(r.doc,r.sliceDoc(i,n));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(A.range(a.value.from,a.value.to))}return e(r.update({selection:A.create(s,o),userEvent:"select.search.matches"})),!0},Gg=Za((r,{query:e})=>{let{state:t}=r,{from:i,to:n}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=s,a=[],l,c,h=[];o.from==i&&o.to==n&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),h.push(Y.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let f=r.state.changes(a);return o&&(l=A.single(o.from,o.to).map(f),h.push(eO(r,o)),h.push(t.facet(ao).scrollToMatch(l.main,r))),r.dispatch({changes:f,selection:l,effects:h,userEvent:"input.replace"}),!0}),XE=Za((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(n=>{let{from:s,to:o}=n;return{from:s,to:o,insert:e.getReplacement(n)}});if(!t.length)return!1;let i=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Y.announce.of(i),userEvent:"input.replace.all"}),!0});function Jd(r){return r.state.facet(ao).createPanel(r)}function Uu(r,e){var t,i,n,s,o;let a=r.selection.main,l=a.empty||a.to>a.from+100?"":r.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=r.facet(ao);return new xS({search:((t=e?.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(n=e?.literal)!==null&&n!==void 0?n:c.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function wS(r){let e=fc(r,Jd);return e&&e.dom.querySelector("[main-field]")}function kS(r){let e=wS(r);e&&e==r.root.activeElement&&e.select()}const PS=r=>{let e=r.state.field(sn,!1);if(e&&e.panel){let t=wS(r);if(t&&t!=r.root.activeElement){let i=Uu(r.state,e.query.spec);i.valid&&r.dispatch({effects:da.of(i)}),t.focus(),t.select()}}else r.dispatch({effects:[Kd.of(!0),e?da.of(Uu(r.state,e.query.spec)):xe.appendConfig.of(qE)]});return!0},TS=r=>{let e=r.state.field(sn,!1);if(!e||!e.panel)return!1;let t=fc(r,Jd);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:Kd.of(!1)}),!0},ME=[{key:"Mod-f",run:PS,scope:"editor search-panel"},{key:"F3",run:xc,shift:Qc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xc,shift:Qc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:TS,scope:"editor search-panel"},{key:"Mod-Shift-l",run:RE},{key:"Mod-Alt-g",run:uE},{key:"Mod-d",run:wE,preventDefault:!0}];class ZE{constructor(e){this.view=e;let t=this.query=e.state.field(sn).query.spec;this.commit=this.commit.bind(this),this.searchField=vt("input",{value:t.search,placeholder:ar(e,"Find"),"aria-label":ar(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=vt("input",{value:t.replace,placeholder:ar(e,"Replace"),"aria-label":ar(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=vt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=vt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=vt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(n,s,o){return vt("button",{class:"cm-button",name:n,onclick:s,type:"button"},o)}this.dom=vt("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,i("next",()=>xc(e),[ar(e,"next")]),i("prev",()=>Qc(e),[ar(e,"previous")]),i("select",()=>EE(e),[ar(e,"all")]),vt("label",null,[this.caseField,ar(e,"match case")]),vt("label",null,[this.reField,ar(e,"regexp")]),vt("label",null,[this.wordField,ar(e,"by word")]),...e.state.readOnly?[]:[vt("br"),this.replaceField,i("replace",()=>Gg(e),[ar(e,"replace")]),i("replaceAll",()=>XE(e),[ar(e,"replace all")])],vt("button",{name:"close",onclick:()=>TS(e),"aria-label":ar(e,"close"),type:"button"},[""])])}commit(){let e=new xS({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:da.of(e)}))}keydown(e){$2(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Qc:xc)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Gg(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(da)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ao).top}}function ar(r,e){return r.state.phrase(e)}const xl=30,Ql=/[\s\.,:;?!]/;function eO(r,{from:e,to:t}){let i=r.state.doc.lineAt(e),n=r.state.doc.lineAt(t).to,s=Math.max(i.from,e-xl),o=Math.min(n,t+xl),a=r.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<xl;l++)if(!Ql.test(a[l+1])&&Ql.test(a[l])){a=a.slice(l);break}}if(o!=n){for(let l=a.length-1;l>a.length-xl;l--)if(!Ql.test(a[l-1])&&Ql.test(a[l])){a=a.slice(0,l);break}}return Y.announce.of(`${r.state.phrase("current match")}. ${a} ${r.state.phrase("on line")} ${i.number}.`)}const LE=Y.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),qE=[sn,gn.low(AE),LE];class tO{constructor(e,t,i,n){this.state=e,this.pos=t,this.explicit=i,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=je(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),s=n.search($S(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Fg(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function DE(r){let e=Object.create(null),t=Object.create(null);for(let{label:n}of r){e[n[0]]=!0;for(let s=1;s<n.length;s++)t[n[s]]=!0}let i=Fg(e)+Fg(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function sh(r){let e=r.map(n=>typeof n=="string"?{label:n}:n),[t,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:DE(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:t}:null}}function rO(r,e){return t=>{for(let i=je(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class Hg{constructor(e,t,i,n){this.completion=e,this.source=t,this.match=i,this.score=n}}function Vn(r){return r.selection.main.from}function $S(r,e){var t;let{source:i}=r,n=e&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?r:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const iO=Di.define();function zE(r,e,t,i){let{main:n}=r.selection,s=t-n.from,o=i-n.from;return{...r.changeByRange(a=>{if(a!=n&&t!=i&&r.sliceDoc(a.from+s,a.from+o)!=r.sliceDoc(t,i))return{range:a};let l=r.toText(e);return{changes:{from:a.from+s,to:i==n.from?a.to:a.from+o,insert:l},range:A.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const Kg=new WeakMap;function BE(r){if(!Array.isArray(r))return r;let e=Kg.get(r);return e||Kg.set(r,e=sh(r)),e}const wc=xe.define(),Oa=xe.define();class IE{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=xi(e,t),n=Rn(i);this.chars.push(i);let s=e.slice(t,t+n),o=s.toUpperCase();this.folded.push(xi(o==s?s.toLowerCase():o,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:n,precise:s,byWord:o}=this;if(t.length==1){let v=xi(e,0),x=Rn(v),Q=x==e.length?0:-100;if(v!=t[0])if(v==i[0])Q+=-200;else return null;return this.ret(Q,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let v=0,x=Math.min(e.length,200);v<x&&c<l;){let Q=xi(e,v);(Q==t[c]||Q==i[c])&&(n[c++]=v),v+=Rn(Q)}if(c<l)return null}let h=0,f=0,u=!1,d=0,O=-1,p=-1,m=/[a-z]/.test(e),b=!0;for(let v=0,x=Math.min(e.length,200),Q=0;v<x&&f<l;){let S=xi(e,v);a<0&&(h<l&&S==t[h]&&(s[h++]=v),d<l&&(S==t[d]||S==i[d]?(d==0&&(O=v),p=v+1,d++):d=0));let P,$=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(P=ab(S))!=P.toLowerCase()?1:P!=P.toUpperCase()?2:0;(!v||$==1&&m||Q==0&&$!=0)&&(t[f]==S||i[f]==S&&(u=!0)?o[f++]=v:o.length&&(b=!1)),Q=$,v+=Rn(S)}return f==l&&o[0]==0&&b?this.result(-100+(u?-200:0),o,e):d==l&&O==0?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[O,p]):f==l?this.result(-100+(u?-200:0)+-700+(b?0:-1100),o,e):t.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,t,i){let n=[],s=0;for(let o of t){let a=o+(this.astral?Rn(xi(i,o)):1);s&&n[s-1]==o?n[s-1]=a:(n[s++]=o,n[s++]=a)}return this.ret(e-i.length,n)}}class NE{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Ot=G.define({combine(r){return as(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:VE,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Jg(e(i),t(i)),optionClass:(e,t)=>i=>Jg(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Jg(r,e){return r?e?r+" "+e:r:e}function VE(r,e,t,i,n,s){let o=r.textDirection==st.RTL,a=o,l=!1,c="top",h,f,u=e.left-n.left,d=n.right-e.right,O=i.right-i.left,p=i.bottom-i.top;if(a&&u<Math.min(O,d)?a=!1:!a&&d<Math.min(O,u)&&(a=!0),O<=(a?u:d))h=Math.max(n.top,Math.min(t.top,n.bottom-p))-e.top,f=Math.min(400,a?u:d);else{l=!0,f=Math.min(400,(o?e.right:n.right-e.left)-30);let v=n.bottom-e.bottom;v>=p||v>e.top?h=t.bottom-e.top:(c="bottom",h=e.bottom-t.top)}let m=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${h/m}px; max-width: ${f/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function WE(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,n,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let h=s[c++],f=s[c++];h>l&&o.appendChild(document.createTextNode(a.slice(l,h)));let u=o.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(a.slice(h,f))),u.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Jh(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let n=Math.floor(e/t);return{from:n*t,to:(n+1)*t}}let i=Math.floor((r-e)/t);return{from:r-(i+1)*t,to:r-i*t}}class jE{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:s,selected:o}=n.open,a=e.state.facet(Ot);this.optionContent=WE(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Jh(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let h=l.target,f;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(f=/-(\d+)$/.exec(h.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Ot).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Oa.of(null)})}),this.showOptions(s,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=n){let{options:s,selected:o,disabled:a}=i.open;(!n.open||n.open.options!=s)&&(this.range=Jh(s.length,o,e.state.facet(Ot).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((t=n.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Jh(t.options.length,t.selected,this.view.state.facet(Ot).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:s}=n;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(n);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,n)}).catch(a=>Or(this.view.state,a,"completion info")):(this.addInfoPane(o,n),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:s}=e;i.appendChild(n),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)i.nodeName!="LI"||!i.id?n--:n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&YE(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return n.top>Math.min(s.bottom,t.bottom)-10||n.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Ot).positionInfo(this.view,t,n,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",o=>{o.target==n&&o.preventDefault()});let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let u=typeof c=="string"?c:c.name;if(u!=s&&(o>i.from||i.from==0))if(s=u,typeof c!="string"&&c.header)n.appendChild(c.header(c));else{let d=n.appendChild(document.createElement("completion-section"));d.textContent=u}}const h=n.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");let f=this.optionClass(a);f&&(h.className=f);for(let u of this.optionContent){let d=u(a,this.view.state,this.view,l);d&&h.appendChild(d)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function UE(r,e){return t=>new jE(t,r,e)}function YE(r,e){let t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),n=t.height/r.offsetHeight;i.top<t.top?r.scrollTop-=(t.top-i.top)/n:i.bottom>t.bottom&&(r.scrollTop+=(i.bottom-t.bottom)/n)}function em(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function GE(r,e){let t=[],i=null,n=null,s=h=>{t.push(h);let{section:f}=h.completion;if(f){i||(i=[]);let u=typeof f=="string"?f:f.name;i.some(d=>d.name==u)||i.push(typeof f=="string"?{name:u}:f)}},o=e.facet(Ot);for(let h of r)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let u of h.result.options)s(new Hg(u,h.source,f?f(u):[],1e9-t.length));else{let u=e.sliceDoc(h.from,h.to),d,O=o.filterStrict?new NE(u):new IE(u);for(let p of h.result.options)if(d=O.match(p.label)){let m=p.displayLabel?f?f(p,d.matched):[]:d.matched,b=d.score+(p.boost||0);if(s(new Hg(p,h.source,m,b)),typeof p.section=="object"&&p.section.rank==="dynamic"){let{name:v}=p.section;n||(n=Object.create(null)),n[v]=Math.max(b,n[v]||-1e9)}}}}if(i){let h=Object.create(null),f=0,u=(d,O)=>(d.rank==="dynamic"&&O.rank==="dynamic"?n[O.name]-n[d.name]:0)||(typeof d.rank=="number"?d.rank:1e9)-(typeof O.rank=="number"?O.rank:1e9)||(d.name<O.name?-1:1);for(let d of i.sort(u))f-=1e5,h[d.name]=f;for(let d of t){let{section:O}=d.completion;O&&(d.score+=h[typeof O=="string"?O:O.name])}}let a=[],l=null,c=o.compareCompletions;for(let h of t.sort((f,u)=>u.score-f.score||c(f.completion,u.completion))){let f=h.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?a.push(h):em(h.completion)>em(l)&&(a[a.length-1]=h),l=h.completion}return a}class Qs{constructor(e,t,i,n,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Qs(this.options,tm(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,n,s,o){if(n&&!o&&e.some(c=>c.isPending))return n.setDisabled();let a=GE(e,t);if(!a.length)return n&&e.some(c=>c.isPending)?n.setDisabled():null;let l=t.facet(Ot).selectOnOpen?0:-1;if(n&&n.selected!=l&&n.selected!=-1){let c=n.options[n.selected].completion;for(let h=0;h<a.length;h++)if(a[h].completion==c){l=h;break}}return new Qs(a,tm(i,l),{pos:e.reduce((c,h)=>h.hasResult()?Math.min(c,h.from):c,1e8),create:tR,above:s.aboveCursor},n?n.timestamp:Date.now(),l,!1)}map(e){return new Qs(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Qs(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class kc{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new kc(JE,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ot),s=(i.override||t.languageDataAt("autocomplete",Vn(t)).map(BE)).map(l=>(this.active.find(h=>h.source==l)||new _r(l,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(nO));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!FE(s,this.active)||a?o=Qs.build(s,t,this.id,o,i,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new _r(l.source,0):l));for(let l of e.effects)l.is(CS)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new kc(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?HE:KE}}function FE(r,e){if(r==e)return!0;for(let t=0,i=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let n=t==r.length,s=i==e.length;if(n||s)return n==s;if(r[t++].result!=e[i++].result)return!1}}const HE={"aria-autocomplete":"list"},KE={};function tm(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const JE=[];function _S(r,e){if(r.isUserEvent("input.complete")){let i=r.annotation(iO);if(i&&e.activateOnCompletion(i))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class _r{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=_S(e,t),n=this;(i&8||i&16&&this.touches(e))&&(n=new _r(n.source,0)),i&4&&n.state==0&&(n=new _r(this.source,1)),n=n.updateFor(e,i);for(let s of e.effects)if(s.is(wc))n=new _r(n.source,1,s.value);else if(s.is(Oa))n=new _r(n.source,0);else if(s.is(nO))for(let o of s.value)o.source==n.source&&(n=o);return n}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Vn(e.state))}}class Cs extends _r{constructor(e,t,i,n,s,o){super(e,3,t),this.limit=i,this.result=n,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Vn(e.state);if(a>o||!n||t&2&&(Vn(e.startState)==this.from||a<this.limit))return new _r(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return eR(n.validFor,e.state,s,o)?new Cs(this.source,this.explicit,l,n,s,o):n.update&&(n=n.update(n,s,o,new tO(e.state,a,!1)))?new Cs(this.source,this.explicit,l,n,n.from,(i=n.to)!==null&&i!==void 0?i:Vn(e.state)):new _r(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Cs(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new _r(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function eR(r,e,t,i){if(!r)return!1;let n=e.sliceDoc(t,i);return typeof r=="function"?r(n,t,i,e):$S(r,!0).test(n)}const nO=xe.define({map(r,e){return r.map(t=>t.map(e))}}),CS=xe.define(),Kt=gr.define({create(){return kc.start()},update(r,e){return r.update(e)},provide:r=>[Sv.from(r,e=>e.tooltip),Y.contentAttributes.from(r,e=>e.attrs)]});function sO(r,e){const t=e.completion.apply||e.completion.label;let i=r.state.field(Kt).active.find(n=>n.source==e.source);return i instanceof Cs?(typeof t=="string"?r.dispatch({...zE(r.state,t,i.from,i.to),annotations:iO.of(e.completion)}):t(r,e.completion,i.from,i.to),!0):!1}const tR=UE(Kt,sO);function wl(r,e="option"){return t=>{let i=t.state.field(Kt,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ot).interactionDelay)return!1;let n=1,s;e=="page"&&(s=xv(t,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+n*(r?1:-1):r?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:CS.of(a)}),!0}}const rR=r=>{let e=r.state.field(Kt,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Ot).interactionDelay?!1:sO(r,e.open.options[e.open.selected])},ef=r=>r.state.field(Kt,!1)?(r.dispatch({effects:wc.of(!0)}),!0):!1,iR=r=>{let e=r.state.field(Kt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Oa.of(null)}),!0)};class nR{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const sR=50,oR=1e3,aR=Yt.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(Kt).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(Kt),t=r.state.facet(Ot);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Kt)==e)return;let i=r.transactions.some(s=>{let o=_S(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.context.abortOnDocChange&&r.docChanged||o.updates.length+r.transactions.length>sR&&Date.now()-o.time>oR){for(let a of o.context.abortListeners)try{a()}catch(l){Or(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(o=>o.is(wc)))&&(this.pendingStart=!0);let n=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),n):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(Kt);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ot).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=Vn(e),i=new tO(e,t,r.explicit,this.view),n=new nR(r,i);this.running.push(n),Promise.resolve(r.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Oa.of(null)}),Or(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ot).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ot),i=this.view.state.field(Kt);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(s.done===void 0)continue;if(this.running.splice(n--,1),s.done){let a=Vn(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new Cs(s.active.source,s.active.explicit,l,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:a);for(let h of s.updates)c=c.update(h,t);if(c.hasResult()){e.push(c);continue}}let o=i.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new _r(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:nO.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(Kt,!1);if(e&&e.tooltip&&this.view.state.facet(Ot).closeOnBlur){let t=e.open&&xv(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Oa.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:wc.of(!1)}),20),this.composing=0}}}),lR=typeof navigator=="object"&&/Win/.test(navigator.platform),cR=gn.highest(Y.domEventHandlers({keydown(r,e){let t=e.state.field(Kt,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(lR&&r.altKey)||r.metaKey)return!1;let i=t.open.options[t.open.selected],n=t.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||n.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&sO(e,i),!1}})),AS=Y.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class hR{constructor(e,t,i,n){this.field=e,this.line=t,this.from=i,this.to=n}}class oO{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,jt.TrackDel),i=e.mapPos(this.to,1,jt.TrackDel);return t==null||i==null?null:new oO(this.field,t,i)}}class aO{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],n=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,h=/^\t*/.exec(l)[0].length;for(let f=0;f<h;f++)c+=e.facet(Xa);n.push(t+c.length-h),l=c+l.slice(h)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new oO(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],n=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,h=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<t.length;f++)(a!=null?t[f].seq==a:h&&t[f].name==h)&&(c=f);if(c<0){let f=0;for(;f<t.length&&(a==null||t[f].seq!=null&&t[f].seq<a);)f++;t.splice(f,0,{seq:a,name:h}),c=f;for(let u of n)u.field>=c&&u.field++}for(let f of n)if(f.line==i.length&&f.from>s.index){let u=s[2]?3+(s[1]||"").length:2;f.from-=u,f.to-=u}n.push(new hR(c,i.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let h of n)h.line==i.length&&h.from>c&&(h.from--,h.to--);return l}),i.push(o)}return new aO(i,n)}}let fR=he.widget({widget:new class extends so{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),uR=he.mark({class:"cm-snippetField"});class lo{constructor(e,t){this.ranges=e,this.active=t,this.deco=he.set(e.map(i=>(i.from==i.to?fR:uR).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let n=i.map(e);if(!n)return null;t.push(n)}return new lo(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const La=xe.define({map(r,e){return r&&r.map(e)}}),dR=xe.define(),pa=gr.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(La))return t.value;if(t.is(dR)&&r)return new lo(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>Y.decorations.from(r,e=>e?e.deco:he.none)});function lO(r,e){return A.create(r.filter(t=>t.field==e).map(t=>A.range(t.from,t.to)))}function OR(r){let e=aO.parse(r);return(t,i,n,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,n),{main:l}=t.state.selection,c={changes:{from:n,to:s==l.from?l.to:s,insert:Te.of(o)},scrollIntoView:!0,annotations:i?[iO.of(i),ft.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=lO(a,0)),a.some(h=>h.field>0)){let h=new lo(a,0),f=c.effects=[La.of(h)];t.state.field(pa,!1)===void 0&&f.push(xe.appendConfig.of([pa,bR,vR,AS]))}t.dispatch(t.state.update(c))}}function ES(r){return({state:e,dispatch:t})=>{let i=e.field(pa,!1);if(!i||r<0&&i.active==0)return!1;let n=i.active+r,s=r>0&&!i.ranges.some(o=>o.field==n+r);return t(e.update({selection:lO(i.ranges,n),effects:La.of(s?null:new lo(i.ranges,n)),scrollIntoView:!0})),!0}}const pR=({state:r,dispatch:e})=>r.field(pa,!1)?(e(r.update({effects:La.of(null)})),!0):!1,gR=ES(1),mR=ES(-1),yR=[{key:"Tab",run:gR,shift:mR},{key:"Escape",run:pR}],rm=G.define({combine(r){return r.length?r[0]:yR}}),bR=gn.highest(Ea.compute([rm],r=>r.facet(rm)));function Ge(r,e){return{...e,apply:OR(r)}}const vR=Y.domEventHandlers({mousedown(r,e){let t=e.state.field(pa,!1),i;if(!t||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let n=t.ranges.find(s=>s.from<=i&&s.to>=i);return!n||n.field==t.active?!1:(e.dispatch({selection:lO(t.ranges,n.field),effects:La.of(t.ranges.some(s=>s.field>n.field)?new lo(t.ranges,n.field):null),scrollIntoView:!0}),!0)}}),RS=new class extends Fn{};RS.startSide=1;RS.endSide=-1;function SR(r={}){return[cR,Kt,Ot.of(r),aR,xR,AS]}const XS=[{key:"Ctrl-Space",run:ef},{mac:"Alt-`",run:ef},{mac:"Alt-i",run:ef},{key:"Escape",run:iR},{key:"ArrowDown",run:wl(!0)},{key:"ArrowUp",run:wl(!1)},{key:"PageDown",run:wl(!0,"page")},{key:"PageUp",run:wl(!1,"page")},{key:"Enter",run:rR}],xR=gn.highest(Ea.computeN([Ot],r=>r.facet(Ot).defaultKeymap?[XS]:[]));var im={};class Pc{constructor(e,t,i,n,s,o,a,l,c,h=0,f){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new Pc(e,[],t,i,i,0,[],0,n?new nm(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=s.dynamicPrecedence(n);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-c;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=h));let f=l?this.stack[l-1]:0,u=this.bufferBase+this.buffer.length-f;if(n<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,c,d,u+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,n,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(n,c)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Pc(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new QR(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new nm(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class nm{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class QR{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Tc{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Tc(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Tc(this.stack,this.pos,this.index)}}function Xo(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let o=r.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class Il{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const sm=new Il;class wR{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=sm,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let o=this.ranges[--n];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=sm,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class As{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;MS(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}As.prototype.contextual=As.prototype.fallback=As.prototype.extend=!1;class $c{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Xo(e):e}token(e,t){let i=e.pos,n=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(MS(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,o==null)break;e.reset(o,e.token)}n&&(e.reset(i,e.token),e.acceptToken(this.elseToken,n))}}$c.prototype.contextual=As.prototype.fallback=As.prototype.extend=!1;class pt{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function MS(r,e,t,i,n,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&r[o];){let c=r[o+1];for(let d=o+3;d<c;d+=2)if((r[d+1]&a)>0){let O=r[d];if(l.allows(O)&&(e.token.value==-1||e.token.value==O||kR(O,e.token.value,n,s))){e.acceptToken(O);break}}let h=e.next,f=0,u=r[o+2];if(e.next<0&&u>f&&r[c+u*3-3]==65535){o=r[c+u*3-1];continue e}for(;f<u;){let d=f+u>>1,O=c+d+(d<<1),p=r[O],m=r[O+1]||65536;if(h<p)u=d;else if(h>=m)f=d+1;else{o=r[O+2],e.advance();continue e}}break}}function om(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function kR(r,e,t,i){let n=om(t,i,e);return n<0||om(t,i,r)<n}const lr=typeof process<"u"&&im&&/\bparse\b/.test(im.LOG);let tf=null;function am(r,e,t){let i=r.cursor(qe.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}let PR=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?am(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?am(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof _e){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(oe.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}};class TR{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Il)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],f=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,h,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let u=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!h.extend&&(i=f,t>u))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Il,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Il,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Qi(a,c+2);else{n==0&&a[c+1]==2&&(n=this.putAction(Qi(a,c+2),t,i,n));break}a[c]==t&&(n=this.putAction(Qi(a,c+1),t,i,n))}return n}}class $R{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new wR(t,n),this.tokens=new TR(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[Pc.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new PR(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=n&&CR(n);if(o)return lr&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw lr&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(o)return lr&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=lr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(n);f;){let u=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(u>-1&&f.length&&(!c||(f.prop(oe.contextHash)||0)==h))return e.useNode(f,u),lr&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof _e)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof _e&&f.positions[0]==0)f=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),lr&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],f=l[c++],u=l[c++],d=c==l.length||!i,O=d?e:e.split(),p=this.tokens.mainToken;if(O.apply(h,f,p?p.start:O.pos,u),lr&&console.log(o+this.stackID(O)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(f)} @ ${n}${O==e?"":", split"})`),d)return!0;O.pos>n?t.push(O):i.push(O)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return lm(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=lr?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),lr&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),u=h;for(let d=0;d<10&&f.forceReduce()&&(lr&&console.log(u+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));d++)lr&&(u=this.stackID(f)+" -> ");for(let d of a.recoverByInsert(l))lr&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),lr&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),lm(a,i)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),_e.build({buffer:Tc.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(tf||(tf=new WeakMap)).get(e);return t||tf.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function lm(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class _R{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const rf=r=>r;class cO{constructor(e){this.start=e.start,this.shift=e.shift||rf,this.reduce=e.reduce||rf,this.reuse=e.reuse||rf,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Mi extends Vd{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,c){n[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=oe[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let f=a[c+-h];for(let u=-h;u>0;u--)s(a[c++],l,f);c++}}}this.nodeSet=new Ra(t.map((a,l)=>dt.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=kv;let o=Xo(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(cm),this.states=Xo(e.states,Uint32Array),this.data=Xo(e.stateData),this.goto=Xo(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new As(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new $R(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Qi(i,s+2)];else{if(i[s+1]==2)return Qi(i,s+2);break}if(o==t||o==0)return Qi(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Qi(this.data,s+2);else break;n=t(Qi(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Qi(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(Mi.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=cm(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new _R(e,i,n)}static deserialize(e){return new Mi(e)}}function Qi(r,e){return r[e]|r[e+1]<<16}function CR(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function cm(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}const AR=316,ER=317,hm=1,RR=2,XR=3,MR=4,ZR=318,LR=320,qR=321,DR=5,zR=6,BR=0,Yu=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ZS=125,IR=59,Gu=47,NR=42,VR=43,WR=45,jR=60,UR=44,YR=63,GR=46,FR=91,HR=new cO({start:!1,shift(r,e){return e==DR||e==zR||e==LR?r:e==qR},strict:!1}),KR=new pt((r,e)=>{let{next:t}=r;(t==ZS||t==-1||e.context)&&r.acceptToken(ZR)},{contextual:!0,fallback:!0}),JR=new pt((r,e)=>{let{next:t}=r,i;Yu.indexOf(t)>-1||t==Gu&&((i=r.peek(1))==Gu||i==NR)||t!=ZS&&t!=IR&&t!=-1&&!e.context&&r.acceptToken(AR)},{contextual:!0}),e5=new pt((r,e)=>{r.next==FR&&!e.context&&r.acceptToken(ER)},{contextual:!0}),t5=new pt((r,e)=>{let{next:t}=r;if(t==VR||t==WR){if(r.advance(),t==r.next){r.advance();let i=!e.context&&e.canShift(hm);r.acceptToken(i?hm:RR)}}else t==YR&&r.peek(1)==GR&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(XR))},{contextual:!0});function nf(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}const r5=new pt((r,e)=>{if(r.next!=jR||!e.dialectEnabled(BR)||(r.advance(),r.next==Gu))return;let t=0;for(;Yu.indexOf(r.next)>-1;)r.advance(),t++;if(nf(r.next,!0)){for(r.advance(),t++;nf(r.next,!1);)r.advance(),t++;for(;Yu.indexOf(r.next)>-1;)r.advance(),t++;if(r.next==UR)return;for(let i=0;;i++){if(i==7){if(!nf(r.next,!0))return;break}if(r.next!="extends".charCodeAt(i))break;r.advance(),t++}}r.acceptToken(MR,-t)}),i5=zi({"get set async static":y.modifier,"for while do if else switch try catch finally return throw break continue default case defer":y.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":y.operatorKeyword,"let var const using function class extends":y.definitionKeyword,"import export from":y.moduleKeyword,"with debugger new":y.keyword,TemplateString:y.special(y.string),super:y.atom,BooleanLiteral:y.bool,this:y.self,null:y.null,Star:y.modifier,VariableName:y.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":y.function(y.variableName),VariableDefinition:y.definition(y.variableName),Label:y.labelName,PropertyName:y.propertyName,PrivatePropertyName:y.special(y.propertyName),"CallExpression/MemberExpression/PropertyName":y.function(y.propertyName),"FunctionDeclaration/VariableDefinition":y.function(y.definition(y.variableName)),"ClassDeclaration/VariableDefinition":y.definition(y.className),"NewExpression/VariableName":y.className,PropertyDefinition:y.definition(y.propertyName),PrivatePropertyDefinition:y.definition(y.special(y.propertyName)),UpdateOp:y.updateOperator,"LineComment Hashbang":y.lineComment,BlockComment:y.blockComment,Number:y.number,String:y.string,Escape:y.escape,ArithOp:y.arithmeticOperator,LogicOp:y.logicOperator,BitOp:y.bitwiseOperator,CompareOp:y.compareOperator,RegExp:y.regexp,Equals:y.definitionOperator,Arrow:y.function(y.punctuation),": Spread":y.punctuation,"( )":y.paren,"[ ]":y.squareBracket,"{ }":y.brace,"InterpolationStart InterpolationEnd":y.special(y.brace),".":y.derefOperator,", ;":y.separator,"@":y.meta,TypeName:y.typeName,TypeDefinition:y.definition(y.typeName),"type enum interface implements namespace module declare":y.definitionKeyword,"abstract global Privacy readonly override":y.modifier,"is keyof unique infer asserts":y.operatorKeyword,JSXAttributeValue:y.attributeValue,JSXText:y.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":y.angleBracket,"JSXIdentifier JSXNameSpacedName":y.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":y.attributeName,"JSXBuiltin/JSXIdentifier":y.standard(y.tagName)}),n5={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},s5={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},o5={__proto__:null,"<":193},a5=Mi.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:HR,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[i5],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[JR,e5,t5,r5,2,3,4,5,6,7,8,9,10,11,12,13,14,KR,new $c("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new $c("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:r=>n5[r]||-1},{term:343,get:r=>s5[r]||-1},{term:95,get:r=>o5[r]||-1}],tokenPrec:15201}),LS=[Ge("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ge("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ge("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ge("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ge("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ge(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ge("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ge(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ge(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ge('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ge('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],l5=LS.concat([Ge("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ge("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ge("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),fm=new Nd,qS=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Po(r){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,r),!0}}const c5=["FunctionDeclaration"],h5={FunctionDeclaration:Po("function"),ClassDeclaration:Po("class"),ClassExpression:()=>!0,EnumDeclaration:Po("constant"),TypeAliasDeclaration:Po("type"),NamespaceDeclaration:Po("namespace"),VariableDefinition(r,e){r.matchContext(c5)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function DS(r,e){let t=fm.get(e);if(t)return t;let i=[],n=!0;function s(o,a){let l=r.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(qe.IncludeAnonymous).iterate(o=>{if(n)n=!1;else if(o.name){let a=h5[o.name];if(a&&a(o,s)||qS.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of DS(r,o.node))i.push(a);return!1}}),fm.set(e,i),i}const um=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,zS=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function f5(r){let e=je(r.state).resolveInner(r.pos,-1);if(zS.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&um.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)qS.has(n.name)&&(i=i.concat(DS(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:um}}const ci=Xi.define({name:"javascript",parser:a5.configure({props:[mn.add({IfStatement:Nn({except:/^\s*({|else\b)/}),TryStatement:Nn({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:XC,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:i?1:2)*r.unit},Block:Bl({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":Nn({except:/^\s*{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),yn.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Jc,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),BS={test:r=>/^JSX/.test(r.name),facet:Wd({commentTokens:{block:{open:"{/*",close:"*/}"}}})},IS=ci.configure({dialect:"ts"},"typescript"),NS=ci.configure({dialect:"jsx",props:[jd.add(r=>r.isTop?[BS]:void 0)]}),VS=ci.configure({dialect:"jsx ts",props:[jd.add(r=>r.isTop?[BS]:void 0)]},"typescript");let WS=r=>({label:r,type:"keyword"});const jS="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(WS),u5=jS.concat(["declare","implements","private","protected","public"].map(WS));function Fu(r={}){let e=r.jsx?r.typescript?VS:NS:r.typescript?IS:ci,t=r.typescript?l5.concat(u5):LS.concat(jS);return new dn(e,[ci.data.of({autocomplete:rO(zS,sh(t))}),ci.data.of({autocomplete:f5}),r.jsx?p5:[]])}function d5(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function dm(r,e,t=r.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,t));return""}const O5=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),p5=Y.inputHandler.of((r,e,t,i,n)=>{if((O5?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||i!=">"&&i!="/"||!ci.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:h}=l,f=je(o).resolveInner(h-1,-1),u;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(h-1,h)!=i||f.name=="JSXAttributeValue"&&f.to>h)){if(i==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:h,insert:"</>"}};if(i=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,O=d.parent;if(O&&d.from==h-2&&((u=dm(o.doc,O.firstChild,h))||((c=O.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let p=`${u}>`;return{range:A.cursor(h+p.length,-1),changes:{from:h,insert:p}}}}else if(i==">"){let d=d5(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(h,h+2))&&(u=dm(o.doc,d,h)))return{range:l,changes:{from:h,insert:`</${u}>`}}}}return{range:l}});return a.changes.empty?!1:(r.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),g5=1,US=194,YS=195,m5=196,Om=197,y5=198,b5=199,v5=200,S5=2,GS=3,pm=201,x5=24,Q5=25,w5=49,k5=50,P5=55,T5=56,$5=57,_5=59,C5=60,A5=61,E5=62,R5=63,X5=65,M5=238,Z5=71,L5=241,q5=242,D5=243,z5=244,B5=245,I5=246,N5=247,V5=248,FS=72,W5=249,j5=250,U5=251,Y5=252,G5=253,F5=254,H5=255,K5=256,J5=73,eX=77,tX=263,rX=112,iX=130,nX=151,sX=152,oX=155,rs=10,ga=13,hO=32,oh=9,fO=35,aX=40,lX=46,Hu=123,gm=125,HS=39,KS=34,mm=92,cX=111,hX=120,fX=78,uX=117,dX=85,OX=new Set([Q5,w5,k5,tX,X5,iX,T5,$5,M5,E5,R5,FS,J5,eX,C5,A5,nX,sX,oX,rX]);function sf(r){return r==rs||r==ga}function of(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}const pX=new pt((r,e)=>{let t;if(r.next<0)r.acceptToken(b5);else if(e.context.flags&Nl)sf(r.next)&&r.acceptToken(y5,1);else if(((t=r.peek(-1))<0||sf(t))&&e.canShift(Om)){let i=0;for(;r.next==hO||r.next==oh;)r.advance(),i++;(r.next==rs||r.next==ga||r.next==fO)&&r.acceptToken(Om,-i)}else sf(r.next)&&r.acceptToken(m5,1)},{contextual:!0}),gX=new pt((r,e)=>{let t=e.context;if(t.flags)return;let i=r.peek(-1);if(i==rs||i==ga){let n=0,s=0;for(;;){if(r.next==hO)n++;else if(r.next==oh)n+=8-n%8;else break;r.advance(),s++}n!=t.indent&&r.next!=rs&&r.next!=ga&&r.next!=fO&&(n<t.indent?r.acceptToken(YS,-s):r.acceptToken(US))}}),Nl=1,JS=2,mi=4,yi=8,bi=16,vi=32;function Vl(r,e,t){this.parent=r,this.indent=e,this.flags=t,this.hash=(r?r.hash+r.hash<<8:0)+e+(e<<4)+t+(t<<6)}const mX=new Vl(null,0,0);function yX(r){let e=0;for(let t=0;t<r.length;t++)e+=r.charCodeAt(t)==oh?8-e%8:1;return e}const ym=new Map([[L5,0],[q5,mi],[D5,yi],[z5,yi|mi],[B5,bi],[I5,bi|mi],[N5,bi|yi],[V5,bi|yi|mi],[W5,vi],[j5,vi|mi],[U5,vi|yi],[Y5,vi|yi|mi],[G5,vi|bi],[F5,vi|bi|mi],[H5,vi|bi|yi],[K5,vi|bi|yi|mi]].map(([r,e])=>[r,e|JS])),bX=new cO({start:mX,reduce(r,e,t,i){return r.flags&Nl&&OX.has(e)||(e==Z5||e==FS)&&r.flags&JS?r.parent:r},shift(r,e,t,i){return e==US?new Vl(r,yX(i.read(i.pos,t.pos)),0):e==YS?r.parent:e==x5||e==P5||e==_5||e==GS?new Vl(r,0,Nl):ym.has(e)?new Vl(r,0,ym.get(e)|r.flags&Nl):r},hash(r){return r.hash}}),vX=new pt(r=>{for(let e=0;e<5;e++){if(r.next!="print".charCodeAt(e))return;r.advance()}if(!/\w/.test(String.fromCharCode(r.next)))for(let e=0;;e++){let t=r.peek(e);if(!(t==hO||t==oh)){t!=aX&&t!=lX&&t!=rs&&t!=ga&&t!=fO&&r.acceptToken(g5);return}}}),SX=new pt((r,e)=>{let{flags:t}=e.context,i=t&mi?KS:HS,n=(t&yi)>0,s=!(t&bi),o=(t&vi)>0,a=r.pos;for(;!(r.next<0);)if(o&&r.next==Hu)if(r.peek(1)==Hu)r.advance(2);else{if(r.pos==a){r.acceptToken(GS,1);return}break}else if(s&&r.next==mm){if(r.pos==a){r.advance();let l=r.next;l>=0&&(r.advance(),xX(r,l)),r.acceptToken(S5);return}break}else if(r.next==mm&&!s&&r.peek(1)>-1)r.advance(2);else if(r.next==i&&(!n||r.peek(1)==i&&r.peek(2)==i)){if(r.pos==a){r.acceptToken(pm,n?3:1);return}break}else if(r.next==rs){if(n)r.advance();else if(r.pos==a){r.acceptToken(pm);return}break}else r.advance();r.pos>a&&r.acceptToken(v5)});function xX(r,e){if(e==cX)for(let t=0;t<2&&r.next>=48&&r.next<=55;t++)r.advance();else if(e==hX)for(let t=0;t<2&&of(r.next);t++)r.advance();else if(e==uX)for(let t=0;t<4&&of(r.next);t++)r.advance();else if(e==dX)for(let t=0;t<8&&of(r.next);t++)r.advance();else if(e==fX&&r.next==Hu){for(r.advance();r.next>=0&&r.next!=gm&&r.next!=HS&&r.next!=KS&&r.next!=rs;)r.advance();r.next==gm&&r.advance()}}const QX=zi({'async "*" "**" FormatConversion FormatSpec':y.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":y.controlKeyword,"in not and or is del":y.operatorKeyword,"from def class global nonlocal lambda":y.definitionKeyword,import:y.moduleKeyword,"with as print":y.keyword,Boolean:y.bool,None:y.null,VariableName:y.variableName,"CallExpression/VariableName":y.function(y.variableName),"FunctionDefinition/VariableName":y.function(y.definition(y.variableName)),"ClassDefinition/VariableName":y.definition(y.className),PropertyName:y.propertyName,"CallExpression/MemberExpression/PropertyName":y.function(y.propertyName),Comment:y.lineComment,Number:y.number,String:y.string,FormatString:y.special(y.string),Escape:y.escape,UpdateOp:y.updateOperator,"ArithOp!":y.arithmeticOperator,BitOp:y.bitwiseOperator,CompareOp:y.compareOperator,AssignOp:y.definitionOperator,Ellipsis:y.punctuation,At:y.meta,"( )":y.paren,"[ ]":y.squareBracket,"{ }":y.brace,".":y.derefOperator,", ;":y.separator}),wX={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},kX=Mi.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:bX,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[QX],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[vX,gX,pX,SX,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:r=>wX[r]||-1}],tokenPrec:7668}),bm=new Nd,ex=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function kl(r){return(e,t,i)=>{if(i)return!1;let n=e.node.getChild("VariableName");return n&&t(n,r),!0}}const PX={FunctionDefinition:kl("function"),ClassDefinition:kl("class"),ForStatement(r,e,t){if(t){for(let i=r.node.firstChild;i;i=i.nextSibling)if(i.name=="VariableName")e(i,"variable");else if(i.name=="in")break}},ImportStatement(r,e){var t,i;let{node:n}=r,s=((t=n.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=n.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((i=o.nextSibling)===null||i===void 0?void 0:i.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(r,e){for(let t=r.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(r,e){for(let t=null,i=r.node.firstChild;i;i=i.nextSibling)i.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(i,"variable"),t=i},CapturePattern:kl("variable"),AsPattern:kl("variable"),__proto__:null};function tx(r,e){let t=bm.get(e);if(t)return t;let i=[],n=!0;function s(o,a){let l=r.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(qe.IncludeAnonymous).iterate(o=>{if(o.name){let a=PX[o.name];if(a&&a(o,s,n)||!n&&ex.has(o.name))return!1;n=!1}else if(o.to-o.from>8192){for(let a of tx(r,o.node))i.push(a);return!1}}),bm.set(e,i),i}const vm=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,rx=["String","FormatString","Comment","PropertyName"];function TX(r){let e=je(r.state).resolveInner(r.pos,-1);if(rx.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&vm.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)ex.has(n.name)&&(i=i.concat(tx(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:vm}}const $X=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(r=>({label:r,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(r=>({label:r,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(r=>({label:r,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(r=>({label:r,type:"function"}))),_X=[Ge("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Ge("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Ge("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Ge("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Ge(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Ge("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Ge("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Ge("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Ge("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],CX=rO(rx,sh($X.concat(_X)));function af(r){let{node:e,pos:t}=r,i=r.lineIndent(t,-1),n=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")r.baseIndentFor(s)+r.unit<=i&&(n=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return n}function lf(r,e){let t=r.baseIndentFor(e),i=r.lineAt(r.pos,-1),n=i.from+i.text.length;return/^\s*($|#)/.test(i.text)&&r.node.to<n+100&&!/\S/.test(r.state.sliceDoc(n,r.node.to))&&r.lineIndent(r.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(r.textAfter)&&r.lineIndent(r.pos,-1)>t?null:t+r.unit}const cf=Xi.define({name:"python",parser:kX.configure({props:[mn.add({Body:r=>{var e;let t=/^\s*(#|$)/.test(r.textAfter)&&af(r)||r.node;return(e=lf(r,t))!==null&&e!==void 0?e:r.continue()},MatchBody:r=>{var e;let t=af(r);return(e=lf(r,t||r.node))!==null&&e!==void 0?e:r.continue()},IfStatement:r=>/^\s*(else:|elif )/.test(r.textAfter)?r.baseIndent:r.continue(),"ForStatement WhileStatement":r=>/^\s*else:/.test(r.textAfter)?r.baseIndent:r.continue(),TryStatement:r=>/^\s*(except[ :]|finally:|else:)/.test(r.textAfter)?r.baseIndent:r.continue(),MatchStatement:r=>/^\s*case /.test(r.textAfter)?r.baseIndent+r.unit:r.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":Bl({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":Bl({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":Bl({closing:"]"}),MemberExpression:r=>r.baseIndent+r.unit,"String FormatString":()=>null,Script:r=>{var e;let t=af(r);return(e=t&&lf(r,t))!==null&&e!==void 0?e:r.continue()}}),yn.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Jc,Body:(r,e)=>({from:r.from+1,to:r.to-(r.to==e.doc.length?0:1)}),"String FormatString":(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function AX(){return new dn(cf,[cf.data.of({autocomplete:TX}),cf.data.of({autocomplete:CX})])}class _c{static create(e,t,i,n,s){let o=n+(n<<8)+e+(t<<4)|0;return new _c(e,t,i,o,s,[],[])}constructor(e,t,i,n,s,o,a){this.type=e,this.value=t,this.from=i,this.hash=n,this.end=s,this.children=o,this.positions=a,this.hashProp=[[oe.contextHash,n]]}addChild(e,t){e.prop(oe.contextHash)!=this.hash&&(e=new _e(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let i=this.children.length-1;return i>=0&&(t=Math.max(t,this.positions[i]+this.children[i].length+this.from)),new _e(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(n,s,o)=>new _e(dt.none,n,s,o,this.hashProp)})}}var L;(function(r){r[r.Document=1]="Document",r[r.CodeBlock=2]="CodeBlock",r[r.FencedCode=3]="FencedCode",r[r.Blockquote=4]="Blockquote",r[r.HorizontalRule=5]="HorizontalRule",r[r.BulletList=6]="BulletList",r[r.OrderedList=7]="OrderedList",r[r.ListItem=8]="ListItem",r[r.ATXHeading1=9]="ATXHeading1",r[r.ATXHeading2=10]="ATXHeading2",r[r.ATXHeading3=11]="ATXHeading3",r[r.ATXHeading4=12]="ATXHeading4",r[r.ATXHeading5=13]="ATXHeading5",r[r.ATXHeading6=14]="ATXHeading6",r[r.SetextHeading1=15]="SetextHeading1",r[r.SetextHeading2=16]="SetextHeading2",r[r.HTMLBlock=17]="HTMLBlock",r[r.LinkReference=18]="LinkReference",r[r.Paragraph=19]="Paragraph",r[r.CommentBlock=20]="CommentBlock",r[r.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",r[r.Escape=22]="Escape",r[r.Entity=23]="Entity",r[r.HardBreak=24]="HardBreak",r[r.Emphasis=25]="Emphasis",r[r.StrongEmphasis=26]="StrongEmphasis",r[r.Link=27]="Link",r[r.Image=28]="Image",r[r.InlineCode=29]="InlineCode",r[r.HTMLTag=30]="HTMLTag",r[r.Comment=31]="Comment",r[r.ProcessingInstruction=32]="ProcessingInstruction",r[r.Autolink=33]="Autolink",r[r.HeaderMark=34]="HeaderMark",r[r.QuoteMark=35]="QuoteMark",r[r.ListMark=36]="ListMark",r[r.LinkMark=37]="LinkMark",r[r.EmphasisMark=38]="EmphasisMark",r[r.CodeMark=39]="CodeMark",r[r.CodeText=40]="CodeText",r[r.CodeInfo=41]="CodeInfo",r[r.LinkTitle=42]="LinkTitle",r[r.LinkLabel=43]="LinkLabel",r[r.URL=44]="URL"})(L||(L={}));class EX{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class RX{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Uo(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,i=0){for(let n=t;n<e;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return i}findColumn(e){let t=0;for(let i=0;t<this.text.length&&i<e;t++)i+=this.text.charCodeAt(t)==9?4-i%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function Sm(r,e,t){if(t.pos==t.text.length||r!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let i=(r.type==L.OrderedList?OO:dO)(t,e,!1);return i>0&&(r.type!=L.BulletList||uO(t,e,!1)<0)&&t.text.charCodeAt(t.pos+i-1)==r.value}const ix={[L.Blockquote](r,e,t){return t.next!=62?!1:(t.markers.push(be(L.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Mr(t.text.charCodeAt(t.pos+1))?2:1)),r.end=e.lineStart+t.text.length,!0)},[L.ListItem](r,e,t){return t.indent<t.baseIndent+r.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+r.value),!0)},[L.OrderedList]:Sm,[L.BulletList]:Sm,[L.Document](){return!0}};function Mr(r){return r==32||r==9||r==10||r==13}function Uo(r,e=0){for(;e<r.length&&Mr(r.charCodeAt(e));)e++;return e}function xm(r,e,t){for(;e>t&&Mr(r.charCodeAt(e-1));)e--;return e}function nx(r){if(r.next!=96&&r.next!=126)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==r.next;)e++;if(e<r.pos+3)return-1;if(r.next==96){for(let t=e;t<r.text.length;t++)if(r.text.charCodeAt(t)==96)return-1}return e}function sx(r){return r.next!=62?-1:r.text.charCodeAt(r.pos+1)==32?2:1}function uO(r,e,t){if(r.next!=42&&r.next!=45&&r.next!=95)return-1;let i=1;for(let n=r.pos+1;n<r.text.length;n++){let s=r.text.charCodeAt(n);if(s==r.next)i++;else if(!Mr(s))return-1}return t&&r.next==45&&lx(r)>-1&&r.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(ux.SetextHeading)>-1||i<3?-1:1}function ox(r,e){for(let t=r.stack.length-1;t>=0;t--)if(r.stack[t].type==e)return!0;return!1}function dO(r,e,t){return(r.next==45||r.next==43||r.next==42)&&(r.pos==r.text.length-1||Mr(r.text.charCodeAt(r.pos+1)))&&(!t||ox(e,L.BulletList)||r.skipSpace(r.pos+2)<r.text.length)?1:-1}function OO(r,e,t){let i=r.pos,n=r.next;for(;n>=48&&n<=57;){i++;if(i==r.text.length)return-1;n=r.text.charCodeAt(i)}return i==r.pos||i>r.pos+9||n!=46&&n!=41||i<r.text.length-1&&!Mr(r.text.charCodeAt(i+1))||t&&!ox(e,L.OrderedList)&&(r.skipSpace(i+1)==r.text.length||i>r.pos+1||r.next!=49)?-1:i+1-r.pos}function ax(r){if(r.next!=35)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==35;)e++;if(e<r.text.length&&r.text.charCodeAt(e)!=32)return-1;let t=e-r.pos;return t>6?-1:t}function lx(r){if(r.next!=45&&r.next!=61||r.indent>=r.baseIndent+4)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==r.next;)e++;let t=e;for(;e<r.text.length&&Mr(r.text.charCodeAt(e));)e++;return e==r.text.length?t:-1}const Ku=/^[ \t]*$/,cx=/-->/,hx=/\?>/,Ju=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*\x3C!--/,cx],[/^\s*<\?/,hx],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Ku],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Ku]];function fx(r,e,t){if(r.next!=60)return-1;let i=r.text.slice(r.pos);for(let n=0,s=Ju.length-(t?1:0);n<s;n++)if(Ju[n][0].test(i))return n;return-1}function Qm(r,e){let t=r.countIndent(e,r.pos,r.indent),i=r.countIndent(r.skipSpace(e),e,t);return i>=t+5?t+1:i}function Tn(r,e,t){let i=r.length-1;i>=0&&r[i].to==e&&r[i].type==L.CodeText?r[i].to=t:r.push(be(L.CodeText,e,t))}const Pl={LinkReference:void 0,IndentedCode(r,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let i=e.findColumn(t),n=r.lineStart+i,s=r.lineStart+e.text.length,o=[],a=[];for(Tn(o,n,s);r.nextLine()&&e.depth>=r.stack.length;)if(e.pos==e.text.length){Tn(a,r.lineStart-1,r.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<t)break;{if(a.length){for(let c of a)c.type==L.CodeText?Tn(o,c.from,c.to):o.push(c);a=[]}Tn(o,r.lineStart-1,r.lineStart);for(let c of e.markers)o.push(c);s=r.lineStart+e.text.length;let l=r.lineStart+e.findColumn(e.baseIndent+4);l<s&&Tn(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=L.CodeText),a.length&&(e.markers=a.concat(e.markers))),r.addNode(r.buffer.writeElements(o,-n).finish(L.CodeBlock,s-n),n),!0},FencedCode(r,e){let t=nx(e);if(t<0)return!1;let i=r.lineStart+e.pos,n=e.next,s=t-e.pos,o=e.skipSpace(t),a=xm(e.text,e.text.length,o),l=[be(L.CodeMark,i,i+s)];o<a&&l.push(be(L.CodeInfo,r.lineStart+o,r.lineStart+a));for(let c=!0;r.nextLine()&&e.depth>=r.stack.length;c=!1){let h=e.pos;if(e.indent-e.baseIndent<4)for(;h<e.text.length&&e.text.charCodeAt(h)==n;)h++;if(h-e.pos>=s&&e.skipSpace(h)==e.text.length){for(let f of e.markers)l.push(f);l.push(be(L.CodeMark,r.lineStart+e.pos,r.lineStart+h)),r.nextLine();break}else{c||Tn(l,r.lineStart-1,r.lineStart);for(let d of e.markers)l.push(d);let f=r.lineStart+e.basePos,u=r.lineStart+e.text.length;f<u&&Tn(l,f,u)}}return r.addNode(r.buffer.writeElements(l,-i).finish(L.FencedCode,r.prevLineEnd()-i),i),!0},Blockquote(r,e){let t=sx(e);return t<0?!1:(r.startContext(L.Blockquote,e.pos),r.addNode(L.QuoteMark,r.lineStart+e.pos,r.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(r,e){if(uO(e,r,!1)<0)return!1;let t=r.lineStart+e.pos;return r.nextLine(),r.addNode(L.HorizontalRule,t),!0},BulletList(r,e){let t=dO(e,r,!1);if(t<0)return!1;r.block.type!=L.BulletList&&r.startContext(L.BulletList,e.basePos,e.next);let i=Qm(e,e.pos+1);return r.startContext(L.ListItem,e.basePos,i-e.baseIndent),r.addNode(L.ListMark,r.lineStart+e.pos,r.lineStart+e.pos+t),e.moveBaseColumn(i),null},OrderedList(r,e){let t=OO(e,r,!1);if(t<0)return!1;r.block.type!=L.OrderedList&&r.startContext(L.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let i=Qm(e,e.pos+t);return r.startContext(L.ListItem,e.basePos,i-e.baseIndent),r.addNode(L.ListMark,r.lineStart+e.pos,r.lineStart+e.pos+t),e.moveBaseColumn(i),null},ATXHeading(r,e){let t=ax(e);if(t<0)return!1;let i=e.pos,n=r.lineStart+i,s=xm(e.text,e.text.length,i),o=s;for(;o>i&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==i||!Mr(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=r.buffer.write(L.HeaderMark,0,t).writeElements(r.parser.parseInline(e.text.slice(i+t+1,o),n+t+1),-n);o<e.text.length&&a.write(L.HeaderMark,o-i,s-i);let l=a.finish(L.ATXHeading1-1+t,e.text.length-i);return r.nextLine(),r.addNode(l,n),!0},HTMLBlock(r,e){let t=fx(e,r,!1);if(t<0)return!1;let i=r.lineStart+e.pos,n=Ju[t][1],s=[],o=n!=Ku;for(;!n.test(e.text)&&r.nextLine();){if(e.depth<r.stack.length){o=!1;break}for(let c of e.markers)s.push(c)}o&&r.nextLine();let a=n==cx?L.CommentBlock:n==hx?L.ProcessingInstructionBlock:L.HTMLBlock,l=r.prevLineEnd();return r.addNode(r.buffer.writeElements(s,-i).finish(a,l-i),i),!0},SetextHeading:void 0};class XX{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,i){if(this.stage==-1)return!1;let n=i.content+`
`+t.scrub(),s=this.advance(n);return s>-1&&s<n.length?this.complete(e,i,s):!1}finish(e,t){return(this.stage==2||this.stage==3)&&Uo(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,i){return e.addLeafElement(t,be(L.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(Sx(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(be(L.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(bx(e,Uo(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=Uo(e,this.pos),i=0;if(t>this.pos){let n=vx(e,t,this.start);if(n){let s=hf(e,n.to-this.start);s>0&&(this.nextStage(n),i=s)}}return i||(i=hf(e,this.pos)),i>0&&i<e.length?i:-1}else return hf(e,this.pos)}}}function hf(r,e){for(;e<r.length;e++){let t=r.charCodeAt(e);if(t==10)break;if(!Mr(t))return-1}return e}class MX{nextLine(e,t,i){let n=t.depth<e.stack.length?-1:lx(t),s=t.next;if(n<0)return!1;let o=be(L.HeaderMark,e.lineStart+t.pos,e.lineStart+n);return e.nextLine(),e.addLeafElement(i,be(s==61?L.SetextHeading1:L.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),o])),!0}finish(){return!1}}const ux={LinkReference(r,e){return e.content.charCodeAt(0)==91?new XX(e):null},SetextHeading(){return new MX}},ZX=[(r,e)=>ax(e)>=0,(r,e)=>nx(e)>=0,(r,e)=>sx(e)>=0,(r,e)=>dO(e,r,!0)>=0,(r,e)=>OO(e,r,!0)>=0,(r,e)=>uO(e,r,!0)>=0,(r,e)=>fx(e,r,!0)>=0],LX={text:"",end:0};class qX{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.line=new RX,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=n[n.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=n[0].from,this.block=_c.create(L.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new BX(i,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let n=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!n||e.markers[i].from<n.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!n)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let n=i(this,e);if(n!=!1){if(n==!0)return null;e.forward();continue e}}break}let t=new EX(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let n=i(this,t);n&&t.parsers.push(n)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,t))break e}for(let i of t.parsers)if(i.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let i of e.markers)t.marks.push(i)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=xx(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=LX;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let i=this.absoluteLineStart,n=this.rangeI;for(;this.ranges[n].to<t.end;){n++;let s=this.ranges[n].from,o=this.lineChunkAt(s);t.end=s+o.length,t.text=t.text.slice(0,this.ranges[n-1].to-i)+o,i=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(t);e.depth<this.stack.length;e.depth++){let n=this.stack[e.depth],s=this.parser.skipContextMarkup[n.type];if(!s)throw new Error("Unhandled block context "+L[n.type]);let o=this.line.markers.length;if(!s(n,this,e)){this.line.markers.length>o&&(n.end=this.line.markers[this.line.markers.length-1].to);break}e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),i;if(this.input.lineChunks)i=t==`
`?"":t;else{let n=t.indexOf(`
`);i=n<0?t:t.slice(0,n)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,i=0){this.block=_c.create(e,i,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,i=0){this.startContext(this.parser.getNodeType(e),t,i)}addNode(e,t,i){typeof e=="number"&&(e=new _e(this.parser.nodeSet.types[e],Gs,Gs,(i??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(td(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?dx(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let t=td(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(L.Paragraph,e.content.length),e.start)}elt(e,t,i,n){return typeof e=="string"?be(this.parser.getNodeType(e),t,i,n):new gx(e,t)}get buffer(){return new px(this.parser.nodeSet)}}function dx(r,e,t,i,n){let s=r[e].to,o=[],a=[],l=t.from+i;function c(h,f){for(;f?h>=s:h>s;){let u=r[e+1].from-s;i+=u,h+=u,e++,s=r[e].to}}for(let h=t.firstChild;h;h=h.nextSibling){c(h.from+i,!0);let f=h.from+i,u,d=n.get(h.tree);d?u=d:h.to+i>s?(u=dx(r,e,h,i,n),c(h.to+i,!1)):u=h.toTree(),o.push(u),a.push(f-l)}return c(t.to+i,!1),new _e(t.type,o,a,t.to+i-l,t.tree?t.tree.propValues:void 0)}class ah extends Vd{constructor(e,t,i,n,s,o,a,l,c){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=i,this.blockNames=n,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=c,this.nodeTypes=Object.create(null);for(let h of e.types)this.nodeTypes[h.name]=h.id}createParse(e,t,i){let n=new qX(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}configure(e){let t=ed(e);if(!t)return this;let{nodeSet:i,skipContextMarkup:n}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),h=this.endLeafBlock.slice(),f=this.wrappers;if(To(t.defineNodes)){n=Object.assign({},n);let u=i.types.slice(),d;for(let O of t.defineNodes){let{name:p,block:m,composite:b,style:v}=typeof O=="string"?{name:O}:O;if(u.some(S=>S.name==p))continue;b&&(n[u.length]=(S,P,$)=>b(P,$,S.value));let x=u.length,Q=b?["Block","BlockContext"]:m?x>=L.ATXHeading1&&x<=L.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;u.push(dt.define({id:x,name:p,props:Q&&[[oe.group,Q]]})),v&&(d||(d={}),Array.isArray(v)||v instanceof dr?d[p]=v:Object.assign(d,v))}i=new Ra(u),d&&(i=i.extend(zi(d)))}if(To(t.props)&&(i=i.extend(...t.props)),To(t.remove))for(let u of t.remove){let d=this.blockNames.indexOf(u),O=this.inlineNames.indexOf(u);d>-1&&(s[d]=o[d]=void 0),O>-1&&(l[O]=void 0)}if(To(t.parseBlock))for(let u of t.parseBlock){let d=a.indexOf(u.name);if(d>-1)s[d]=u.parse,o[d]=u.leaf;else{let O=u.before?Tl(a,u.before):u.after?Tl(a,u.after)+1:a.length-1;s.splice(O,0,u.parse),o.splice(O,0,u.leaf),a.splice(O,0,u.name)}u.endLeaf&&h.push(u.endLeaf)}if(To(t.parseInline))for(let u of t.parseInline){let d=c.indexOf(u.name);if(d>-1)l[d]=u.parse;else{let O=u.before?Tl(c,u.before):u.after?Tl(c,u.after)+1:c.length-1;l.splice(O,0,u.parse),c.splice(O,0,u.name)}}return t.wrap&&(f=f.concat(t.wrap)),new ah(i,s,o,a,h,n,l,c,f)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let i=new pO(this,e,t);e:for(let n=t;n<i.end;){let s=i.char(n);for(let o of this.inlineParsers)if(o){let a=o(i,s,n);if(a>=0){n=a;continue e}}n++}return i.resolveMarkers(0)}}function To(r){return r!=null&&r.length>0}function ed(r){if(!Array.isArray(r))return r;if(r.length==0)return null;let e=ed(r[0]);if(r.length==1)return e;let t=ed(r.slice(1));if(!t||!e)return e||t;let i=(o,a)=>(o||Gs).concat(a||Gs),n=e.wrap,s=t.wrap;return{props:i(e.props,t.props),defineNodes:i(e.defineNodes,t.defineNodes),parseBlock:i(e.parseBlock,t.parseBlock),parseInline:i(e.parseInline,t.parseInline),remove:i(e.remove,t.remove),wrap:n?s?(o,a,l,c)=>n(s(o,a,l,c),a,l,c):n:s}}function Tl(r,e){let t=r.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let Ox=[dt.none];for(let r=1,e;e=L[r];r++)Ox[r]=dt.define({id:r,name:e,props:r>=L.Escape?[]:[[oe.group,r in ix?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Gs=[];class px{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,i,n=0){return this.content.push(e,t,i,4+n*4),this}writeElements(e,t=0){for(let i of e)i.writeTo(this,t);return this}finish(e,t){return _e.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let ma=class{constructor(e,t,i,n=Gs){this.type=e,this.from=t,this.to=i,this.children=n}writeTo(e,t){let i=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-i)}toTree(e){return new px(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class gx{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Gs}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function be(r,e,t,i){return new ma(r,e,t,i)}const mx={resolve:"Emphasis",mark:"EmphasisMark"},yx={resolve:"Emphasis",mark:"EmphasisMark"},Mn={},Cc={};class ur{constructor(e,t,i,n){this.type=e,this.from=t,this.to=i,this.side=n}}const wm="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let ya=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{ya=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const ff={Escape(r,e,t){if(e!=92||t==r.end-1)return-1;let i=r.char(t+1);for(let n=0;n<wm.length;n++)if(wm.charCodeAt(n)==i)return r.append(be(L.Escape,t,t+2));return-1},Entity(r,e,t){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(r.slice(t+1,t+31));return i?r.append(be(L.Entity,t,t+1+i[0].length)):-1},InlineCode(r,e,t){if(e!=96||t&&r.char(t-1)==96)return-1;let i=t+1;for(;i<r.end&&r.char(i)==96;)i++;let n=i-t,s=0;for(;i<r.end;i++)if(r.char(i)==96){if(s++,s==n&&r.char(i+1)!=96)return r.append(be(L.InlineCode,t,i+1,[be(L.CodeMark,t,t+n),be(L.CodeMark,i+1-n,i+1)]))}else s=0;return-1},HTMLTag(r,e,t){if(e!=60||t==r.end-1)return-1;let i=r.slice(t+1,r.end),n=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(n)return r.append(be(L.Autolink,t,t+1+n[0].length,[be(L.LinkMark,t,t+1),be(L.URL,t+1,t+n[0].length),be(L.LinkMark,t+n[0].length,t+1+n[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return r.append(be(L.Comment,t,t+1+s[0].length));let o=/^\?[^]*?\?>/.exec(i);if(o)return r.append(be(L.ProcessingInstruction,t,t+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return a?r.append(be(L.HTMLTag,t,t+1+a[0].length)):-1},Emphasis(r,e,t){if(e!=95&&e!=42)return-1;let i=t+1;for(;r.char(i)==e;)i++;let n=r.slice(t-1,t),s=r.slice(i,i+1),o=ya.test(n),a=ya.test(s),l=/\s|^$/.test(n),c=/\s|^$/.test(s),h=!c&&(!a||l||o),f=!l&&(!o||c||a),u=h&&(e==42||!f||o),d=f&&(e==42||!h||a);return r.append(new ur(e==95?mx:yx,t,i,(u?1:0)|(d?2:0)))},HardBreak(r,e,t){if(e==92&&r.char(t+1)==10)return r.append(be(L.HardBreak,t,t+2));if(e==32){let i=t+1;for(;r.char(i)==32;)i++;if(r.char(i)==10&&i>=t+2)return r.append(be(L.HardBreak,t,i+1))}return-1},Link(r,e,t){return e==91?r.append(new ur(Mn,t,t+1,1)):-1},Image(r,e,t){return e==33&&r.char(t+1)==91?r.append(new ur(Cc,t,t+2,1)):-1},LinkEnd(r,e,t){if(e!=93)return-1;for(let i=r.parts.length-1;i>=0;i--){let n=r.parts[i];if(n instanceof ur&&(n.type==Mn||n.type==Cc)){if(!n.side||r.skipSpace(n.to)==t&&!/[(\[]/.test(r.slice(t+1,t+2)))return r.parts[i]=null,-1;let s=r.takeContent(i),o=r.parts[i]=DX(r,s,n.type==Mn?L.Link:L.Image,n.from,t+1);if(n.type==Mn)for(let a=0;a<i;a++){let l=r.parts[a];l instanceof ur&&l.type==Mn&&(l.side=0)}return o.to}}return-1}};function DX(r,e,t,i,n){let{text:s}=r,o=r.char(n),a=n;if(e.unshift(be(L.LinkMark,i,i+(t==L.Image?2:1))),e.push(be(L.LinkMark,n-1,n)),o==40){let l=r.skipSpace(n+1),c=bx(s,l-r.offset,r.offset),h;c&&(l=r.skipSpace(c.to),l!=c.to&&(h=vx(s,l-r.offset,r.offset),h&&(l=r.skipSpace(h.to)))),r.char(l)==41&&(e.push(be(L.LinkMark,n,n+1)),a=l+1,c&&e.push(c),h&&e.push(h),e.push(be(L.LinkMark,l,a)))}else if(o==91){let l=Sx(s,n-r.offset,r.offset,!1);l&&(e.push(l),a=l.to)}return be(t,i,a,e)}function bx(r,e,t){if(r.charCodeAt(e)==60){for(let n=e+1;n<r.length;n++){let s=r.charCodeAt(n);if(s==62)return be(L.URL,e+t,n+1+t);if(s==60||s==10)return!1}return null}else{let n=0,s=e;for(let o=!1;s<r.length;s++){let a=r.charCodeAt(s);if(Mr(a))break;if(o)o=!1;else if(a==40)n++;else if(a==41){if(!n)break;n--}else a==92&&(o=!0)}return s>e?be(L.URL,e+t,s+t):s==r.length?null:!1}}function vx(r,e,t){let i=r.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let n=i==40?41:i;for(let s=e+1,o=!1;s<r.length;s++){let a=r.charCodeAt(s);if(o)o=!1;else{if(a==n)return be(L.LinkTitle,e+t,s+1+t);a==92&&(o=!0)}}return null}function Sx(r,e,t,i){for(let n=!1,s=e+1,o=Math.min(r.length,s+999);s<o;s++){let a=r.charCodeAt(s);if(n)n=!1;else{if(a==93)return i?!1:be(L.LinkLabel,e+t,s+1+t);if(i&&!Mr(a)&&(i=!1),a==91)return!1;a==92&&(n=!0)}}return null}class pO{constructor(e,t,i){this.parser=e,this.text=t,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,i,n,s){return this.append(new ur(e,t,i,(n?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof ur&&(t.type==Mn||t.type==Cc))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let n=this.parts[i];if(!(n instanceof ur&&n.type.resolve&&n.side&2))continue;let s=n.type==mx||n.type==yx,o=n.to-n.from,a,l=i-1;for(;l>=e;l--){let p=this.parts[l];if(p instanceof ur&&p.side&1&&p.type==n.type&&!(s&&(n.side&1||p.side&2)&&(p.to-p.from+o)%3==0&&((p.to-p.from)%3||o%3))){a=p;break}}if(!a)continue;let c=n.type.resolve,h=[],f=a.from,u=n.to;if(s){let p=Math.min(2,a.to-a.from,o);f=a.to-p,u=n.from+p,c=p==1?"Emphasis":"StrongEmphasis"}a.type.mark&&h.push(this.elt(a.type.mark,f,a.to));for(let p=l+1;p<i;p++)this.parts[p]instanceof ma&&h.push(this.parts[p]),this.parts[p]=null;n.type.mark&&h.push(this.elt(n.type.mark,n.from,u));let d=this.elt(c,f,u,h);this.parts[l]=s&&a.from!=f?new ur(a.type,a.from,f,a.side):null,(this.parts[i]=s&&n.to!=u?new ur(n.type,u,n.to,n.side):null)?this.parts.splice(i,0,d):this.parts[i]=d}let t=[];for(let i=e;i<this.parts.length;i++){let n=this.parts[i];n instanceof ma&&t.push(n)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let i=this.parts[t];if(i instanceof ur&&i.type==e&&i.side&1)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}getDelimiterAt(e){let t=this.parts[e];return t instanceof ur?t:null}skipSpace(e){return Uo(this.text,e-this.offset)+this.offset}elt(e,t,i,n){return typeof e=="string"?be(this.parser.getNodeType(e),t,i,n):new gx(e,t)}}pO.linkStart=Mn;pO.imageStart=Cc;function td(r,e){if(!e.length)return r;if(!r.length)return e;let t=r.slice(),i=0;for(let n of e){for(;i<t.length&&t[i].to<n.to;)i++;if(i<t.length&&t[i].from<n.from){let s=t[i];s instanceof ma&&(t[i]=new ma(s.type,s.from,s.to,td(s.children,[n])))}else t.splice(i++,0,n)}return t}const zX=[L.CodeBlock,L.ListItem,L.OrderedList,L.BulletList];class BX{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let n=e+this.fragment.offset;for(;i.to<=n;)if(!i.parent())return!1;for(;;){if(i.from>=n)return this.fragment.from<=t;if(!i.childAfter(n))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(oe.contextHash)==e}takeNodes(e){let t=this.cursor,i=this.fragment.offset,n=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,c=a;for(;;){if(t.to-i>n){if(t.type.isAnonymous&&t.firstChild())continue;break}let h=xx(t.from-i,e.ranges);if(t.to-i<=e.ranges[e.rangeI].to)e.addNode(t.tree,h);else{let f=new _e(e.parser.nodeSet.types[L.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(f,t.tree),e.addNode(f,h)}if(t.type.is("Block")&&(zX.indexOf(t.type.id)<0?(o=t.to-i,a=e.block.children.length):(o=l,a=c,l=t.to-i,c=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}}function xx(r,e){let t=r;for(let i=1;i<e.length;i++){let n=e[i-1].to,s=e[i].from;n<r&&(t-=s-n)}return t}const IX=zi({"Blockquote/...":y.quote,HorizontalRule:y.contentSeparator,"ATXHeading1/... SetextHeading1/...":y.heading1,"ATXHeading2/... SetextHeading2/...":y.heading2,"ATXHeading3/...":y.heading3,"ATXHeading4/...":y.heading4,"ATXHeading5/...":y.heading5,"ATXHeading6/...":y.heading6,"Comment CommentBlock":y.comment,Escape:y.escape,Entity:y.character,"Emphasis/...":y.emphasis,"StrongEmphasis/...":y.strong,"Link/... Image/...":y.link,"OrderedList/... BulletList/...":y.list,"BlockQuote/...":y.quote,"InlineCode CodeText":y.monospace,"URL Autolink":y.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":y.processingInstruction,"CodeInfo LinkLabel":y.labelName,LinkTitle:y.string,Paragraph:y.content}),NX=new ah(new Ra(Ox).extend(IX),Object.keys(Pl).map(r=>Pl[r]),Object.keys(Pl).map(r=>ux[r]),Object.keys(Pl),ZX,ix,Object.keys(ff).map(r=>ff[r]),Object.keys(ff),[]);function VX(r,e,t){let i=[];for(let n=r.firstChild,s=e;;n=n.nextSibling){let o=n?n.from:t;if(o>s&&i.push({from:s,to:o}),!n)break;s=n.to}return i}function WX(r){let{codeParser:e,htmlParser:t}=r;return{wrap:_v((n,s)=>{let o=n.type.id;if(e&&(o==L.CodeBlock||o==L.FencedCode)){let a="";if(o==L.FencedCode){let c=n.node.getChild(L.CodeInfo);c&&(a=s.read(c.from,c.to))}let l=e(a);if(l)return{parser:l,overlay:c=>c.type.id==L.CodeText}}else if(t&&(o==L.HTMLBlock||o==L.HTMLTag||o==L.CommentBlock))return{parser:t,overlay:VX(n.node,n.from,n.to)};return null})}}const jX={resolve:"Strikethrough",mark:"StrikethroughMark"},UX={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":y.strikethrough}},{name:"StrikethroughMark",style:y.processingInstruction}],parseInline:[{name:"Strikethrough",parse(r,e,t){if(e!=126||r.char(t+1)!=126||r.char(t+2)==126)return-1;let i=r.slice(t-1,t),n=r.slice(t+2,t+3),s=/\s|^$/.test(i),o=/\s|^$/.test(n),a=ya.test(i),l=ya.test(n);return r.addDelimiter(jX,t,t+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function Yo(r,e,t=0,i,n=0){let s=0,o=!0,a=-1,l=-1,c=!1,h=()=>{i.push(r.elt("TableCell",n+a,n+l,r.parser.parseInline(e.slice(a,l),n+a)))};for(let f=t;f<e.length;f++){let u=e.charCodeAt(f);u==124&&!c?((!o||a>-1)&&s++,o=!1,i&&(a>-1&&h(),i.push(r.elt("TableDelimiter",f+n,f+n+1))),a=l=-1):(c||u!=32&&u!=9)&&(a<0&&(a=f),l=f+1),c=!c&&u==92}return a>-1&&(s++,i&&h()),s}function km(r,e){for(let t=e;t<r.length;t++){let i=r.charCodeAt(t);if(i==124)return!0;i==92&&t++}return!1}const Qx=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class Pm{constructor(){this.rows=null}nextLine(e,t,i){if(this.rows==null){this.rows=!1;let n;if((t.next==45||t.next==58||t.next==124)&&Qx.test(n=t.text.slice(t.pos))){let s=[];Yo(e,i.content,0,s,i.start)==Yo(e,n,t.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let n=[];Yo(e,t.text,t.pos,n,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,n))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}const YX={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":y.heading}},"TableRow",{name:"TableCell",style:y.content},{name:"TableDelimiter",style:y.processingInstruction}],parseBlock:[{name:"Table",leaf(r,e){return km(e.content,0)?new Pm:null},endLeaf(r,e,t){if(t.parsers.some(n=>n instanceof Pm)||!km(e.text,e.basePos))return!1;let i=r.peekLine();return Qx.test(i)&&Yo(r,e.text,e.basePos)==Yo(r,i,e.basePos)},before:"SetextHeading"}]};class GX{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const FX={defineNodes:[{name:"Task",block:!0,style:y.list},{name:"TaskMarker",style:y.atom}],parseBlock:[{name:"TaskList",leaf(r,e){return/^\[[ xX]\][ \t]/.test(e.content)&&r.parentType().name=="ListItem"?new GX:null},after:"SetextHeading"}]},Tm=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,$m=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,HX=/[\w-]+\.[\w-]+($|\/)/,_m=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,Cm=/\/[a-zA-Z\d@.]+/gy;function Am(r,e,t,i){let n=0;for(let s=e;s<t;s++)r[s]==i&&n++;return n}function KX(r,e){$m.lastIndex=e;let t=$m.exec(r);if(!t||HX.exec(t[0])[0].indexOf("_")>-1)return-1;let i=e+t[0].length;for(;;){let n=r[i-1],s;if(/[?!.,:*_~]/.test(n)||n==")"&&Am(r,e,i,")")>Am(r,e,i,"("))i--;else if(n==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(r.slice(e,i))))i=e+s.index;else break}return i}function Em(r,e){_m.lastIndex=e;let t=_m.exec(r);if(!t)return-1;let i=t[0][t[0].length-1];return i=="_"||i=="-"?-1:e+t[0].length-(i=="."?1:0)}const JX={parseInline:[{name:"Autolink",parse(r,e,t){let i=t-r.offset;if(i&&/\w/.test(r.text[i-1]))return-1;Tm.lastIndex=i;let n=Tm.exec(r.text),s=-1;if(!n)return-1;if(n[1]||n[2]){if(s=KX(r.text,i+n[0].length),s>-1&&r.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(r.text.slice(i,s));s=i+o[0].length}}else n[3]?s=Em(r.text,i):(s=Em(r.text,i+n[0].length),s>-1&&n[0]=="xmpp:"&&(Cm.lastIndex=s,n=Cm.exec(r.text),n&&(s=n.index+n[0].length)));return s<0?-1:(r.addElement(r.elt("URL",t,s+r.offset)),s+r.offset)}}]},eM=[YX,FX,UX,JX];function wx(r,e,t){return(i,n,s)=>{if(n!=r||i.char(s+1)==r)return-1;let o=[i.elt(t,s,s+1)];for(let a=s+1;a<i.end;a++){let l=i.char(a);if(l==r)return i.addElement(i.elt(e,s,a+1,o.concat(i.elt(t,a,a+1))));if(l==92&&o.push(i.elt("Escape",a,a+++2)),Mr(l))break}return-1}}const tM={defineNodes:[{name:"Superscript",style:y.special(y.content)},{name:"SuperscriptMark",style:y.processingInstruction}],parseInline:[{name:"Superscript",parse:wx(94,"Superscript","SuperscriptMark")}]},rM={defineNodes:[{name:"Subscript",style:y.special(y.content)},{name:"SubscriptMark",style:y.processingInstruction}],parseInline:[{name:"Subscript",parse:wx(126,"Subscript","SubscriptMark")}]},iM={defineNodes:[{name:"Emoji",style:y.character}],parseInline:[{name:"Emoji",parse(r,e,t){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(r.slice(t+1,r.end)))?-1:r.addElement(r.elt("Emoji",t,t+1+i[0].length))}}]},nM=55,sM=1,oM=56,aM=2,lM=57,cM=3,Rm=4,hM=5,gO=6,kx=7,Px=8,Tx=9,$x=10,fM=11,uM=12,dM=13,uf=58,OM=14,pM=15,Xm=59,_x=21,gM=23,Cx=24,mM=25,rd=27,Ax=28,yM=29,bM=32,vM=35,SM=37,xM=38,QM=0,wM=1,kM={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},PM={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Mm={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function TM(r){return r==45||r==46||r==58||r>=65&&r<=90||r==95||r>=97&&r<=122||r>=161}let Zm=null,Lm=null,qm=0;function id(r,e){let t=r.pos+e;if(qm==t&&Lm==r)return Zm;let i=r.peek(e),n="";for(;TM(i);)n+=String.fromCharCode(i),i=r.peek(++e);return Lm=r,qm=t,Zm=n?n.toLowerCase():i==$M||i==_M?void 0:null}const Ex=60,Ac=62,mO=47,$M=63,_M=33,CM=45;function Dm(r,e){this.name=r,this.parent=e}const AM=[gO,$x,kx,Px,Tx],EM=new cO({start:null,shift(r,e,t,i){return AM.indexOf(e)>-1?new Dm(id(i,1)||"",r):r},reduce(r,e){return e==_x&&r?r.parent:r},reuse(r,e,t,i){let n=e.type.id;return n==gO||n==SM?new Dm(id(i,1)||"",r):r},strict:!1}),RM=new pt((r,e)=>{if(r.next!=Ex){r.next<0&&e.context&&r.acceptToken(uf);return}r.advance();let t=r.next==mO;t&&r.advance();let i=id(r,0);if(i===void 0)return;if(!i)return r.acceptToken(t?pM:OM);let n=e.context?e.context.name:null;if(t){if(i==n)return r.acceptToken(fM);if(n&&PM[n])return r.acceptToken(uf,-2);if(e.dialectEnabled(QM))return r.acceptToken(uM);for(let s=e.context;s;s=s.parent)if(s.name==i)return;r.acceptToken(dM)}else{if(i=="script")return r.acceptToken(kx);if(i=="style")return r.acceptToken(Px);if(i=="textarea")return r.acceptToken(Tx);if(kM.hasOwnProperty(i))return r.acceptToken($x);n&&Mm[n]&&Mm[n][i]?r.acceptToken(uf,-1):r.acceptToken(gO)}},{contextual:!0}),XM=new pt(r=>{for(let e=0,t=0;;t++){if(r.next<0){t&&r.acceptToken(Xm);break}if(r.next==CM)e++;else if(r.next==Ac&&e>=2){t>=3&&r.acceptToken(Xm,-2);break}else e=0;r.advance()}});function MM(r){for(;r;r=r.parent)if(r.name=="svg"||r.name=="math")return!0;return!1}const ZM=new pt((r,e)=>{if(r.next==mO&&r.peek(1)==Ac){let t=e.dialectEnabled(wM)||MM(e.context);r.acceptToken(t?hM:Rm,2)}else r.next==Ac&&r.acceptToken(Rm,1)});function yO(r,e,t){let i=2+r.length;return new pt(n=>{for(let s=0,o=0,a=0;;a++){if(n.next<0){a&&n.acceptToken(e);break}if(s==0&&n.next==Ex||s==1&&n.next==mO||s>=2&&s<i&&n.next==r.charCodeAt(s-2))s++,o++;else if(s==i&&n.next==Ac){a>o?n.acceptToken(e,-o):n.acceptToken(t,-(o-2));break}else if((n.next==10||n.next==13)&&a){n.acceptToken(e,1);break}else s=o=0;n.advance()}})}const LM=yO("script",nM,sM),qM=yO("style",oM,aM),DM=yO("textarea",lM,cM),zM=zi({"Text RawText IncompleteTag IncompleteCloseTag":y.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":y.angleBracket,TagName:y.tagName,"MismatchedCloseTag/TagName":[y.tagName,y.invalid],AttributeName:y.attributeName,"AttributeValue UnquotedAttributeValue":y.attributeValue,Is:y.definitionOperator,"EntityReference CharacterReference":y.character,Comment:y.blockComment,ProcessingInst:y.processingInstruction,DoctypeDecl:y.documentMeta}),BM=Mi.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:EM,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[zM],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[LM,qM,DM,ZM,RM,XM,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function Rx(r,e){let t=Object.create(null);for(let i of r.getChildren(Cx)){let n=i.getChild(mM),s=i.getChild(rd)||i.getChild(Ax);n&&(t[e.read(n.from,n.to)]=s?s.type.id==rd?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function zm(r,e){let t=r.getChild(gM);return t?e.read(t.from,t.to):" "}function df(r,e,t){let i;for(let n of t)if(!n.attrs||n.attrs(i||(i=Rx(r.node.parent.firstChild,e))))return{parser:n.parser};return null}function Xx(r=[],e=[]){let t=[],i=[],n=[],s=[];for(let a of r)(a.tag=="script"?t:a.tag=="style"?i:a.tag=="textarea"?n:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return _v((a,l)=>{let c=a.type.id;if(c==yM)return df(a,l,t);if(c==bM)return df(a,l,i);if(c==vM)return df(a,l,n);if(c==_x&&s.length){let h=a.node,f=h.firstChild,u=f&&zm(f,l),d;if(u){for(let O of s)if(O.tag==u&&(!O.attrs||O.attrs(d||(d=Rx(f,l))))){let p=h.lastChild,m=p.type.id==xM?p.from:h.to;if(m>f.to)return{parser:O.parser,overlay:[{from:f.to,to:m}]}}}}if(o&&c==Cx){let h=a.node,f;if(f=h.firstChild){let u=o[l.read(f.from,f.to)];if(u)for(let d of u){if(d.tagName&&d.tagName!=zm(h.parent,l))continue;let O=h.lastChild;if(O.type.id==rd){let p=O.from+1,m=O.lastChild,b=O.to-(m&&m.isError?0:1);if(b>p)return{parser:d.parser,overlay:[{from:p,to:b}]}}else if(O.type.id==Ax)return{parser:d.parser,overlay:[{from:O.from,to:O.to}]}}}}return null})}const IM=122,Bm=1,NM=123,VM=124,Mx=2,WM=125,jM=3,UM=4,Zx=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],YM=58,GM=40,Lx=95,FM=91,Wl=45,HM=46,KM=35,JM=37,eZ=38,tZ=92,rZ=10,iZ=42;function ba(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function bO(r){return r>=48&&r<=57}function Im(r){return bO(r)||r>=97&&r<=102||r>=65&&r<=70}const qx=(r,e,t)=>(i,n)=>{for(let s=!1,o=0,a=0;;a++){let{next:l}=i;if(ba(l)||l==Wl||l==Lx||s&&bO(l))!s&&(l!=Wl||a>0)&&(s=!0),o===a&&l==Wl&&o++,i.advance();else if(l==tZ&&i.peek(1)!=rZ){if(i.advance(),Im(i.next)){do i.advance();while(Im(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();s=!0}else{s&&i.acceptToken(o==2&&n.canShift(Mx)?e:l==GM?t:r);break}}},nZ=new pt(qx(NM,Mx,VM)),sZ=new pt(qx(WM,jM,UM)),oZ=new pt(r=>{if(Zx.includes(r.peek(-1))){let{next:e}=r;(ba(e)||e==Lx||e==KM||e==HM||e==iZ||e==FM||e==YM&&ba(r.peek(1))||e==Wl||e==eZ)&&r.acceptToken(IM)}}),aZ=new pt(r=>{if(!Zx.includes(r.peek(-1))){let{next:e}=r;if(e==JM&&(r.advance(),r.acceptToken(Bm)),ba(e)){do r.advance();while(ba(r.next)||bO(r.next));r.acceptToken(Bm)}}}),lZ=zi({"AtKeyword import charset namespace keyframes media supports":y.definitionKeyword,"from to selector":y.keyword,NamespaceName:y.namespace,KeyframeName:y.labelName,KeyframeRangeName:y.operatorKeyword,TagName:y.tagName,ClassName:y.className,PseudoClassName:y.constant(y.className),IdName:y.labelName,"FeatureName PropertyName":y.propertyName,AttributeName:y.attributeName,NumberLiteral:y.number,KeywordQuery:y.keyword,UnaryQueryOp:y.operatorKeyword,"CallTag ValueName":y.atom,VariableName:y.variableName,Callee:y.operatorKeyword,Unit:y.unit,"UniversalSelector NestingSelector":y.definitionOperator,"MatchOp CompareOp":y.compareOperator,"ChildOp SiblingOp, LogicOp":y.logicOperator,BinOp:y.arithmeticOperator,Important:y.modifier,Comment:y.blockComment,ColorLiteral:y.color,"ParenthesizedContent StringLiteral":y.string,":":y.punctuation,"PseudoOp #":y.derefOperator,"; ,":y.separator,"( )":y.paren,"[ ]":y.squareBracket,"{ }":y.brace}),cZ={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},hZ={__proto__:null,or:98,and:98,not:106,only:106,layer:170},fZ={__proto__:null,selector:112,layer:166},uZ={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},dZ={__proto__:null,to:207},OZ=Mi.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[lZ],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[oZ,aZ,nZ,sZ,1,2,3,4,new $c("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:r=>cZ[r]||-1},{term:125,get:r=>hZ[r]||-1},{term:4,get:r=>fZ[r]||-1},{term:25,get:r=>uZ[r]||-1},{term:123,get:r=>dZ[r]||-1}],tokenPrec:1963});let Of=null;function pf(){if(!Of&&typeof document=="object"&&document.body){let{style:r}=document.body,e=[],t=new Set;for(let i in r)i!="cssText"&&i!="cssFloat"&&typeof r[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));Of=e.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return Of||[]}const Nm=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),Vm=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),pZ=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),gZ=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(r=>({type:"keyword",label:r})),gi=/^(\w[\w-]*|-\w[\w-]*|)$/,mZ=/^-(-[\w-]*)?$/;function yZ(r,e){var t;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let i=(t=r.parent)===null||t===void 0?void 0:t.firstChild;return i?.name!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const Wm=new Nd,bZ=["Declaration"];function vZ(r){for(let e=r;;){if(e.type.isTop)return e;if(!(e=e.parent))return r}}function Dx(r,e,t){if(e.to-e.from>4096){let i=Wm.get(e);if(i)return i;let n=[],s=new Set,o=e.cursor(qe.IncludeAnonymous);if(o.firstChild())do for(let a of Dx(r,o.node,t))s.has(a.label)||(s.add(a.label),n.push(a));while(o.nextSibling());return Wm.set(e,n),n}else{let i=[],n=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(bZ)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=r.sliceString(s.from,s.to);n.has(a)||(n.add(a),i.push({label:a,type:"variable"}))}}),i}}const SZ=r=>e=>{let{state:t,pos:i}=e,n=je(t).resolveInner(i,-1),s=n.type.isError&&n.from==n.to-1&&t.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:pf(),validFor:gi};if(n.name=="ValueName")return{from:n.from,options:Vm,validFor:gi};if(n.name=="PseudoClassName")return{from:n.from,options:Nm,validFor:gi};if(r(n)||(e.explicit||s)&&yZ(n,t.doc))return{from:r(n)||s?n.from:i,options:Dx(t.doc,vZ(n),r),validFor:mZ};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:pf(),validFor:gi};return{from:n.from,options:pZ,validFor:gi}}if(n.name=="AtKeyword")return{from:n.from,options:gZ,validFor:gi};if(!e.explicit)return null;let o=n.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:Nm,validFor:gi}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:Vm,validFor:gi}:o.name=="Block"||o.name=="Styles"?{from:i,options:pf(),validFor:gi}:null},xZ=SZ(r=>r.name=="VariableName"),Ec=Xi.define({name:"css",parser:OZ.configure({props:[mn.add({Declaration:Nn()}),yn.add({"Block KeyframeList":Jc})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function zx(){return new dn(Ec,Ec.data.of({autocomplete:xZ}))}const $o=["_blank","_self","_top","_parent"],gf=["ascii","utf-8","utf-16","latin1","latin1"],mf=["get","post","put","delete"],yf=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],cr=["true","false"],H={},QZ={a:{attrs:{href:null,ping:null,type:null,media:null,target:$o,hreflang:null}},abbr:H,address:H,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:H,aside:H,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:H,base:{attrs:{href:null,target:$o}},bdi:H,bdo:H,blockquote:{attrs:{cite:null}},body:H,br:H,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:yf,formmethod:mf,formnovalidate:["novalidate"],formtarget:$o,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:H,center:H,cite:H,code:H,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:H,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:H,div:H,dl:H,dt:H,em:H,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:H,figure:H,footer:H,form:{attrs:{action:null,name:null,"accept-charset":gf,autocomplete:["on","off"],enctype:yf,method:mf,novalidate:["novalidate"],target:$o}},h1:H,h2:H,h3:H,h4:H,h5:H,h6:H,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:H,hgroup:H,hr:H,html:{attrs:{manifest:null}},i:H,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:yf,formmethod:mf,formnovalidate:["novalidate"],formtarget:$o,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:H,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:H,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:H,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:gf,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:H,noscript:H,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:H,param:{attrs:{name:null,value:null}},pre:H,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:H,rt:H,ruby:H,samp:H,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:gf}},section:H,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:H,source:{attrs:{src:null,type:null,media:null}},span:H,strong:H,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:H,summary:H,sup:H,table:H,tbody:H,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:H,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:H,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:H,time:{attrs:{datetime:null}},title:H,tr:H,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:H,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:H},Bx={accesskey:null,class:null,contenteditable:cr,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:cr,autocorrect:cr,autocapitalize:cr,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":cr,"aria-autocomplete":["inline","list","both","none"],"aria-busy":cr,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":cr,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":cr,"aria-hidden":cr,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":cr,"aria-multiselectable":cr,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":cr,"aria-relevant":null,"aria-required":cr,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Ix="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(r=>"on"+r);for(let r of Ix)Bx[r]=null;class va{constructor(e,t){this.tags={...QZ,...e},this.globalAttrs={...Bx,...t},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}va.default=new va;function Fs(r,e,t=r.length){if(!e)return"";let i=e.firstChild,n=i&&i.getChild("TagName");return n?r.sliceString(n.from,Math.min(n.to,t)):""}function Hs(r,e=!1){for(;r;r=r.parent)if(r.name=="Element")if(e)e=!1;else return r;return null}function Nx(r,e,t){let i=t.tags[Fs(r,Hs(e))];return i?.children||t.allTags}function vO(r,e){let t=[];for(let i=Hs(e);i&&!i.type.isTop;i=Hs(i.parent)){let n=Fs(r,i);if(n&&i.lastChild.name=="CloseTag")break;n&&t.indexOf(n)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(n)}return t}const Vx=/^[:\-\.\w\u00b7-\uffff]*$/;function jm(r,e,t,i,n){let s=/\s*>/.test(r.sliceDoc(n,n+5))?"":">",o=Hs(t,t.name=="StartTag"||t.name=="TagName");return{from:i,to:n,options:Nx(r.doc,o,e).map(a=>({label:a,type:"type"})).concat(vO(r.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Um(r,e,t,i){let n=/\s*>/.test(r.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:vO(r.doc,e).map((s,o)=>({label:s,apply:s+n,type:"type",boost:99-o})),validFor:Vx}}function wZ(r,e,t,i){let n=[],s=0;for(let o of Nx(r.doc,t,e))n.push({label:"<"+o,type:"type"});for(let o of vO(r.doc,t))n.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:i,to:i,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function kZ(r,e,t,i,n){let s=Hs(t),o=s?e.tags[Fs(r.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:n,options:l.map(c=>({label:c,type:"property"})),validFor:Vx}}function PZ(r,e,t,i,n){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=r.sliceDoc(o.from,o.to),h=e.globalAttrs[c];if(!h){let f=Hs(t),u=f?e.tags[Fs(r.doc,f)]:null;h=u?.attrs&&u.attrs[c]}if(h){let f=r.sliceDoc(i,n).toLowerCase(),u='"',d='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,u="",d=r.sliceDoc(n,n+1)==f[0]?"":f[0],f=f.slice(1),i++):l=/^[^\s<>='"]*$/;for(let O of h)a.push({label:O,apply:u+O+d,type:"constant"})}}return{from:i,to:n,options:a,validFor:l}}function Wx(r,e){let{state:t,pos:i}=e,n=je(t).resolveInner(i,-1),s=n.resolve(i);for(let o=i,a;s==n&&(a=n.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=n=a,o=l.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?Um(t,n,n.from,i):jm(t,r,n,n.from,i):n.name=="StartTag"||n.name=="IncompleteTag"?jm(t,r,n,i,i):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?Um(t,n,i,i):n.name=="OpenTag"||n.name=="SelfClosingTag"||n.name=="AttributeName"?kZ(t,r,n,n.name=="AttributeName"?n.from:i,i):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?PZ(t,r,n,n.name=="Is"?i:n.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?wZ(t,r,n,i):null}function TZ(r){return Wx(va.default,r)}function $Z(r){let{extraTags:e,extraGlobalAttributes:t}=r,i=t||e?new va(e,t):va.default;return n=>Wx(i,n)}const _Z=ci.parser.configure({top:"SingleExpression"}),jx=[{tag:"script",attrs:r=>r.type=="text/typescript"||r.lang=="ts",parser:IS.parser},{tag:"script",attrs:r=>r.type=="text/babel"||r.type=="text/jsx",parser:NS.parser},{tag:"script",attrs:r=>r.type=="text/typescript-jsx",parser:VS.parser},{tag:"script",attrs(r){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(r.type)},parser:_Z},{tag:"script",attrs(r){return!r.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(r.type)},parser:ci.parser},{tag:"style",attrs(r){return(!r.lang||r.lang=="css")&&(!r.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(r.type))},parser:Ec.parser}],Ux=[{name:"style",parser:Ec.parser.configure({top:"Styles"})}].concat(Ix.map(r=>({name:r,parser:ci.parser}))),Yx=Xi.define({name:"html",parser:BM.configure({props:[mn.add({Element(r){let e=/^(\s*)(<\/)?/.exec(r.textAfter);return r.node.to<=r.pos+e[0].length?r.continue():r.lineIndent(r.node.from)+(e[2]?0:r.unit)},"OpenTag CloseTag SelfClosingTag"(r){return r.column(r.node.from)+r.unit},Document(r){if(r.pos+/\s*/.exec(r.textAfter)[0].length<r.node.to)return r.continue();let e=null,t;for(let i=r.node;;){let n=i.lastChild;if(!n||n.name!="Element"||n.to!=i.to)break;e=i=n}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?r.lineIndent(e.from)+r.unit:null}}),yn.add({Element(r){let e=r.firstChild,t=r.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:r.to}}}),Dv.add({"OpenTag CloseTag":r=>r.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3C!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),jl=Yx.configure({wrap:Xx(jx,Ux)});function Gx(r={}){let e="",t;r.matchClosingTags===!1&&(e="noMatch"),r.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(r.nestedLanguages&&r.nestedLanguages.length||r.nestedAttributes&&r.nestedAttributes.length)&&(t=Xx((r.nestedLanguages||[]).concat(jx),(r.nestedAttributes||[]).concat(Ux)));let i=t?Yx.configure({wrap:t,dialect:e}):e?jl.configure({dialect:e}):jl;return new dn(i,[jl.data.of({autocomplete:$Z(r)}),r.autoCloseTags!==!1?CZ:[],Fu().support,zx().support])}const Ym=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),CZ=Y.inputHandler.of((r,e,t,i,n)=>{if(r.composing||r.state.readOnly||e!=t||i!=">"&&i!="/"||!jl.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var c,h,f;let u=o.doc.sliceString(l.from-1,l.to)==i,{head:d}=l,O=je(o).resolveInner(d,-1),p;if(u&&i==">"&&O.name=="EndTag"){let m=O.parent;if(((h=(c=m.parent)===null||c===void 0?void 0:c.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(p=Fs(o.doc,m.parent,d))&&!Ym.has(p)){let b=d+(o.doc.sliceString(d,d+1)===">"?1:0),v=`</${p}>`;return{range:l,changes:{from:d,to:b,insert:v}}}}else if(u&&i=="/"&&O.name=="IncompleteCloseTag"){let m=O.parent;if(O.from==d-2&&((f=m.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(p=Fs(o.doc,m,d))&&!Ym.has(p)){let b=d+(o.doc.sliceString(d,d+1)===">"?1:0),v=`${p}>`;return{range:A.cursor(d+v.length,-1),changes:{from:d,to:b,insert:v}}}}return{range:l}});return a.changes.empty?!1:(r.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Fx=Wd({commentTokens:{block:{open:"\x3C!--",close:"-->"}}}),Hx=new oe,Kx=NX.configure({props:[yn.add(r=>!r.is("Block")||r.is("Document")||nd(r)!=null||AZ(r)?void 0:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})),Hx.add(nd),mn.add({Document:()=>null}),qn.add({Document:Fx})]});function nd(r){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(r.name);return e?+e[1]:void 0}function AZ(r){return r.name=="OrderedList"||r.name=="BulletList"}function EZ(r,e){let t=r;for(;;){let i=t.nextSibling,n;if(!i||(n=nd(i.type))!=null&&n<=e)break;t=i}return t.to}const RZ=MC.of((r,e,t)=>{for(let i=je(r).resolveInner(t,-1);i&&!(i.from<e);i=i.parent){let n=i.type.prop(Hx);if(n==null)continue;let s=EZ(i,n);if(s>t)return{from:t,to:s}}return null});function SO(r){return new Tr(Fx,r,[],"markdown")}const XZ=SO(Kx),MZ=Kx.configure([eM,rM,tM,iM,{props:[yn.add({Table:(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}]),Rc=SO(MZ);function ZZ(r,e){return t=>{if(t&&r){let i=null;if(t=/\S*/.exec(t)[0],typeof r=="function"?i=r(t):i=pc.matchLanguageName(r,t,!0),i instanceof pc)return i.support?i.support.language.parser:ua.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class bf{constructor(e,t,i,n,s,o,a){this.node=e,this.from=t,this.to=i,this.spaceBefore=n,this.spaceAfter=s,this.type=o,this.item=a}blank(e,t=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let n=this.to-this.from-i.length-this.spaceAfter.length;n>0;n--)i+=" ";return i+(t?this.spaceAfter:"")}}marker(e,t){let i=this.node.name=="OrderedList"?String(+e1(this.item,e)[2]+t):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function Jx(r,e){let t=[],i=[];for(let n=r;n;n=n.parent){if(n.name=="FencedCode")return i;(n.name=="ListItem"||n.name=="Blockquote")&&t.push(n)}for(let n=t.length-1;n>=0;n--){let s=t[n],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))i.push(new bf(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let c=o[3],h=o[0].length;c.length>=4&&(c=c.slice(0,c.length-4),h-=4),i.push(new bf(s.parent,l,l+h,o[1],c,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let c=o[4],h=o[0].length;c.length>4&&(c=c.slice(0,c.length-4),h-=4);let f=o[2];o[3]&&(f+=o[3].replace(/[xX]/," ")),i.push(new bf(s.parent,l,l+h,o[1],c,f,s))}}return i}function e1(r,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(r.from,r.from+10))}function vf(r,e,t,i=0){for(let n=-1,s=r;;){if(s.name=="ListItem"){let a=e1(s,e),l=+a[2];if(n>=0){if(l!=n+1)return;t.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(n+2+i)})}n=l}let o=s.nextSibling;if(!o)break;s=o}}function xO(r,e){let t=/^[ \t]*/.exec(r)[0].length;if(!t||e.facet(Xa)!="	")return r;let i=fi(r,4,t),n="";for(let s=i;s>0;)s>=4?(n+="	",s-=4):(n+=" ",s--);return n+r.slice(t)}const LZ=(r={})=>({state:e,dispatch:t})=>{let i=je(e),{doc:n}=e,s=null,o=e.changeByRange(a=>{if(!a.empty||!Rc.isActiveAt(e,a.from,-1)&&!Rc.isActiveAt(e,a.from,1))return s={range:a};let l=a.from,c=n.lineAt(l),h=Jx(i.resolveInner(l,-1),n);for(;h.length&&h[h.length-1].from>l-c.from;)h.pop();if(!h.length)return s={range:a};let f=h[h.length-1];if(f.to-f.spaceAfter.length>l-c.from)return s={range:a};let u=l>=f.to-f.spaceAfter.length&&!/\S/.test(c.text.slice(f.to));if(f.item&&u){let b=f.node.firstChild,v=f.node.getChild("ListItem","ListItem");if(b.to>=l||v&&v.to<l||c.from>0&&!/[^\s>]/.test(n.lineAt(c.from-1).text)||r.nonTightLists===!1){let x=h.length>1?h[h.length-2]:null,Q,S="";x&&x.item?(Q=c.from+x.from,S=x.marker(n,1)):Q=c.from+(x?x.to:0);let P=[{from:Q,to:l,insert:S}];return f.node.name=="OrderedList"&&vf(f.item,n,P,-2),x&&x.node.name=="OrderedList"&&vf(x.item,n,P),{range:A.cursor(Q+S.length),changes:P}}else{let x=Fm(h,e,c);return{range:A.cursor(l+x.length+1),changes:{from:c.from,insert:x+e.lineBreak}}}}if(f.node.name=="Blockquote"&&u&&c.from){let b=n.lineAt(c.from-1),v=/>\s*$/.exec(b.text);if(v&&v.index==f.from){let x=e.changes([{from:b.from+v.index,to:b.to},{from:c.from+f.from,to:c.to}]);return{range:a.map(x),changes:x}}}let d=[];f.node.name=="OrderedList"&&vf(f.item,n,d);let O=f.item&&f.item.from<c.from,p="";if(!O||/^[\s\d.)\-+*>]*/.exec(c.text)[0].length>=f.to)for(let b=0,v=h.length-1;b<=v;b++)p+=b==v&&!O?h[b].marker(n,1):h[b].blank(b<v?fi(c.text,4,h[b+1].from)-p.length:null);let m=l;for(;m>c.from&&/\s/.test(c.text.charAt(m-c.from-1));)m--;return p=xO(p,e),DZ(f.node,e.doc)&&(p=Fm(h,e,c)+e.lineBreak+p),d.push({from:m,to:l,insert:e.lineBreak+p}),{range:A.cursor(m+p.length+1),changes:d}});return s?!1:(t(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)},qZ=LZ();function Gm(r){return r.name=="QuoteMark"||r.name=="ListMark"}function DZ(r,e){if(r.name!="OrderedList"&&r.name!="BulletList")return!1;let t=r.firstChild,i=r.getChild("ListItem","ListItem");if(!i)return!1;let n=e.lineAt(t.to),s=e.lineAt(i.from),o=/^[\s>]*$/.test(n.text);return n.number+(o?0:1)<s.number}function Fm(r,e,t){let i="";for(let n=0,s=r.length-2;n<=s;n++)i+=r[n].blank(n<s?fi(t.text,4,r[n+1].from)-i.length:null,n<s);return xO(i,e)}function zZ(r,e){let t=r.resolveInner(e,-1),i=e;Gm(t)&&(i=t.from,t=t.parent);for(let n;n=t.childBefore(i);)if(Gm(n))i=n.from;else if(n.name=="OrderedList"||n.name=="BulletList")t=n.lastChild,i=t.to;else break;return t}const BZ=({state:r,dispatch:e})=>{let t=je(r),i=null,n=r.changeByRange(s=>{let o=s.from,{doc:a}=r;if(s.empty&&Rc.isActiveAt(r,s.from)){let l=a.lineAt(o),c=Jx(zZ(t,o),a);if(c.length){let h=c[c.length-1],f=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(o-l.from>f&&!/\S/.test(l.text.slice(f,o-l.from)))return{range:A.cursor(l.from+f),changes:{from:l.from+f,to:o}};if(o-l.from==f&&(!h.item||l.from<=h.item.from||!/\S/.test(l.text.slice(0,h.to)))){let u=l.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(l.text.slice(h.from,h.to))){let d=h.blank(fi(l.text,4,h.to)-fi(l.text,4,h.from));return u==l.from&&(d=xO(d,r)),{range:A.cursor(u+d.length),changes:{from:u,to:l.from+h.to,insert:d}}}if(u<o)return{range:A.cursor(u),changes:{from:u,to:o}}}}}return i={range:s}});return i?!1:(e(r.update(n,{scrollIntoView:!0,userEvent:"delete"})),!0)},IZ=[{key:"Enter",run:qZ},{key:"Backspace",run:BZ}],t1=Gx({matchClosingTags:!1});function NZ(r={}){let{codeLanguages:e,defaultCodeLanguage:t,addKeymap:i=!0,base:{parser:n}=XZ,completeHTMLTags:s=!0,pasteURLAsLink:o=!0,htmlTagLanguage:a=t1}=r;if(!(n instanceof ah))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let l=r.extensions?[r.extensions]:[],c=[a.support,RZ],h;o&&c.push(UZ),t instanceof dn?(c.push(t.support),h=t.language):t&&(h=t);let f=e||h?ZZ(e,h):void 0;l.push(WX({codeParser:f,htmlParser:a.language.parser})),i&&c.push(gn.high(Ea.of(IZ)));let u=SO(n.configure(l));return s&&c.push(u.data.of({autocomplete:VZ})),new dn(u,c)}function VZ(r){let{state:e,pos:t}=r,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(t-25,t));if(!i)return null;let n=je(e).resolveInner(t,-1);for(;n&&!n.type.isTop;){if(n.name=="CodeBlock"||n.name=="FencedCode"||n.name=="ProcessingInstructionBlock"||n.name=="CommentBlock"||n.name=="Link"||n.name=="Image")return null;n=n.parent}return{from:t-i[0].length,to:t,options:WZ(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Sf=null;function WZ(){if(Sf)return Sf;let r=TZ(new tO(Pe.create({extensions:t1}),0,!0));return Sf=r?r.options:[]}const jZ=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,UZ=Y.domEventHandlers({paste:(r,e)=>{var t;let{main:i}=e.state.selection;if(i.empty)return!1;let n=(t=r.clipboardData)===null||t===void 0?void 0:t.getData("text/plain");if(!n||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(n)||(/^www\./.test(n)&&(n="https://"+n),!Rc.isActiveAt(e.state,i.from,1)))return!1;let s=je(e.state),o=!1;return s.iterate({from:i.from,to:i.to,enter:a=>{(a.from>i.from||jZ.test(a.name))&&(o=!0)},leave:a=>{a.to<i.to&&(o=!0)}}),o?!1:(e.dispatch({changes:[{from:i.from,insert:"["},{from:i.to,insert:`](${n})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),YZ=zi({String:y.string,Number:y.number,"True False":y.bool,PropertyName:y.propertyName,Null:y.null,", :":y.separator,"[ ]":y.squareBracket,"{ }":y.brace}),GZ=Mi.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[YZ],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),FZ=Xi.define({name:"json",parser:GZ.configure({props:[mn.add({Object:Nn({except:/^\s*\}/}),Array:Nn({except:/^\s*\]/})}),yn.add({"Object Array":Jc})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function HZ(){return new dn(FZ)}const KZ=36,Hm=1,JZ=2,ps=3,xf=4,eL=5,tL=6,rL=7,iL=8,nL=9,sL=10,oL=11,aL=12,lL=13,cL=14,hL=15,fL=16,uL=17,Km=18,dL=19,r1=20,i1=21,Jm=22,OL=23,pL=24;function sd(r){return r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57}function gL(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function Cn(r,e,t){for(let i=!1;;){if(r.next<0)return;if(r.next==e&&!i){r.advance();return}i=t&&!i&&r.next==92,r.advance()}}function mL(r,e){e:for(;;){if(r.next<0)return;if(r.next==36){r.advance();for(let t=0;t<e.length;t++){if(r.next!=e.charCodeAt(t))continue e;r.advance()}if(r.next==36){r.advance();return}}else r.advance()}}function yL(r,e){let t="[{<(".indexOf(String.fromCharCode(e)),i=t<0?e:"]}>)".charCodeAt(t);for(;;){if(r.next<0)return;if(r.next==i&&r.peek(1)==39){r.advance(2);return}r.advance()}}function od(r,e){for(;!(r.next!=95&&!sd(r.next));)e!=null&&(e+=String.fromCharCode(r.next)),r.advance();return e}function bL(r){if(r.next==39||r.next==34||r.next==96){let e=r.next;r.advance(),Cn(r,e,!1)}else od(r)}function e0(r,e){for(;r.next==48||r.next==49;)r.advance();e&&r.next==e&&r.advance()}function t0(r,e){for(;;){if(r.next==46){if(e)break;e=!0}else if(r.next<48||r.next>57)break;r.advance()}if(r.next==69||r.next==101)for(r.advance(),(r.next==43||r.next==45)&&r.advance();r.next>=48&&r.next<=57;)r.advance()}function r0(r){for(;!(r.next<0||r.next==10);)r.advance()}function $n(r,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==r)return!0;return!1}const Qf=` 	\r
`;function n1(r,e,t){let i=Object.create(null);i.true=i.false=eL,i.null=i.unknown=tL;for(let n of r.split(" "))n&&(i[n]=r1);for(let n of e.split(" "))n&&(i[n]=i1);for(let n of(t||"").split(" "))n&&(i[n]=pL);return i}const vL="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",SL="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",ad={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:n1(SL,vL)};function xL(r,e,t,i){let n={};for(let s in ad)n[s]=(r.hasOwnProperty(s)?r:ad)[s];return e&&(n.words=n1(e,t||"",i)),n}function s1(r){return new pt(e=>{var t;let{next:i}=e;if(e.advance(),$n(i,Qf)){for(;$n(e.next,Qf);)e.advance();e.acceptToken(KZ)}else if(i==36&&r.doubleDollarQuotedStrings){let n=od(e,"");e.next==36&&(e.advance(),mL(e,n),e.acceptToken(ps))}else if(i==39||i==34&&r.doubleQuotedStrings)Cn(e,i,r.backslashEscapes),e.acceptToken(ps);else if(i==35&&r.hashComments||i==47&&e.next==47&&r.slashComments)r0(e),e.acceptToken(Hm);else if(i==45&&e.next==45&&(!r.spaceAfterDashes||e.peek(1)==32))r0(e),e.acceptToken(Hm);else if(i==47&&e.next==42){e.advance();for(let n=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(n--,e.advance(),!n)break}else s==47&&e.next==42&&(n++,e.advance())}e.acceptToken(JZ)}else if((i==101||i==69)&&e.next==39)e.advance(),Cn(e,39,!0),e.acceptToken(ps);else if((i==110||i==78)&&e.next==39&&r.charSetCasts)e.advance(),Cn(e,39,r.backslashEscapes),e.acceptToken(ps);else if(i==95&&r.charSetCasts)for(let n=0;;n++){if(e.next==39&&n>1){e.advance(),Cn(e,39,r.backslashEscapes),e.acceptToken(ps);break}if(!sd(e.next))break;e.advance()}else if(r.plsqlQuotingMechanism&&(i==113||i==81)&&e.next==39&&e.peek(1)>0&&!$n(e.peek(1),Qf)){let n=e.peek(1);e.advance(2),yL(e,n),e.acceptToken(ps)}else if($n(i,r.identifierQuotes)){const n=i==91?93:i;Cn(e,n,!1),e.acceptToken(dL)}else if(i==40)e.acceptToken(rL);else if(i==41)e.acceptToken(iL);else if(i==123)e.acceptToken(nL);else if(i==125)e.acceptToken(sL);else if(i==91)e.acceptToken(oL);else if(i==93)e.acceptToken(aL);else if(i==59)e.acceptToken(lL);else if(r.unquotedBitLiterals&&i==48&&e.next==98)e.advance(),e0(e),e.acceptToken(Jm);else if((i==98||i==66)&&(e.next==39||e.next==34)){const n=e.next;e.advance(),r.treatBitsAsBytes?(Cn(e,n,r.backslashEscapes),e.acceptToken(OL)):(e0(e,n),e.acceptToken(Jm))}else if(i==48&&(e.next==120||e.next==88)||(i==120||i==88)&&e.next==39){let n=e.next==39;for(e.advance();gL(e.next);)e.advance();n&&e.next==39&&e.advance(),e.acceptToken(xf)}else if(i==46&&e.next>=48&&e.next<=57)t0(e,!0),e.acceptToken(xf);else if(i==46)e.acceptToken(cL);else if(i>=48&&i<=57)t0(e,!1),e.acceptToken(xf);else if($n(i,r.operatorChars)){for(;$n(e.next,r.operatorChars);)e.advance();e.acceptToken(hL)}else if($n(i,r.specialVar))e.next==i&&e.advance(),bL(e),e.acceptToken(uL);else if(i==58||i==44)e.acceptToken(fL);else if(sd(i)){let n=od(e,String.fromCharCode(i));e.acceptToken(e.next==46||e.peek(-n.length-1)==46?Km:(t=r.words[n.toLowerCase()])!==null&&t!==void 0?t:Km)}})}const o1=s1(ad),QL=Mi.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,o1],topRules:{Script:[0,25]},tokenPrec:0});function ld(r){let e=r.cursor().moveTo(r.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Sa(r,e){let t=r.sliceString(e.from,e.to),i=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return i?i[2]:t}function Xc(r){return r&&(r.name=="Identifier"||r.name=="QuotedIdentifier")}function wL(r,e){if(e.name=="CompositeIdentifier"){let t=[];for(let i=e.firstChild;i;i=i.nextSibling)Xc(i)&&t.push(Sa(r,i));return t}return[Sa(r,e)]}function i0(r,e){for(let t=[];;){if(!e||e.name!=".")return t;let i=ld(e);if(!Xc(i))return t;t.unshift(Sa(r,i)),e=ld(i)}}function kL(r,e){let t=je(r).resolveInner(e,-1),i=TL(r.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?r.doc.sliceString(t.from,t.from+1):null,parents:i0(r.doc,ld(t)),aliases:i}:t.name=="."?{from:e,quoted:null,parents:i0(r.doc,t),aliases:i}:{from:e,quoted:null,parents:[],empty:!0,aliases:i}}const PL=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function TL(r,e){let t;for(let n=e;!t;n=n.parent){if(!n)return null;n.name=="Statement"&&(t=n)}let i=null;for(let n=t.firstChild,s=!1,o=null;n;n=n.nextSibling){let a=n.name=="Keyword"?r.sliceString(n.from,n.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&Xc(n.nextSibling))l=Sa(r,n.nextSibling);else{if(a&&PL.has(a))break;o&&Xc(n)&&(l=Sa(r,n))}l&&(i||(i=Object.create(null)),i[l]=wL(r,o)),o=/Identifier$/.test(n.name)?n:null}return i}function $L(r,e,t){return t.map(i=>({...i,label:i.label[0]==r?i.label:r+i.label+e,apply:void 0}))}const _L=/^\w*$/,CL=/^[`'"\[]?\w*[`'"\]]?$/;function n0(r){return r.self&&typeof r.self.label=="string"}class QO{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),i=t[e];return i||(e&&!this.list.some(n=>n.label==e)&&this.list.push(s0(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new QO(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(i=>i.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?s0(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):n0(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let i=e[t],n=null,s=t.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;n0(i)&&(n=i.self,i=i.children);for(let a=0;a<s.length;a++)n&&a==s.length-1&&o.addCompletion(n),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(i)}}}function s0(r,e,t,i){return new RegExp("^[a-z_][a-z_\\d]*$",i?"i":"").test(r)?{label:r,type:e}:{label:r,type:e,apply:t+r+a1(t)}}function a1(r){return r==="["?"]":r}function AL(r,e,t,i,n,s){var o;let a=((o=s?.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new QO(a,!!s?.spec.caseInsensitiveIdentifiers),c=n?l.child(n):null;return l.addNamespace(r),e&&(c||l).addCompletions(e),t&&l.addCompletions(t),c&&l.addCompletions(c.list),i&&l.addCompletions((c||l).child(i).list),h=>{let{parents:f,from:u,quoted:d,empty:O,aliases:p}=kL(h.state,h.pos);if(O&&!h.explicit)return null;p&&f.length==1&&(f=p[f[0]]||f);let m=l;for(let v of f){for(;!m.children||!m.children[v];)if(m==l&&c)m=c;else if(m==c&&i)m=m.child(i);else return null;let x=m.maybeChild(v);if(!x)return null;m=x}let b=m.list;if(m==l&&p&&(b=b.concat(Object.keys(p).map(v=>({label:v,type:"constant"})))),d){let v=d[0],x=a1(v),Q=h.state.sliceDoc(h.pos,h.pos+1)==x;return{from:u,to:Q?h.pos+1:void 0,options:$L(v,x,b),validFor:CL}}else return{from:u,options:b,validFor:_L}}}function EL(r){return r==i1?"type":r==r1?"keyword":"variable"}function RL(r,e,t){let i=Object.keys(r).map(n=>t(e?n.toUpperCase():n,EL(r[n])));return rO(["QuotedIdentifier","String","LineComment","BlockComment","."],sh(i))}let XL=QL.configure({props:[mn.add({Statement:Nn()}),yn.add({Statement(r,e){return{from:Math.min(r.from+100,e.doc.lineAt(r.from).to),to:r.to}},BlockComment(r){return{from:r.from+2,to:r.to-2}}}),zi({Keyword:y.keyword,Type:y.typeName,Builtin:y.standard(y.name),Bits:y.number,Bytes:y.string,Bool:y.bool,Null:y.null,Number:y.number,String:y.string,Identifier:y.name,QuotedIdentifier:y.special(y.string),SpecialVar:y.special(y.name),LineComment:y.lineComment,BlockComment:y.blockComment,Operator:y.operator,"Semi Punctuation":y.punctuation,"( )":y.paren,"{ }":y.brace,"[ ]":y.squareBracket})]});class Mc{constructor(e,t,i){this.dialect=e,this.language=t,this.spec=i}get extension(){return this.language.extension}configureLanguage(e,t){return new Mc(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=xL(e,e.keywords,e.types,e.builtin),i=Xi.define({name:"sql",parser:XL.configure({tokenizers:[{from:o1,to:s1(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Mc(t,i,e)}}function ML(r,e){return{label:r,type:e,boost:-1}}function ZL(r,e=!1,t){return RL(r.dialect.words,e,t||ML)}function LL(r){return r.schema?AL(r.schema,r.tables,r.schemas,r.defaultTable,r.defaultSchema,r.dialect||wO):()=>null}function qL(r){return r.schema?(r.dialect||wO).language.data.of({autocomplete:LL(r)}):[]}function DL(r={}){let e=r.dialect||wO;return new dn(e.language,[qL(r),e.language.data.of({autocomplete:ZL(e,r.upperCaseKeywords,r.keywordCompletion)})])}const wO=Mc.define({}),zL="#e5c07b",o0="#e06c75",BL="#56b6c2",IL="#ffffff",Ul="#abb2bf",cd="#7d8799",NL="#61afef",VL="#98c379",a0="#d19a66",WL="#c678dd",jL="#21252b",l0="#2c313a",c0="#282c34",wf="#353a42",UL="#3E4451",h0="#528bff",YL=Y.theme({"&":{color:Ul,backgroundColor:c0},".cm-content":{caretColor:h0},".cm-cursor, .cm-dropCursor":{borderLeftColor:h0},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:UL},".cm-panels":{backgroundColor:jL,color:Ul},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:c0,color:cd,border:"none"},".cm-activeLineGutter":{backgroundColor:l0},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wf},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wf,borderBottomColor:wf},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:l0,color:Ul}}},{dark:!0}),GL=eh.define([{tag:y.keyword,color:WL},{tag:[y.name,y.deleted,y.character,y.propertyName,y.macroName],color:o0},{tag:[y.function(y.variableName),y.labelName],color:NL},{tag:[y.color,y.constant(y.name),y.standard(y.name)],color:a0},{tag:[y.definition(y.name),y.separator],color:Ul},{tag:[y.typeName,y.className,y.number,y.changed,y.annotation,y.modifier,y.self,y.namespace],color:zL},{tag:[y.operator,y.operatorKeyword,y.url,y.escape,y.regexp,y.link,y.special(y.string)],color:BL},{tag:[y.meta,y.comment],color:cd},{tag:y.strong,fontWeight:"bold"},{tag:y.emphasis,fontStyle:"italic"},{tag:y.strikethrough,textDecoration:"line-through"},{tag:y.link,color:cd,textDecoration:"underline"},{tag:y.heading,fontWeight:"bold",color:o0},{tag:[y.atom,y.bool,y.special(y.variableName)],color:a0},{tag:[y.processingInstruction,y.string,y.inserted],color:VL},{tag:y.invalid,color:IL}]),kf=[YL,LC(GL)];var FL=z('<div class="h-full w-full overflow-hidden"><div class="h-full"></div></div>');function HL(r,e){$t(e,!1);let t=se(e,"value",8,""),i=se(e,"onChange",8,()=>{}),n=se(e,"language",8,"plain"),s=se(e,"readonly",8,!1),o=se(e,"wordWrap",8,!0),a=se(e,"isDark",8,!1),l=N(),c=N(),h=N(null),f=new In,u=new In,d=new In,O=N(0);function p(){switch(n()){case"javascript":return Fu();case"python":return AX();case"markdown":return NZ();case"json":return HZ();case"html":return Gx();case"css":return zx();case"sql":return DL();case"bash":return Fu();default:return[]}}to(()=>{k(O,g(c).clientWidth);const v=[iC(),I2(),Z2(),aA(),jC(),SR(),gE(),Ea.of([...cE,...gA,...ME,...XS,hE]),f.of(p()),u.of(o()?Y.lineWrapping:[]),d.of(a()?kf:[]),Y.updateListener.of(S=>{if(S.docChanged){const P=S.state.doc.toString();P!==t()&&i()(P)}}),Y.editable.of(!s())],x=Pe.create({doc:t(),extensions:v});k(h,new Y({state:x,parent:g(l)}));const Q=()=>{k(O,g(c).clientWidth)};return window.addEventListener("resize",Q),()=>{window.removeEventListener("resize",Q)}}),iy(()=>{g(h)&&(g(h).destroy(),k(h,null))}),ze(()=>(g(h),Ne(t())),()=>{g(h)&&t()!==g(h).state.doc.toString()&&g(h).dispatch({changes:{from:0,to:g(h).state.doc.length,insert:t()}})}),ze(()=>(g(h),Ne(n())),()=>{g(h)&&n()&&g(h).dispatch({effects:f.reconfigure(p())})}),ze(()=>(g(h),Ne(o()),Y),()=>{g(h)&&o()!==void 0&&g(h).dispatch({effects:u.reconfigure(o()?Y.lineWrapping:[])})}),ze(()=>(g(h),Ne(a()),kf),()=>{g(h)&&a()!==void 0&&g(h).dispatch({effects:d.reconfigure(a()?kf:[])})}),On(),Lt();var m=FL(),b=w(m);Ho(b,v=>k(l,v),()=>g(l)),Ho(m,v=>k(c,v),()=>g(c)),ie(()=>uw(b,`width: ${g(O)??""}px; max-width: ${g(O)??""}px; overflow-x: auto; overflow-y: hidden;`)),R(r,m),_t()}var KL=z('<span class="inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-md"> <button class="hover:text-blue-600 dark:hover:text-blue-400" title="Remove tag"></button></span>'),JL=z("<button> </button>"),eq=z('<div class="absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-48 overflow-y-auto"></div>'),tq=z('<div class="relative svelte-ba3yhw"><div class="flex flex-wrap gap-2 p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 min-h-[2.5rem]"><!> <input type="text" class="flex-1 min-w-[120px] outline-none bg-transparent text-sm text-gray-900 dark:text-gray-100"/></div> <!></div>');function rq(r,e){$t(e,!1);let t=se(e,"tags",28,()=>[]),i=se(e,"onChange",8,()=>{}),n=se(e,"placeholder",8,"Add tags..."),s=N(""),o=N([]),a=N(!1),l=N(-1),c=se(e,"availableTags",24,()=>[]);function h(){if(g(s).trim()){const S=g(s).toLowerCase();k(o,c().filter(P=>!t().includes(P)&&P.toLowerCase().includes(S)).slice(0,5)),k(a,g(o).length>0),k(l,-1)}else k(a,!1),k(o,[])}function f(S){S.trim()&&!t().includes(S.trim())&&(t([...t(),S.trim()]),i()(t()),k(s,""),k(a,!1),k(o,[]))}function u(S){t(t().filter((P,$)=>$!==S)),i()(t())}function d(S){S.key==="Enter"?(S.preventDefault(),g(l)>=0&&g(o)[g(l)]?f(g(o)[g(l)]):g(s).trim()&&f(g(s))):S.key==="Backspace"&&!g(s)&&t().length>0?u(t().length-1):S.key==="ArrowDown"?(S.preventDefault(),g(a)&&k(l,Math.min(g(l)+1,g(o).length-1))):S.key==="ArrowUp"?(S.preventDefault(),g(a)&&k(l,Math.max(g(l)-1,-1))):S.key==="Escape"&&(k(a,!1),k(l,-1))}function O(){setTimeout(()=>{k(a,!1),k(l,-1)},200)}Lt();var p=tq(),m=w(p),b=w(m);Cr(b,1,t,_i,(S,P,$)=>{var M=KL(),q=w(M),U=T(q);ie(()=>I(q,`#${g(P)??""} `)),D("click",U,()=>u($)),R(S,M)});var v=T(b,2),x=T(m,2);{var Q=S=>{var P=eq();Cr(P,5,()=>g(o),_i,($,M,q)=>{var U=JL(),j=w(U);ie(()=>{qr(U,1,`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${q===g(l)?"bg-gray-100 dark:bg-gray-700":""}`),I(j,`#${g(M)??""}`)}),D("click",U,()=>f(g(M))),R($,U)}),R(S,P)};re(x,S=>{g(a)&&S(Q)})}ie(()=>lt(v,"placeholder",n())),ri(v,()=>g(s),S=>k(s,S)),D("input",v,h),D("keydown",v,d),D("blur",v,O),R(r,p),_t()}var iq=z('<img alt="Thumbnail" class="w-full h-full object-cover"/>'),nq=z('<span class="text-2xl"> </span>'),sq=z('<button class="px-2 py-1 text-xs bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800 transition-colors" title="Delete"></button>'),oq=z('<div class="flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"><div class="flex-shrink-0 w-12 h-12 flex items-center justify-center bg-white dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-600 overflow-hidden"><!></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"> </div> <div class="text-xs text-gray-500 dark:text-gray-400"> </div></div> <div class="flex gap-1"><button class="px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors" title="Download"> Download</button> <!></div></div>'),aq=z('<div class="space-y-2"></div>'),lq=z('<div class="text-sm text-gray-500 dark:text-gray-400 text-center py-2">No attachments</div>');function cq(r,e){$t(e,!1);let t=se(e,"attachments",24,()=>[]),i=se(e,"onDelete",8),n=se(e,"readonly",8,!1),s=N(new Map);async function o(){for(const b of t())if(Ui.supportsThumbnail(b.mimeType))try{const v=await Ui.getThumbnailData(b);g(s).set(b.id,v),k(s,g(s))}catch(v){console.error("Failed to load thumbnail:",v)}}async function a(b){try{await Ui.downloadAttachment(b)}catch(v){console.error("Failed to download attachment:",v),alert(`Failed to download attachment: ${v instanceof Error?v.message:String(v)}`)}}function l(b){n()||i()(b)}function c(b){return b.startsWith("image/")?"":b.startsWith("video/")?"":b.startsWith("audio/")?"":b.includes("pdf")?"":b.includes("zip")||b.includes("tar")||b.includes("gz")?"":b.includes("text/")?"":""}async function h(b){try{return await Ui.getDecryptedFilename(b)}catch{return"attachment"}}let f=N(new Map);async function u(){for(const b of t()){const v=await h(b);g(f).set(b.id,v),k(f,g(f))}}to(()=>{o(),u()}),ze(()=>Ne(t()),()=>{t()&&(o(),u())}),On(),Lt();var d=nr(),O=Ke(d);{var p=b=>{var v=aq();Cr(v,5,t,x=>x.id,(x,Q)=>{var S=oq(),P=w(S),$=w(P);{var M=ae=>{var Oe=iq();ie(ne=>lt(Oe,"src",ne),[()=>(g(s),g(Q),C(()=>g(s).get(g(Q).id)))]),R(ae,Oe)},q=ae=>{var Oe=nq(),ne=w(Oe);ie(le=>I(ne,le),[()=>(g(Q),C(()=>c(g(Q).mimeType)))]),R(ae,Oe)};re($,ae=>{g(s),g(Q),C(()=>g(s).get(g(Q).id))?ae(M):ae(q,!1)})}var U=T(P,2),j=w(U),Z=w(j),K=T(j,2),X=w(K),J=T(U,2),pe=w(J),$e=T(pe,2);{var Ae=ae=>{var Oe=sq();D("click",Oe,()=>l(g(Q))),R(ae,Oe)};re($e,ae=>{n()||ae(Ae)})}ie((ae,Oe)=>{I(Z,ae),I(X,Oe)},[()=>(g(f),g(Q),C(()=>g(f).get(g(Q).id)||"Loading...")),()=>(Ne(Ui),g(Q),C(()=>Ui.formatFileSize(g(Q).size)))]),D("click",pe,()=>a(g(Q))),R(x,S)}),R(b,v)},m=b=>{var v=lq();R(b,v)};re(O,b=>{Ne(t()),C(()=>t().length>0)?b(p):b(m,!1)})}R(r,d),_t()}var hq=z('<span class="font-medium text-blue-600 dark:text-blue-400">Drop files here</span>'),fq=z('<span class="font-medium">Click to upload</span> or drag and drop',1),uq=z('<div role="button" tabindex="0"><input type="file" multiple class="hidden"/> <div class="text-gray-600 dark:text-gray-400"><div class="text-2xl mb-2"></div> <div class="text-sm"><!></div> <div class="text-xs text-gray-500 dark:text-gray-500 mt-1">Max file size: 10MB</div></div></div>');function dq(r,e){$t(e,!1);let t=se(e,"onUpload",8),i=se(e,"disabled",8,!1),n=N(!1),s=N();function o(x){i()||(x.preventDefault(),x.stopPropagation(),k(n,!0))}function a(x){if(i())return;x.preventDefault(),x.stopPropagation();const Q=x.currentTarget.getBoundingClientRect(),S=x.clientX,P=x.clientY;(S<Q.left||S>=Q.right||P<Q.top||P>=Q.bottom)&&k(n,!1)}function l(x){i()||(x.preventDefault(),x.stopPropagation())}function c(x){if(i())return;x.preventDefault(),x.stopPropagation(),k(n,!1);const Q=x.dataTransfer?.files;Q&&Q.length>0&&t()(Q)}function h(x){if(i())return;const Q=x.target,S=Q.files;S&&S.length>0&&(t()(S),Q.value="")}function f(){i()||g(s)?.click()}Lt();var u=uq(),d=w(u);Ho(d,x=>k(s,x),()=>g(s));var O=T(d,2),p=T(w(O),2),m=w(p);{var b=x=>{var Q=hq();R(x,Q)},v=x=>{var Q=fq();R(x,Q)};re(m,x=>{g(n)?x(b):x(v,!1)})}ie(()=>{qr(u,1,`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${g(n)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800"} ${i()?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`),d.disabled=i()}),D("change",d,h),D("dragenter",u,o),D("dragleave",u,a),D("dragover",u,l),D("drop",u,c),D("click",u,f),D("keydown",u,x=>x.key==="Enter"&&f()),R(r,u),_t()}var Oq=z('<button class="tablet:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors flex-shrink-0" title="Back to notes" aria-label="Back to notes"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>'),pq=z('<div class="text-sm text-blue-600 dark:text-blue-400">Uploading...</div>'),gq=z('<div class="px-3 pb-3 max-h-64 overflow-y-auto space-y-3"><!> <!> <!></div>'),mq=z('<div class="px-3 pb-2 text-xs text-gray-500 dark:text-gray-400"> </div>'),yq=z('<div class="border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"><button class="w-full px-3 py-2 flex items-center justify-between text-sm font-medium text-gray-700 dark:text-gray-300 active:bg-gray-100 dark:active:bg-gray-700 transition-colors"><span> </span> <span></span></button> <!></div>'),bq=z('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="border-b border-gray-200 dark:border-gray-700 p-2 flex flex-wrap items-center justify-between gap-2"><!> <div class="flex gap-3"><button class="px-4 py-2.5 min-h-11 rounded active:bg-gray-100 dark:active:bg-gray-800 text-sm whitespace-nowrap"> </button> <button class="px-4 py-2.5 min-h-11 rounded active:bg-gray-100 dark:active:bg-gray-800 text-sm text-red-600 whitespace-nowrap" title="Delete"> Delete</button> <button class="px-4 py-2.5 min-h-11 rounded active:bg-gray-100 dark:active:bg-gray-800 text-sm whitespace-nowrap" title="Copy note content"> Copy</button></div> <div class="flex gap-2 items-center flex-1 justify-end"><select class="px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" title="Syntax highlighting"><option>Plain Text</option><option>Markdown</option><option>JavaScript</option><option>Python</option><option>JSON</option><option>HTML</option><option>CSS</option><option>SQL</option><option>Bash</option></select> <button title="Toggle word wrap"> </button> <button class="px-4 py-2.5 min-h-11 rounded active:bg-gray-100 dark:active:bg-gray-800 text-sm whitespace-nowrap"> Close</button></div></div> <div class="border-b border-gray-200 dark:border-gray-700 p-2"><!></div> <div class="flex-1 overflow-hidden bg-white dark:bg-gray-900"><!></div> <!> <div class="border-t border-gray-200 dark:border-gray-700 p-2 text-xs text-gray-500 dark:text-gray-400"><div class="flex justify-between"><span> </span> <span> </span></div></div></div>'),vq=z('<div class="h-full flex items-center justify-center text-gray-500 dark:text-gray-400"><div class="text-center"><p class="text-lg mb-2">No note selected</p> <p class="text-sm">Select a note from the list or create a new one</p></div></div>');function f0(r,e){$t(e,!1);const t=()=>He(er,"$notes",s),i=()=>He(Gn,"$settings",s),n=()=>He(ny,"$selectedNote",s),[s,o]=qi(),a=N();let l=se(e,"onBackToList",8,void 0),c=N(""),h=N([]),f=N([]),u=N(!1);function d(){Xf(),l()&&l()()}let O=null,p=N("plain"),m=N(!0),b=N([]),v=N(!1),x=N(null),Q=N(!1),S=N(!1),P=0;async function $(){try{(await et.getMetadata())?.syncEnabled&&(console.log("[EditorPane] Sync enabled, syncing in background..."),wi.syncNow().then(ee=>{ee.success?console.log("[EditorPane] Background sync completed successfully"):console.warn("[EditorPane] Background sync failed:",ee.error)}))}catch(V){console.error("[EditorPane] Failed to check sync status:",V)}}async function M(){if(n())try{await ht.updateNote(n().id,{content:g(c),tags:g(h),attachments:g(f),syntaxLanguage:g(p),wordWrap:g(m)});const V=await ht.getAllNotes(i().sortOrder);er.set(V),oi.indexNotes(V),console.log("[EditorPane] Note saved, triggering background sync..."),$()}catch(V){console.error("Failed to save note:",V)}}function q(){O&&clearTimeout(O),O=window.setTimeout(M,1e3)}async function U(){if(n())try{await ht.togglePin(n().id);const V=await ht.getAllNotes(i().sortOrder);er.set(V),oi.indexNotes(V)}catch(V){console.error("Failed to toggle pin:",V)}}async function j(){if(console.log("[EditorPane] handleDelete called"),!n()){console.log("[EditorPane] No selected note, returning");return}console.log("[EditorPane] Selected note ID:",n().id);try{console.log("[EditorPane] Calling noteService.deleteNote..."),await ht.deleteNote(n().id),console.log("[EditorPane] Delete successful, clearing selection..."),d(),console.log("[EditorPane] Reloading notes...");const V=await ht.getAllNotes(i().sortOrder);console.log("[EditorPane] Loaded notes count:",V.length),er.set(V),oi.indexNotes(V),console.log("[EditorPane] Delete operation complete")}catch(V){console.error("[EditorPane] Failed to delete note:",V)}}function Z(V){const ee=V.target;k(p,ee.value),q()}function K(){k(m,!g(m)),q()}async function X(V){if(!(!V||V.length===0)){k(v,!0);try{const ee=[];for(let _=0;_<V.length;_++){const E=V[_],te=Ui.validateFile(E);if(!te.valid){alert(`${E.name}: ${te.error}`);continue}try{const F=await Ui.addAttachment(E);ee.push(F)}catch(F){console.error(`Failed to upload ${E.name}:`,F),alert(`Failed to upload ${E.name}: ${F instanceof Error?F.message:String(F)}`)}}ee.length>0&&(k(f,[...g(f),...ee]),q())}finally{k(v,!1)}}}async function J(V){try{k(f,g(f).filter(ee=>ee.id!==V.id)),q()}catch(ee){console.error("Failed to delete attachment:",ee),alert(`Failed to delete attachment: ${ee instanceof Error?ee.message:String(ee)}`)}}async function pe(){if(g(c))try{await navigator.clipboard.writeText(g(c)),console.log("Note content copied to clipboard")}catch(V){console.error("Failed to copy note:",V);try{const ee=document.createElement("textarea");ee.value=g(c),ee.style.position="fixed",ee.style.left="-999999px",document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee),console.log("Note content copied to clipboard (fallback)")}catch(ee){console.error("Failed to copy note (fallback):",ee)}}}function $e(V){V.preventDefault(),V.stopPropagation(),P++,V.dataTransfer?.types.includes("Files")&&k(Q,!0)}function Ae(V){V.preventDefault(),V.stopPropagation(),P--,P===0&&k(Q,!1)}function ae(V){V.preventDefault(),V.stopPropagation()}function Oe(V){V.preventDefault(),V.stopPropagation(),P=0,k(Q,!1);const ee=V.dataTransfer?.files;ee&&ee.length>0&&X(ee)}function ne(){k(S,!g(S))}ze(()=>t(),()=>{k(b,Uk.getAllTags(t()))}),ze(()=>i(),()=>{k(a,i().theme==="dark"||i().theme==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches)}),ze(()=>(n(),g(x)),()=>{n()?(g(x)&&g(x)!==n().id&&(console.log("[EditorPane] Switching notes, triggering background sync..."),$()),k(x,n().id),k(c,n().content),k(h,[...n().tags]),k(f,[...n().attachments]),k(p,n().syntaxLanguage||"plain"),k(m,n().wordWrap??!0),k(u,!0)):(g(x)&&(console.log("[EditorPane] Closing editor, triggering background sync..."),$()),k(x,null),k(c,""),k(h,[]),k(f,[]),k(p,"plain"),k(m,!0),k(u,!1))}),On(),Lt();var le=nr(),De=Ke(le);{var Ue=V=>{var ee=bq(),_=w(ee),E=w(_);{var te=at=>{var pi=Oq();D("click",pi,function(...Wr){l()?.apply(this,Wr)}),R(at,pi)};re(E,at=>{l()&&at(te)})}var F=T(E,2),fe=w(F),ge=w(fe),ue=T(fe,2),Me=T(ue,2),Qe=T(F,2),ot=w(Qe),Dt=w(ot);Dt.value=Dt.__value="plain";var Ct=T(Dt);Ct.value=Ct.__value="markdown";var gt=T(Ct);gt.value=gt.__value="javascript";var mr=T(gt);mr.value=mr.__value="python";var mt=T(mr);mt.value=mt.__value="json";var zt=T(mt);zt.value=zt.__value="html";var Bt=T(zt);Bt.value=Bt.__value="css";var yr=T(Bt);yr.value=yr.__value="sql";var sr=T(yr);sr.value=sr.__value="bash";var Gt;J0(ot);var yt=T(ot,2),br=w(yt),Bi=T(yt,2),vn=T(_,2),co=w(vn);rq(co,{onChange:at=>{k(h,at),q()},get availableTags(){return g(b)},placeholder:"Add tags...",get tags(){return g(h)},set tags(at){k(h,at)},$$legacy:!0});var ls=T(vn,2),qa=w(ls);HL(qa,{get value(){return g(c)},onChange:at=>{k(c,at),q()},get language(){return g(p)},get wordWrap(){return g(m)},get isDark(){return g(a)}});var ho=T(ls,2);{var Da=at=>{var pi=yq(),Wr=w(pi),Ia=w(Wr),uo=w(Ia),fh=T(Ia,2),Na=T(Wr,2);{var uh=Ii=>{var Sn=gq(),cs=w(Sn);dq(cs,{onUpload:X,get disabled(){return g(v)}});var hs=T(cs,2);{var Ni=Zr=>{cq(Zr,{get attachments(){return g(f)},onDelete:J,readonly:!1})};re(hs,Zr=>{g(f),C(()=>g(f).length>0)&&Zr(Ni)})}var fs=T(hs,2);{var Oo=Zr=>{var dh=pq();R(Zr,dh)};re(fs,Zr=>{g(v)&&Zr(Oo)})}R(Ii,Sn)},Va=Ii=>{var Sn=nr(),cs=Ke(Sn);{var hs=Ni=>{var fs=mq(),Oo=w(fs);ie(()=>I(Oo,`Click to ${g(S)?"hide":"view"} attachments`)),R(Ni,fs)};re(cs,Ni=>{g(f),C(()=>g(f).length>0)&&Ni(hs)},!0)}R(Ii,Sn)};re(Na,Ii=>{g(S)||g(Q)?Ii(uh):Ii(Va,!1)})}ie(()=>{I(uo,` Attachments (${g(f),C(()=>g(f).length)??""})`),qr(fh,1,`text-xs transform transition-transform ${g(S)?"rotate-180":""}`)}),D("click",Wr,ne),R(at,pi)};re(ho,at=>{g(f),g(Q),C(()=>g(f).length>0||g(Q))&&at(Da)})}var lh=T(ho,2),ch=w(lh),fo=w(ch),za=w(fo),hh=T(fo,2),Ba=w(hh);ie((at,pi)=>{lt(fe,"title",(n(),C(()=>n().pinned?"Unpin":"Pin"))),I(ge,(n(),C(()=>n().pinned?" Pinned":" Pin"))),Gt!==(Gt=g(p))&&(ot.value=(ot.__value=g(p))??"",bd(ot,g(p))),qr(yt,1,`px-3 py-1.5 rounded text-sm whitespace-nowrap flex-shrink-0 ${g(m)?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"active:bg-gray-100 dark:active:bg-gray-800"}`),I(br,g(m)?"Wrap":"No Wrap"),I(za,`Created: ${at??""}`),I(Ba,`Modified: ${pi??""}`)},[()=>(Ne(rl),n(),C(()=>rl(n().createdAt))),()=>(Ne(rl),n(),C(()=>rl(n().modifiedAt)))]),D("click",fe,U),D("click",ue,j),D("click",Me,pe),D("change",ot,Z),D("click",yt,K),D("click",Bi,d),D("dragenter",ee,$e),D("dragleave",ee,Ae),D("dragover",ee,ae),D("drop",ee,Oe),R(V,ee)},Ye=V=>{var ee=vq();R(V,ee)};re(De,V=>{g(u)&&n()?V(Ue):V(Ye,!1)})}R(r,le),_t(),o()}var Sq=z("<option> </option>"),xq=z(`<div class="border border-blue-200 dark:border-blue-800 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20"><h4 class="font-medium text-sm text-gray-900 dark:text-white mb-2">Import Credentials</h4> <p class="text-xs text-gray-600 dark:text-gray-400 mb-3">Paste the credentials from your first device. The app will lock and you'll need to unlock with your password.</p> <div class="mb-3 bg-orange-100 dark:bg-orange-900/30 border border-orange-300 dark:border-orange-700 rounded p-2"><p class="text-xs text-orange-800 dark:text-orange-200 font-medium"> IMPORTANT: You must use the SAME password on all devices!</p> <p class="text-xs text-orange-700 dark:text-orange-300 mt-1">If you use a different password, notes will not decrypt.</p></div> <textarea placeholder="Paste base64 credentials here..." rows="4" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-xs"></textarea> <button class="w-full mt-3 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white text-sm font-medium rounded-md transition-colors"> </button></div>`),Qq=z('<div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Sync Server Endpoint</label> <input type="url" placeholder="http://localhost:3030" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"/> <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">URL of your self-hosted Jottery sync server</p></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Device Name</label> <input type="text" placeholder="My Laptop" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"/> <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">A name to identify this device</p></div> <div class="flex gap-3"><button class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm font-medium rounded-md transition-colors"> </button> <button class="flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors"> Use Existing Credentials</button></div> <div class="text-xs text-gray-500 dark:text-gray-400"><p> <strong>Register</strong> if this is your first device</p> <p> <strong>Use Existing</strong> if you already set up sync on another device</p></div> <!>',1),wq=z('<span class="text-xs text-green-600 dark:text-green-400">Syncing...</span>'),kq=z('<span class="text-xs text-green-600 dark:text-green-400"> </span>'),Pq=z('<p class="text-xs text-gray-600 dark:text-gray-400"> </p>'),Tq=z('<div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 space-y-3"><div class="flex items-center justify-between"><span class="text-sm font-medium text-green-800 dark:text-green-200"> Sync Enabled</span> <!></div> <button class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm font-medium rounded-md transition-colors"> </button> <!> <div class="border-t border-green-200 dark:border-green-700 pt-3"><button class="w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-md transition-colors"> Show Credentials for Other Devices</button> <p class="mt-2 text-xs text-gray-600 dark:text-gray-400">Click to display credentials as text. Use "Use Existing Credentials" on other devices to import.</p> <p class="mt-1 text-xs text-orange-600 dark:text-orange-400 font-medium"> All devices must use the SAME password to decrypt notes!</p></div></div>'),$q=z('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"><p class="text-sm text-red-700 dark:text-red-300"> </p></div>'),_q=z('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> Sync Credentials</h3> <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6 overflow-y-auto max-h-[calc(80vh-140px)]"><p class="text-sm text-gray-700 dark:text-gray-300 mb-4">Copy the text below and paste it into another Jottery client using "Use Existing Credentials":</p> <div class="bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded p-4"><pre class="text-xs font-mono text-gray-900 dark:text-gray-100 break-all whitespace-pre-wrap"> </pre></div> <div class="mt-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded p-3"><p class="text-sm text-orange-800 dark:text-orange-200"> <strong>Important:</strong> All devices must use the SAME password to decrypt notes!</p></div> <p class="mt-3 text-xs text-gray-600 dark:text-gray-400">The clipboard copy may have failed (especially over SSH or in some browsers). You can manually select and copy the text above.</p></div> <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end"><button class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-md transition-colors">Close</button></div></div></div>'),Cq=z('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-0 tablet:p-4" role="dialog" aria-modal="true"><div class="bg-white dark:bg-gray-800 w-full h-full tablet:h-auto tablet:max-w-2xl tablet:rounded-lg shadow-xl tablet:max-h-[90vh] flex flex-col"><div class="border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between flex-shrink-0"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Settings</h2> <button class="min-h-11 min-w-11 p-3 -m-2 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors text-gray-500 dark:text-gray-400" aria-label="Close settings"></button></div> <div class="flex-1 overflow-y-auto"><div class="p-6 space-y-6"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> </label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"></select></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> </label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"><option> </option><option> </option><option> </option></select></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Layout Mode</label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Auto (Responsive)</option><option>Force Mobile Layout</option><option>Force Desktop Layout</option></select> <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">Override the automatic layout detection for this device</p></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> </label> <input type="number" min="1" max="1440" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> </label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"><option> </option><option> </option><option> </option></select></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Sync</h3> <div class="space-y-4"><!> <!></div></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Import/Export</h3> <div class="space-y-3"><div class="flex gap-2"><button class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition-colors"> </button> <button class="flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md transition-colors"> </button></div> <p class="text-sm text-gray-500 dark:text-gray-400">Export notes as decrypted JSON. Import will merge notes with existing data.</p></div></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Help & Resources</h3> <button class="w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white text-sm font-medium rounded-md transition-colors flex items-center justify-center gap-2"> </button> <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">View all available keyboard shortcuts</p></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><h3 class="text-lg font-medium text-red-600 dark:text-red-400 mb-4">Danger Zone</h3> <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"><h4 class="text-sm font-medium text-red-800 dark:text-red-200 mb-2">Delete All Data</h4> <p class="text-sm text-red-700 dark:text-red-300 mb-3">This will permanently delete ALL notes, settings, and encryption keys. This action cannot be undone.</p> <button class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors"> </button></div></div></div></div> <div class="border-t border-gray-200 dark:border-gray-700 p-4 flex justify-end gap-3 flex-shrink-0"><button class="px-4 py-2.5 min-h-11 text-gray-700 dark:text-gray-300 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors"> </button> <button class="px-4 py-2.5 min-h-11 bg-blue-600 active:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-md transition-colors"> </button></div></div> <input type="file" accept=".json" class="hidden"/></div> <!> <!>',1);function Aq(r,e){$t(e,!1);const t=()=>He(Gn,"$settings",n),i=()=>He($a,"$_",n),[n,s]=qi();let o=se(e,"show",8,!1),a=se(e,"onClose",8,()=>{}),l=se(e,"onOpenShortcutsHelp",8,()=>{}),c=N(t().theme),h=N(t().layoutMode||"auto"),f=N(t().autoLockTimeout),u=N(t().sortOrder),d=N(t().language),O=N(!1),p=N(),m=N(!1),b=N(t().syncEndpoint||""),v=N(null),x=N(!1),Q=N(""),S=N(!1),P=N("My Device"),$=N(!1),M=N(""),q=N(!1),U=N(!1),j=N("");function Z(_){typeof window>"u"||(_==="dark"?document.documentElement.classList.add("dark"):_==="light"?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}async function K(){try{k(v,await wi.getSyncStatus())}catch(_){console.error("Failed to load sync status:",_)}}async function X(){if(!g(b)){k(Q,"Please enter a sync endpoint URL");return}if(!g(P).trim()){k(Q,"Please provide a device name");return}k(S,!0),k(Q,"");try{const _=await wi.register(g(b),g(P).trim());console.log("[SettingsModal] Registration successful"),await K(),k(b,t().syncEndpoint||""),k(Q,"")}catch(_){console.error("Registration failed:",_),k(Q,_ instanceof Error?_.message:"Registration failed")}finally{k(S,!1)}}async function J(){try{const _=it.getMasterKey();if(!_)throw new Error("Application is locked");const E=await et.getMetadata();if(!E||!E.apiKey||!E.clientId)throw new Error("Sync not configured");const te=await Ko.getMetadata();if(!te)throw new Error("Encryption not initialized");const F=JSON.parse(E.apiKey),fe=await Le.decryptText(F,_.key),ge={endpoint:E.syncEndpoint,clientId:E.clientId,apiKey:fe,salt:te.salt},ue=JSON.stringify(ge),Me=btoa(ue);try{await navigator.clipboard.writeText(Me),console.log("[SettingsModal] Credentials copied to clipboard")}catch(Qe){console.warn("[SettingsModal] Clipboard copy failed (this is OK):",Qe)}k(j,Me),k(U,!0),console.log("[SettingsModal] Showing credentials modal")}catch(_){console.error("Failed to generate credentials:",_),k(Q,_ instanceof Error?_.message:"Failed to generate credentials")}}async function pe(){if(console.log("[Import] Starting credential import..."),!g(M).trim()){console.error("[Import] No credentials text provided"),k(Q,"Please paste the credentials");return}k(q,!0),k(Q,"");try{console.log("[Import] Step 1: Decoding base64...");const _=atob(g(M).trim());console.log("[Import] Base64 decoded, parsing JSON...");const E=JSON.parse(_);if(console.log("[Import] Credentials parsed:",{hasEndpoint:!!E.endpoint,hasClientId:!!E.clientId,hasApiKey:!!E.apiKey,hasSalt:!!E.salt,endpoint:E.endpoint,clientId:E.clientId}),!E.endpoint||!E.clientId||!E.apiKey||!E.salt)throw console.error("[Import] Invalid credentials structure"),new Error("Invalid credentials format - missing required fields");console.log("[Import] Step 2: Storing encryption salt..."),await Ko.setMetadata({salt:E.salt,iterations:1e5,createdAt:new Date().toISOString(),algorithm:"AES-256-GCM"}),console.log("[Import]  Encryption salt stored"),console.log("[Import] Step 3: Storing sync metadata..."),await et.updateMetadata({clientId:E.clientId,syncEndpoint:E.endpoint,syncEnabled:!1,apiKey:`IMPORT:${E.apiKey}`}),console.log("[Import]  Sync metadata stored"),console.log("[Import] Step 4: Updating settings..."),await Ei.update({syncEndpoint:E.endpoint,syncEnabled:!1}),console.log("[Import]  Settings updated"),console.log("[Import] Step 5: Locking app and forcing UI update..."),a()(),Wc(),an.set(!0),console.log("[Import]  Import complete! App locked. Please unlock with your password."),k(M,""),k($,!1)}catch(_){console.error("[Import] ERROR:",_),k(Q,_ instanceof Error?_.message:"Failed to import credentials")}finally{k(q,!1)}}async function $e(){k(x,!0),k(Q,"");try{const _=await wi.syncNow();_.success?await K():k(Q,_.error||"Sync failed")}catch(_){console.error("Sync failed:",_),k(Q,_ instanceof Error?_.message:"Sync failed")}finally{k(x,!1)}}async function Ae(){k(O,!0);try{await Ei.update({theme:g(c),layoutMode:g(h),autoLockTimeout:g(f),sortOrder:g(u),language:g(d)}),Gn.update(_=>({..._,theme:g(c),layoutMode:g(h),autoLockTimeout:g(f),sortOrder:g(u),language:g(d)})),a()()}catch(_){console.error("Failed to save settings:",_),alert("Failed to save settings: "+(_ instanceof Error?_.message:String(_)))}finally{k(O,!1)}}function ae(){k(m,!0)}async function Oe(){k(m,!1);try{await ly(),an.set(!0),window.location.reload()}catch(_){console.error("Failed to delete database:",_),alert("Failed to delete database: "+(_ instanceof Error?_.message:String(_)))}}function ne(_){_.target===_.currentTarget&&a()()}async function le(){try{const _=await Xk();await Lk(_)}catch(_){console.error("Failed to export notes:",_),alert("Failed to export notes: "+(_ instanceof Error?_.message:String(_)))}}async function De(){g(p).click()}async function Ue(_){const E=_.target,te=E.files?.[0];if(te)try{const F=await qk(te),fe=await Zk(F,"merge");alert(`Import complete!
Imported: ${fe.imported}
Skipped: ${fe.skipped}
${fe.errors.length>0?"Errors: "+fe.errors.join(`
`):""}`);const ge=await ht.getAllNotes(t().sortOrder);er.set(ge),oi.indexNotes(ge)}catch(F){console.error("Failed to import notes:",F),alert("Failed to import notes: "+(F instanceof Error?F.message:String(F)))}finally{E.value=""}}ze(()=>g(c),()=>{Z(g(c))}),ze(()=>Ne(o()),()=>{o()&&K()}),On(),Lt();var Ye=nr(),V=Ke(Ye);{var ee=_=>{var E=Cq(),te=Ke(E),F=w(te),fe=w(F),ge=T(w(fe),2),ue=T(fe,2),Me=w(ue),Qe=w(Me),ot=w(Qe),Dt=w(ot),Ct=T(ot,2);ie(()=>{g(d),ja(()=>{})}),Cr(Ct,5,()=>Jf,_i,(de,bt)=>{let It=()=>g(bt).code,vr=()=>g(bt).name;var or=Sq(),jr=w(or),Ft={};ie(()=>{I(jr,vr()),Ft!==(Ft=It())&&(or.value=(or.__value=It())??"")}),R(de,or)});var gt=T(Qe,2),mr=w(gt),mt=w(mr),zt=T(mr,2);ie(()=>{g(c),ja(()=>{i()})});var Bt=w(zt),yr=w(Bt);Bt.value=Bt.__value="auto";var sr=T(Bt),Gt=w(sr);sr.value=sr.__value="light";var yt=T(sr),br=w(yt);yt.value=yt.__value="dark";var Bi=T(gt,2),vn=T(w(Bi),2);ie(()=>{g(h),ja(()=>{})});var co=w(vn);co.value=co.__value="auto";var ls=T(co);ls.value=ls.__value="mobile";var qa=T(ls);qa.value=qa.__value="desktop";var ho=T(Bi,2),Da=w(ho),lh=w(Da),ch=T(Da,2),fo=T(ho,2),za=w(fo),hh=w(za),Ba=T(za,2);ie(()=>{g(u),ja(()=>{i()})});var at=w(Ba),pi=w(at);at.value=at.__value="recent";var Wr=T(at),Ia=w(Wr);Wr.value=Wr.__value="oldest";var uo=T(Wr),fh=w(uo);uo.value=uo.__value="alpha";var Na=T(fo,2),uh=T(w(Na),2),Va=w(uh);{var Ii=de=>{var bt=Qq(),It=Ke(bt),vr=T(w(It),2),or=T(It,2),jr=T(w(or),2),Ft=T(or,2),Ur=w(Ft),Vi=w(Ur),xn=T(Ur,2),Qn=T(Ft,4);{var wn=Fe=>{var Sr=xq(),Wi=T(w(Sr),6),kn=T(Wi,2),po=w(kn);ie(us=>{kn.disabled=us,I(po,g(q)?"Importing...":" Import and Lock")},[()=>(g(M),g(q),C(()=>!g(M).trim()||g(q)))]),ri(Wi,()=>g(M),us=>k(M,us)),D("click",kn,pe),R(Fe,Sr)};re(Qn,Fe=>{g($)&&Fe(wn)})}ie(Fe=>{Ur.disabled=Fe,I(Vi,g(S)?"Registering...":" Register New Device")},[()=>(g(b),g(P),g(S),C(()=>!g(b)||!g(P).trim()||g(S)))]),ri(vr,()=>g(b),Fe=>k(b,Fe)),ri(jr,()=>g(P),Fe=>k(P,Fe)),D("click",Ur,X),D("click",xn,()=>k($,!g($))),R(de,bt)},Sn=de=>{var bt=Tq(),It=w(bt),vr=T(w(It),2);{var or=Fe=>{var Sr=wq();R(Fe,Sr)},jr=Fe=>{var Sr=nr(),Wi=Ke(Sr);{var kn=po=>{var us=kq(),V1=w(us);ie(W1=>I(V1,`Last sync: ${W1??""}`),[()=>(g(v),C(()=>new Date(g(v).lastSyncAt).toLocaleString()))]),R(po,us)};re(Wi,po=>{g(v),C(()=>g(v)?.lastSyncAt)&&po(kn)},!0)}R(Fe,Sr)};re(vr,Fe=>{g(v),C(()=>g(v)?.isSyncing)?Fe(or):Fe(jr,!1)})}var Ft=T(It,2),Ur=w(Ft),Vi=T(Ft,2);{var xn=Fe=>{var Sr=Pq(),Wi=w(Sr);ie(()=>I(Wi,`${g(v),C(()=>g(v).pendingNotes)??""} note${g(v),C(()=>g(v).pendingNotes!==1?"s":"")??""} pending sync`)),R(Fe,Sr)};re(Vi,Fe=>{g(v),C(()=>g(v)?.pendingNotes>0)&&Fe(xn)})}var Qn=T(Vi,2),wn=w(Qn);ie(()=>{Ft.disabled=(g(x),g(v),C(()=>g(x)||g(v)?.isSyncing)),I(Ur,(g(x),g(v),C(()=>g(x)||g(v)?.isSyncing?"Syncing...":" Sync Now")))}),D("click",Ft,$e),D("click",wn,J),R(de,bt)};re(Va,de=>{g(v),C(()=>!g(v)?.isEnabled)?de(Ii):de(Sn,!1)})}var cs=T(Va,2);{var hs=de=>{var bt=$q(),It=w(bt),vr=w(It);ie(()=>I(vr,g(Q))),R(de,bt)};re(cs,de=>{g(Q)&&de(hs)})}var Ni=T(Na,2),fs=T(w(Ni),2),Oo=w(fs),Zr=w(Oo),dh=w(Zr),kO=T(Zr,2),X1=w(kO),PO=T(Ni,2),TO=T(w(PO),2),M1=w(TO),Z1=T(PO,2),L1=T(w(Z1),2),$O=T(w(L1),4),q1=w($O),D1=T(ue,2),Oh=w(D1),z1=w(Oh),ph=T(Oh,2),B1=w(ph),_O=T(F,2);Ho(_O,de=>k(p,de),()=>g(p));var CO=T(te,2);Bs(CO,{get show(){return g(m)},title:"Delete All Data",message:`This will permanently delete ALL notes, settings, and encryption keys. This action cannot be undone.

Type DELETE to confirm:`,confirmText:"Delete Everything",cancelText:"Cancel",confirmClass:"bg-red-600 hover:bg-red-700",requireTextMatch:"DELETE",onConfirm:Oe,onCancel:()=>k(m,!1)});var I1=T(CO,2);{var N1=de=>{var bt=_q(),It=w(bt),vr=w(It),or=T(w(vr),2),jr=T(vr,2),Ft=T(w(jr),2),Ur=w(Ft),Vi=w(Ur),xn=T(jr,2),Qn=w(xn);ie(()=>I(Vi,g(j))),D("click",or,()=>k(U,!1)),D("click",Qn,()=>k(U,!1)),D("click",It,ey(function(wn){ty.call(this,e,wn)})),D("click",bt,()=>k(U,!1)),R(de,bt)};re(I1,de=>{g(U)&&de(N1)})}ie((de,bt,It,vr,or,jr,Ft,Ur,Vi,xn,Qn,wn,Fe,Sr,Wi,kn)=>{I(Dt,de),I(mt,bt),I(yr,It),I(Gt,vr),I(br,or),I(lh,jr),I(hh,Ft),I(pi,Ur),I(Ia,Vi),I(fh,xn),I(dh,` ${Qn??""}`),I(X1,` ${wn??""}`),I(M1,` ${Fe??""}`),I(q1,Sr),I(z1,Wi),ph.disabled=g(O),I(B1,kn)},[()=>(i(),C(()=>i()("settings.language"))),()=>(i(),C(()=>i()("settings.theme"))),()=>(i(),C(()=>i()("settings.themeAuto"))),()=>(i(),C(()=>i()("settings.themeLight"))),()=>(i(),C(()=>i()("settings.themeDark"))),()=>(i(),C(()=>i()("settings.autoLockTimeout"))),()=>(i(),C(()=>i()("settings.sortOrder"))),()=>(i(),C(()=>i()("settings.sortRecent"))),()=>(i(),C(()=>i()("settings.sortOldest"))),()=>(i(),C(()=>i()("settings.sortAlpha"))),()=>(i(),C(()=>i()("settings.exportNotes"))),()=>(i(),C(()=>i()("settings.importNotes"))),()=>(i(),C(()=>i()("settings.keyboardShortcuts"))),()=>(i(),C(()=>i()("settings.deleteDatabase"))),()=>(i(),C(()=>i()("common.cancel"))),()=>(g(O),i(),C(()=>g(O)?i()("settings.saving"):i()("settings.saveSettings")))]),D("click",ge,function(...de){a()?.apply(this,de)}),Ua(Ct,()=>g(d),de=>k(d,de)),Ua(zt,()=>g(c),de=>k(c,de)),Ua(vn,()=>g(h),de=>k(h,de)),ri(ch,()=>g(f),de=>k(f,de)),Ua(Ba,()=>g(u),de=>k(u,de)),D("click",Zr,le),D("click",kO,De),D("click",TO,function(...de){l()?.apply(this,de)}),D("click",$O,ae),D("click",Oh,function(...de){a()?.apply(this,de)}),D("click",ph,Ae),D("change",_O,Ue),D("click",te,ne),D("keydown",te,de=>de.key==="Escape"&&a()()),R(_,E)};re(V,_=>{o()&&_(ee)})}R(r,Ye),_t(),s()}function Eq(r,e){$t(e,!1);const t=()=>He(ka,"$selectedNoteId",a),i=()=>He(En,"$filteredNotes",a),n=()=>He(Gn,"$settings",a),s=()=>He(ny,"$selectedNote",a),o=()=>He($a,"$_",a),[a,l]=qi();let c=se(e,"onNewNote",8),h=se(e,"onOpenSettings",8),f=se(e,"onFocusSearch",8),u=se(e,"onOpenShortcutsHelp",8),d=N(!1);function O(S){const P=S.target,$=P.tagName==="INPUT"||P.tagName==="TEXTAREA"||P.isContentEditable,q=navigator.platform.toUpperCase().indexOf("MAC")>=0?S.metaKey:S.ctrlKey;if(q&&S.key==="k"){S.preventDefault(),f()();return}if(q&&S.key==="n"){S.preventDefault(),c()();return}if(q&&S.key==="l"){S.preventDefault(),k(d,!0);return}if(q&&S.key===","){S.preventDefault(),h()();return}if(q&&S.key==="/"){S.preventDefault(),u()();return}if(q&&S.shiftKey&&(S.key==="C"||S.key==="c")){S.preventDefault(),v();return}if(S.key==="Escape"&&t()){S.preventDefault(),Xf();return}if(!$){if(S.key==="ArrowDown"||S.key==="j"){S.preventDefault(),p(1);return}if(S.key==="ArrowUp"||S.key==="k"){S.preventDefault(),p(-1);return}if(S.key==="Enter"&&!t()){S.preventDefault();const U=i()[0];U&&Jl(U.id);return}if(S.key==="Delete"&&t()){S.preventDefault(),m();return}if(S.key==="p"&&t()){S.preventDefault(),b();return}}}function p(S){if(i().length===0)return;const P=i().findIndex(M=>M.id===t());let $;P===-1?$=S>0?0:i().length-1:($=P+S,$<0&&($=0),$>=i().length&&($=i().length-1)),Jl(i()[$].id)}async function m(){if(t())try{await ht.deleteNote(t()),Xf();const S=await ht.getAllNotes(n().sortOrder);er.set(S),oi.indexNotes(S)}catch(S){console.error("Failed to delete note:",S)}}async function b(){if(t())try{await ht.togglePin(t());const S=await ht.getAllNotes(n().sortOrder);er.set(S),oi.indexNotes(S)}catch(S){console.error("Failed to toggle pin:",S)}}async function v(){if(s())try{await navigator.clipboard.writeText(s().content),console.log("Note content copied to clipboard")}catch(S){console.error("Failed to copy note:",S);try{const P=document.createElement("textarea");P.value=s().content,P.style.position="fixed",P.style.left="-999999px",document.body.appendChild(P),P.select(),document.execCommand("copy"),document.body.removeChild(P),console.log("Note content copied to clipboard (fallback method)")}catch(P){console.error("Failed to copy note (fallback):",P)}}}function x(){k(d,!1),Wc(),an.set(!0)}function Q(){k(d,!1)}to(()=>{window.addEventListener("keydown",O)}),iy(()=>{window.removeEventListener("keydown",O)}),Lt();{let S=wt(()=>(o(),C(()=>o()("lock.title")))),P=wt(()=>(o(),C(()=>o()("lock.message")))),$=wt(()=>(o(),C(()=>o()("lock.confirmButton")))),M=wt(()=>(o(),C(()=>o()("common.cancel"))));Bs(r,{get show(){return g(d)},get title(){return g(S)},get message(){return g(P)},get confirmText(){return g($)},get cancelText(){return g(M)},confirmClass:"bg-blue-600 hover:bg-blue-700",onConfirm:x,onCancel:Q})}_t(),l()}var Rq=z('<button class="px-4 py-2.5 min-h-11 text-sm text-red-600 active:bg-red-50 dark:active:bg-red-900/20 rounded-md transition-colors">Empty Bin</button>'),Xq=z('<div class="text-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"></div> <p class="mt-2 text-gray-600 dark:text-gray-400">Loading...</p></div>'),Mq=z('<div class="text-center py-8"><p class="text-lg text-gray-600 dark:text-gray-400">Recycle bin is empty</p> <p class="text-sm text-gray-500 dark:text-gray-500 mt-1">Deleted notes will appear here</p></div>'),Zq=z('<span class="text-xs bg-gray-200 dark:bg-gray-600 px-2 py-0.5 rounded"> </span>'),Lq=z('<span class="text-xs text-gray-500"> </span>'),qq=z('<div class="flex gap-1 mt-2"><!> <!></div>'),Dq=z('<div class="border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"><div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0"><h3 class="font-medium text-gray-900 dark:text-gray-100 truncate"> </h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-1"> </p> <!></div> <div class="flex gap-3"><button class="px-4 py-2.5 min-h-11 text-sm bg-blue-600 active:bg-blue-700 text-white rounded-md transition-colors whitespace-nowrap" title="Restore note">Restore</button> <button class="px-4 py-2.5 min-h-11 text-sm bg-red-600 active:bg-red-700 text-white rounded-md transition-colors whitespace-nowrap" title="Permanently delete">Delete Forever</button></div></div></div>'),zq=z('<div class="space-y-2"></div>'),Bq=z('<div class="border-t border-gray-200 dark:border-gray-700 p-4"><p class="text-sm text-gray-500 dark:text-gray-400"> </p></div>'),Iq=z('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-0 tablet:p-4" role="dialog" aria-modal="true"><div class="bg-white dark:bg-gray-800 w-full h-full tablet:h-auto tablet:max-w-4xl tablet:rounded-lg shadow-xl tablet:max-h-[90vh] flex flex-col"><div class="border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between flex-shrink-0"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Recycle Bin</h2> <div class="flex items-center gap-3"><!> <button class="min-h-11 min-w-11 p-3 -m-2 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors text-gray-500 dark:text-gray-400" aria-label="Close recycle bin"></button></div></div> <div class="p-4 flex-1 overflow-y-auto"><!></div> <!></div></div> <!> <!>',1);function Nq(r,e){$t(e,!1);let t=se(e,"show",8,!1),i=se(e,"onClose",8),n=N([]),s=N(!1),o=N(!1),a=N(!1),l=null;async function c(){k(s,!0);try{k(n,await ht.getDeletedNotes())}catch(Q){console.error("Failed to load deleted notes:",Q)}finally{k(s,!1)}}async function h(Q){try{await ht.restoreNote(Q),await c()}catch(S){console.error("Failed to restore note:",S),alert("Failed to restore note: "+(S instanceof Error?S.message:String(S)))}}function f(Q){l=Q,k(o,!0)}async function u(){if(l){k(o,!1);try{await ht.permanentlyDeleteNote(l),l=null,await c()}catch(Q){console.error("Failed to delete note:",Q),alert("Failed to delete note: "+(Q instanceof Error?Q.message:String(Q)))}}}function d(){k(a,!0)}async function O(){k(a,!1);try{for(const Q of g(n))await ht.permanentlyDeleteNote(Q.id);k(n,[])}catch(Q){console.error("Failed to empty recycle bin:",Q),alert("Failed to empty recycle bin: "+(Q instanceof Error?Q.message:String(Q)))}}function p(Q){Q.target===Q.currentTarget&&i()()}function m(Q){return Q.content.split(`
`)[0]||"Untitled"}ze(()=>Ne(t()),()=>{t()&&c()}),On(),Lt();var b=nr(),v=Ke(b);{var x=Q=>{var S=Iq(),P=Ke(S),$=w(P),M=w($),q=T(w(M),2),U=w(q);{var j=ne=>{var le=Rq();D("click",le,d),R(ne,le)};re(U,ne=>{g(n),C(()=>g(n).length>0)&&ne(j)})}var Z=T(U,2),K=T(M,2),X=w(K);{var J=ne=>{var le=Xq();R(ne,le)},pe=ne=>{var le=nr(),De=Ke(le);{var Ue=V=>{var ee=Mq();R(V,ee)},Ye=V=>{var ee=zq();Cr(ee,5,()=>g(n),_=>_.id,(_,E)=>{var te=Dq(),F=w(te),fe=w(F),ge=w(fe),ue=w(ge),Me=T(ge,2),Qe=w(Me),ot=T(Me,2);{var Dt=mt=>{var zt=qq(),Bt=w(zt);Cr(Bt,1,()=>(g(E),C(()=>g(E).tags.slice(0,3))),_i,(Gt,yt)=>{var br=Zq(),Bi=w(br);ie(()=>I(Bi,`#${g(yt)??""}`)),R(Gt,br)});var yr=T(Bt,2);{var sr=Gt=>{var yt=Lq(),br=w(yt);ie(()=>I(br,`+${g(E),C(()=>g(E).tags.length-3)??""}`)),R(Gt,yt)};re(yr,Gt=>{g(E),C(()=>g(E).tags.length>3)&&Gt(sr)})}R(mt,zt)};re(ot,mt=>{g(E),C(()=>g(E).tags.length>0)&&mt(Dt)})}var Ct=T(fe,2),gt=w(Ct),mr=T(gt,2);ie((mt,zt)=>{I(ue,mt),I(Qe,`Deleted: ${zt??""}`)},[()=>(g(E),C(()=>m(g(E)))),()=>(g(E),Ne(tu),C(()=>g(E).deletedAt?tu(g(E).deletedAt,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"))]),D("click",gt,()=>h(g(E).id)),D("click",mr,()=>f(g(E).id)),R(_,te)}),R(V,ee)};re(De,V=>{g(n),C(()=>g(n).length===0)?V(Ue):V(Ye,!1)},!0)}R(ne,le)};re(X,ne=>{g(s)?ne(J):ne(pe,!1)})}var $e=T(K,2);{var Ae=ne=>{var le=Bq(),De=w(le),Ue=w(De);ie(()=>I(Ue,`${g(n),C(()=>g(n).length)??""} ${g(n),C(()=>g(n).length===1?"note":"notes")??""} in recycle bin.
            Notes are automatically purged after 30 days.`)),R(ne,le)};re($e,ne=>{g(n),C(()=>g(n).length>0)&&ne(Ae)})}var ae=T(P,2);Bs(ae,{get show(){return g(o)},title:"Permanently Delete Note",message:"This will permanently delete this note. This cannot be undone!",confirmText:"Delete Forever",cancelText:"Cancel",confirmClass:"bg-red-600 hover:bg-red-700",onConfirm:u,onCancel:()=>k(o,!1)});var Oe=T(ae,2);{let ne=wt(()=>(g(n),C(()=>g(n).length))),le=wt(()=>(g(n),C(()=>g(n).length===1?"note":"notes")));Bs(Oe,{get show(){return g(a)},title:"Empty Recycle Bin",get message(){return`Permanently delete all ${g(ne)??""} ${g(le)??""} in recycle bin? This cannot be undone!`},confirmText:"Empty Bin",cancelText:"Cancel",confirmClass:"bg-red-600 hover:bg-red-700",onConfirm:O,onCancel:()=>k(a,!1)})}D("click",Z,function(...ne){i()?.apply(this,ne)}),D("click",P,p),D("keydown",P,ne=>ne.key==="Escape"&&i()()),R(Q,S)};re(v,Q=>{t()&&Q(x)})}R(r,b),_t()}var Vq=z('<kbd class="px-2 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"> </kbd>'),Wq=z('<div class="flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0"><span class="text-sm text-gray-700 dark:text-gray-300"> </span> <div class="flex gap-1"></div></div>'),jq=z('<div><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3"> </h3> <div class="space-y-2"></div></div>'),Uq=z('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-0 tablet:p-4" role="dialog" aria-modal="true"><div class="bg-white dark:bg-gray-800 w-full h-full tablet:h-auto tablet:max-w-2xl tablet:rounded-lg shadow-xl tablet:max-h-[90vh] flex flex-col"><div class="border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between flex-shrink-0"><h2 class="text-xl font-bold text-gray-900 dark:text-white">Keyboard Shortcuts</h2> <button class="min-h-11 min-w-11 p-3 -m-2 active:bg-gray-100 dark:active:bg-gray-700 rounded-md transition-colors text-gray-500 dark:text-gray-400" aria-label="Close shortcuts help"></button></div> <div class="p-6 space-y-6 flex-1 overflow-y-auto"><!> <div class="border-t border-gray-200 dark:border-gray-700 pt-4 mt-6"><p class="text-sm text-gray-500 dark:text-gray-400"><strong>Note:</strong> On macOS, use <kbd class="px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded">Cmd</kbd> instead of <kbd class="px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded">Ctrl</kbd>.</p></div></div> <div class="border-t border-gray-200 dark:border-gray-700 p-4 flex justify-end flex-shrink-0"><button class="px-4 py-2.5 min-h-11 bg-blue-600 active:bg-blue-700 text-white font-medium rounded-md transition-colors">Close</button></div></div></div>');function Yq(r,e){$t(e,!1);let t=se(e,"show",8,!1),i=se(e,"onClose",8);function n(c){c.target===c.currentTarget&&i()()}const s=[{category:"Global",items:[{keys:["Ctrl/Cmd","K"],description:"Focus search"},{keys:["Ctrl/Cmd","N"],description:"Create new note"},{keys:["Ctrl/Cmd","L"],description:"Lock application"},{keys:["Ctrl/Cmd",","],description:"Open settings"},{keys:["Ctrl/Cmd","/"],description:"Show keyboard shortcuts"}]},{category:"Note List",items:[{keys:["/"],description:"Navigate notes"},{keys:["J/K"],description:"Navigate notes (vim-style)"},{keys:["Enter"],description:"Open selected note"},{keys:["Delete"],description:"Delete selected note"},{keys:["P"],description:"Pin/unpin selected note"}]},{category:"Editor",items:[{keys:["Esc"],description:"Close note"},{keys:["Ctrl/Cmd","Shift","C"],description:"Copy note content"},{keys:["Ctrl/Cmd","F"],description:"Find in note (CodeMirror)"},{keys:["Ctrl/Cmd","H"],description:"Replace in note (CodeMirror)"}]}];Lt();var o=nr(),a=Ke(o);{var l=c=>{var h=Uq(),f=w(h),u=w(f),d=T(w(u),2),O=T(u,2),p=w(O);Cr(p,1,()=>s,_i,(v,x)=>{var Q=jq(),S=w(Q),P=w(S),$=T(S,2);Cr($,5,()=>(g(x),C(()=>g(x).items)),_i,(M,q)=>{var U=Wq(),j=w(U),Z=w(j),K=T(j,2);Cr(K,5,()=>(g(q),C(()=>g(q).keys)),_i,(X,J)=>{var pe=Vq(),$e=w(pe);ie(()=>I($e,g(J))),R(X,pe)}),ie(()=>I(Z,(g(q),C(()=>g(q).description)))),R(M,U)}),ie(()=>I(P,(g(x),C(()=>g(x).category)))),R(v,Q)});var m=T(O,2),b=w(m);D("click",d,function(...v){i()?.apply(this,v)}),D("click",b,function(...v){i()?.apply(this,v)}),D("click",h,n),D("keydown",h,v=>v.key==="Escape"&&i()()),R(c,h)};re(a,c=>{t()&&c(l)})}R(r,o),_t()}var Gq=z('<div class="h-screen w-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"><div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-400">Loading...</p></div></div>'),Fq=z('<div class="w-full"><!></div>'),Hq=z('<div class="flex w-full"><div class="w-80 border-r border-gray-200 dark:border-gray-700"><!></div> <div class="flex-1"><!></div></div>'),Kq=z('<div class="h-screen w-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100"><div class="flex h-full flex-col"><!> <main class="flex-1 overflow-hidden flex"><!></main></div> <!> <!> <!> <!></div>');function Jq(r,e){$t(e,!1);const t=()=>He(Gn,"$settings",o),i=()=>He(an,"$isLocked",o),n=()=>He(An,"$searchQuery",o),s=()=>He(er,"$notes",o),[o,a]=qi(),l=N();let c=N(!1),h=N(!1),f=N(!1),u=N(!1),d=N("list");async function O(){try{const X=await ht.createNote("",[]),J=await ht.getAllNotes(t().sortOrder);er.set(J),oi.indexNotes(J),Jl(X.id),k(d,"editor")}catch(X){console.error("Failed to create note:",X),alert("Failed to create note: "+(X instanceof Error?X.message:String(X)))}}function p(){k(h,!0)}function m(){k(f,!0)}function b(){k(u,!0)}function v(){const X=document.getElementById("search-input"),J=document.getElementById("search-input-mobile");X&&window.getComputedStyle(X).display!=="none"?X.focus():J&&J.focus()}function x(){k(d,"list")}function Q(){k(d,"editor")}function S(X){X==="dark"?document.documentElement.classList.add("dark"):X==="light"?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}to(async()=>{try{await jw();const X=await Ei.get();Gn.set(X);const J=IT(X.language);BT(J),ai.set(J),S(X.theme),an.set(Ak()),k(c,!0)}catch(X){console.error("Failed to initialize app:",X)}});async function P(){try{(await et.getMetadata())?.syncEnabled&&(console.log("[App] Triggering sync on lock..."),await wi.syncNow())}catch(X){console.error("Failed to sync on lock:",X)}}async function $(){try{const X=await ht.getAllNotes(t().sortOrder);er.set(X),oi.indexNotes(X),q()}catch(X){console.error("Failed to load notes:",X)}}async function M(){try{const X=await et.getMetadata();if(X?.syncEnabled){const J=X.autoSyncInterval||5;console.log(`[App] Starting auto-sync with ${J} minute interval`),wi.enableAutoSync(J),console.log("[App] Triggering sync on unlock..."),wi.syncNow()}}catch(X){console.error("Failed to start auto-sync:",X)}}async function q(){const X=await oi.searchNotes(n(),s());En.set(X)}ze(()=>t(),()=>{k(l,t().layoutMode==="mobile"||t().layoutMode==="auto"&&window.matchMedia("(max-width: 767px)").matches)}),ze(()=>t(),()=>{t()&&S(t().theme)}),ze(()=>(t(),ai),()=>{t()&&t().language&&ai.set(t().language)}),ze(()=>(i(),g(c),t()),()=>{!i()&&g(c)&&($(),WT(t().autoLockTimeout),M())}),ze(()=>(i(),wi),()=>{i()&&(Td(),wi.disableAutoSync(),P())}),ze(()=>(i(),t(),vp),()=>{!i()&&t().autoLockTimeout&&vp(t().autoLockTimeout)}),ze(()=>(i(),En),()=>{i()?i()&&(er.set([]),En.set([])):$()}),ze(()=>(n(),s(),En),()=>{n(),s().length>0?q():En.set([])}),On(),Lt();var U=nr(),j=Ke(U);{var Z=X=>{var J=Gq();R(X,J)},K=X=>{var J=nr(),pe=Ke(J);{var $e=ae=>{KT(ae,{})},Ae=ae=>{var Oe=Kq(),ne=w(Oe),le=w(ne);O$(le,{onOpenSettings:p,onNewNote:O,onOpenRecycleBin:m,get forceMobileLayout(){return g(l)}});var De=T(le,2),Ue=w(De);{var Ye=F=>{var fe=Fq(),ge=w(fe);{var ue=Qe=>{Sp(Qe,{onNoteSelect:Q})},Me=Qe=>{f0(Qe,{onBackToList:x})};re(ge,Qe=>{g(d)==="list"?Qe(ue):Qe(Me,!1)})}R(F,fe)},V=F=>{var fe=Hq(),ge=w(fe),ue=w(ge);Sp(ue,{});var Me=T(ge,2),Qe=w(Me);f0(Qe,{}),R(F,fe)};re(Ue,F=>{g(l)?F(Ye):F(V,!1)})}var ee=T(ne,2);Aq(ee,{get show(){return g(h)},onClose:()=>k(h,!1),onOpenShortcutsHelp:b});var _=T(ee,2);Nq(_,{get show(){return g(f)},onClose:()=>k(f,!1)});var E=T(_,2);Yq(E,{get show(){return g(u)},onClose:()=>k(u,!1)});var te=T(E,2);Eq(te,{onNewNote:O,onOpenSettings:p,onFocusSearch:v,onOpenShortcutsHelp:b}),R(ae,Oe)};re(pe,ae=>{i()?ae($e):ae(Ae,!1)},!0)}R(X,J)};re(j,X=>{g(c)?X(K,!1):X(Z)})}R(r,U),_t(),a()}iw(Jq,{target:document.getElementById("app")});const l1={name:"Jottery",tagline:"Privacy-focused  Local-first  Encrypted"},c1={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",confirm:"Confirm",close:"Close",lock:"Lock",unlock:"Unlock",settings:"Settings",search:"Search",error:"Error"},h1={new:"New",create:"Create new note",delete:"Delete note",pin:"Pin",pinned:"Pinned",unpin:"Unpin",copy:"Copy",copyContent:"Copy note content",noNoteSelected:"No note selected",selectNote:"Select a note from the list or create a new one",created:"Created",modified:"Modified",attachments:"Attachments"},f1={placeholder:"Search notes...",clear:"Clear search"},u1={tags:"Tags",addTags:"Add tags...",plainText:"Plain Text",syntaxHighlight:"Syntax highlighting",wordWrap:"Wrap",noWrap:"No Wrap",toggleWordWrap:"Toggle word wrap"},d1={title:"Settings",theme:"Theme",themeLight:"Light",themeDark:"Dark",themeAuto:"Auto",autoLockTimeout:"Auto-lock timeout (minutes)",sortOrder:"Default sort order",sortRecent:"Most recent",sortOldest:"Oldest first",sortAlpha:"Alphabetical",language:"Language",saveSettings:"Save Settings",saving:"Saving...",exportNotes:"Export Notes",importNotes:"Import Notes",deleteDatabase:"Delete Database",keyboardShortcuts:"Keyboard Shortcuts"},O1={welcome:"Welcome to Jottery",enterPassword:"Enter your password to unlock",setupPassword:"Set up your master password",password:"Password",confirmPassword:"Confirm Password",createPassword:"Create Password",unlock:"Unlock",processing:"Processing...",passwordMinLength:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",incorrectPassword:"Incorrect password",warning:"Important: Your password cannot be recovered. If you lose it, your data will be permanently inaccessible.",failedAttempts:"Incorrect password. After 3 failed attempts, you may need to delete the database and start over.",deleteAndStartOver:"Delete Database & Start Over"},p1={title:"Lock Application",message:"Lock the application? Unsaved changes will be lost.",confirmButton:"Lock"},g1={title:"Recycle Bin",empty:"Recycle bin is empty",restore:"Restore",deletePermanently:"Delete Permanently",emptyBin:"Empty Recycle Bin"},m1={title:"Attachments",upload:"Upload files",dropHere:"Drop files here or click to browse",uploading:"Uploading...",download:"Download",validationError:"File validation error"},y1={title:"Keyboard Shortcuts",global:"Global",noteList:"Note List",editor:"Editor",focusSearch:"Focus search",createNote:"Create new note",lockApp:"Lock application",openSettings:"Open settings",showShortcuts:"Show keyboard shortcuts",navigateNotes:"Navigate notes",navigateVim:"Navigate notes (vim-style)",openNote:"Open selected note",deleteNote:"Delete selected note",pinNote:"Pin/unpin selected note",closeNote:"Close note",copyNote:"Copy note content",findInNote:"Find in note (CodeMirror)",replaceInNote:"Replace in note (CodeMirror)",macNote:"On macOS, use Cmd instead of Ctrl."},b1={title:"Releases",description:"Download the Jottery TUI for your platform."},v1={deleteDatabase:{title:"Delete Database",message:` WARNING: This will permanently delete all your encrypted notes and attachments. This cannot be undone!

Are you sure you want to delete the database?`,confirmButton:"Delete Database"}},eD={app:l1,common:c1,note:h1,search:f1,editor:u1,settings:d1,unlock:O1,lock:p1,recycleBin:g1,attachments:m1,keyboard:y1,releases:b1,confirm:v1},tD=Object.freeze(Object.defineProperty({__proto__:null,app:l1,attachments:m1,common:c1,confirm:v1,default:eD,editor:u1,keyboard:y1,lock:p1,note:h1,recycleBin:g1,releases:b1,search:f1,settings:d1,unlock:O1},Symbol.toStringTag,{value:"Module"})),S1={name:"Jottery",tagline:"Privacy-focused  Local-first  Encrypted"},x1={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",confirm:"Confirm",close:"Close",lock:"Lock",unlock:"Unlock",settings:"Settings",search:"Search",error:"Error"},Q1={new:"New",create:"Create new note",delete:"Delete note",pin:"Pin",pinned:"Pinned",unpin:"Unpin",copy:"Copy",copyContent:"Copy note content",noNoteSelected:"No note selected",selectNote:"Select a note from the list or create a new one",created:"Created",modified:"Modified",attachments:"Attachments"},w1={placeholder:"Search notes...",clear:"Clear search"},k1={tags:"Tags",addTags:"Add tags...",plainText:"Plain Text",syntaxHighlight:"Syntax highlighting",wordWrap:"Wrap",noWrap:"No Wrap",toggleWordWrap:"Toggle word wrap"},P1={title:"Settings",theme:"Theme",themeLight:"Light",themeDark:"Dark",themeAuto:"Auto",autoLockTimeout:"Auto-lock timeout (minutes)",sortOrder:"Default sort order",sortRecent:"Most recent",sortOldest:"Oldest first",sortAlpha:"Alphabetical",language:"Language",saveSettings:"Save Settings",saving:"Saving...",exportNotes:"Export Notes",importNotes:"Import Notes",deleteDatabase:"Delete Database",keyboardShortcuts:"Keyboard Shortcuts"},T1={welcome:"Welcome to Jottery",enterPassword:"Enter your password to unlock",setupPassword:"Set up your master password",password:"Password",confirmPassword:"Confirm Password",createPassword:"Create Password",unlock:"Unlock",processing:"Processing...",passwordMinLength:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",incorrectPassword:"Incorrect password",warning:"Important: Your password cannot be recovered. If you lose it, your data will be permanently inaccessible.",failedAttempts:"Incorrect password. After 3 failed attempts, you may need to delete the database and start over.",deleteAndStartOver:"Delete Database & Start Over"},$1={title:"Lock Application",message:"Lock the application? Unsaved changes will be lost.",confirmButton:"Lock"},_1={title:"Recycle Bin",empty:"Recycle bin is empty",restore:"Restore",deletePermanently:"Delete Permanently",emptyBin:"Empty Recycle Bin"},C1={title:"Attachments",upload:"Upload files",dropHere:"Drop files here or click to browse",uploading:"Uploading...",download:"Download",validationError:"File validation error"},A1={title:"Keyboard Shortcuts",global:"Global",noteList:"Note List",editor:"Editor",focusSearch:"Focus search",createNote:"Create new note",lockApp:"Lock application",openSettings:"Open settings",showShortcuts:"Show keyboard shortcuts",navigateNotes:"Navigate notes",navigateVim:"Navigate notes (vim-style)",openNote:"Open selected note",deleteNote:"Delete selected note",pinNote:"Pin/unpin selected note",closeNote:"Close note",copyNote:"Copy note content",findInNote:"Find in note (CodeMirror)",replaceInNote:"Replace in note (CodeMirror)",macNote:"On macOS, use Cmd instead of Ctrl."},E1={title:"Releases",description:"Download the Jottery TUI for your platform."},R1={deleteDatabase:{title:"Delete Database",message:` WARNING: This will permanently delete all your encrypted notes and attachments. This cannot be undone!

Are you sure you want to delete the database?`,confirmButton:"Delete Database"}},rD={app:S1,common:x1,note:Q1,search:w1,editor:k1,settings:P1,unlock:T1,lock:$1,recycleBin:_1,attachments:C1,keyboard:A1,releases:E1,confirm:R1},iD=Object.freeze(Object.defineProperty({__proto__:null,app:S1,attachments:C1,common:x1,confirm:R1,default:rD,editor:k1,keyboard:A1,lock:$1,note:Q1,recycleBin:_1,releases:E1,search:w1,settings:P1,unlock:T1},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.bottom-0{bottom:0}.left-0{left:0}.right-2{right:.5rem}.top-0{top:0}.top-1\/2{top:50%}.z-10{z-index:10}.z-40{z-index:40}.z-50{z-index:50}.-m-2{margin:-.5rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-12{height:3rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-full{height:100%}.h-screen{height:100vh}.max-h-48{max-height:12rem}.max-h-64{max-height:16rem}.max-h-\[80vh\]{max-height:80vh}.max-h-\[calc\(80vh-140px\)\]{max-height:calc(80vh - 140px)}.min-h-11{min-height:2.75rem}.min-h-\[2\.5rem\]{min-height:2.5rem}.min-h-\[60px\]{min-height:60px}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-8{width:2rem}.w-80{width:20rem}.w-full{width:100%}.w-screen{width:100vw}.min-w-0{min-width:0px}.min-w-11{min-width:2.75rem}.min-w-\[120px\]{min-width:120px}.max-w-2xl{max-width:42rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-orange-300{--tw-border-opacity: 1;border-color:rgb(253 186 116 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-l-blue-500{--tw-border-opacity: 1;border-left-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\/50{background-color:#00000080}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity: 1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity: .5}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-indigo-100{--tw-gradient-to: #e0e7ff var(--tw-gradient-to-position)}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-2{padding:.5rem}.p-2\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pb-3{padding-bottom:.75rem}.pr-8{padding-right:2rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-orange-800{--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.opacity-50{opacity:.5}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;display:flex;min-width:320px;min-height:100vh}#app{width:100%;height:100vh;overflow:hidden}.last\:border-0:last-child{border-width:0px}.hover\:border-blue-400:hover{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.hover\:bg-blue-200:hover{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:text-blue-600:hover{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:underline:hover{text-decoration-line:underline}.focus\:border-transparent:focus{border-color:transparent}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1))}.active\:bg-blue-700:active{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.active\:bg-gray-100:active{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.active\:bg-red-50:active{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.active\:bg-red-700:active{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-blue-400:disabled{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity, 1))}.disabled\:bg-green-400:disabled{--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity, 1))}.disabled\:bg-red-400:disabled{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity, 1))}.disabled\:opacity-50:disabled{opacity:.5}.dark\:border-blue-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\:border-green-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(21 128 61 / var(--tw-border-opacity, 1))}.dark\:border-green-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(22 101 52 / var(--tw-border-opacity, 1))}.dark\:border-orange-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(194 65 12 / var(--tw-border-opacity, 1))}.dark\:border-orange-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(154 52 18 / var(--tw-border-opacity, 1))}.dark\:border-red-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity, 1))}.dark\:border-yellow-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(133 77 14 / var(--tw-border-opacity, 1))}.dark\:bg-blue-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.dark\:bg-blue-900\/20:is(.dark *){background-color:#1e3a8a33}.dark\:bg-gray-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\:bg-gray-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\:bg-gray-800\/50:is(.dark *){background-color:#1f293780}.dark\:bg-gray-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.dark\:bg-green-900\/20:is(.dark *){background-color:#14532d33}.dark\:bg-orange-900\/20:is(.dark *){background-color:#7c2d1233}.dark\:bg-orange-900\/30:is(.dark *){background-color:#7c2d124d}.dark\:bg-red-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity, 1))}.dark\:bg-red-900\/20:is(.dark *){background-color:#7f1d1d33}.dark\:bg-yellow-900\/20:is(.dark *){background-color:#713f1233}.dark\:from-gray-900:is(.dark *){--tw-gradient-from: #111827 var(--tw-gradient-from-position);--tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\:to-gray-800:is(.dark *){--tw-gradient-to: #1f2937 var(--tw-gradient-to-position)}.dark\:text-blue-200:is(.dark *){--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.dark\:text-blue-400:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\:text-gray-100:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.dark\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\:text-green-200:is(.dark *){--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity, 1))}.dark\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\:text-orange-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 215 170 / var(--tw-text-opacity, 1))}.dark\:text-orange-300:is(.dark *){--tw-text-opacity: 1;color:rgb(253 186 116 / var(--tw-text-opacity, 1))}.dark\:text-orange-400:is(.dark *){--tw-text-opacity: 1;color:rgb(251 146 60 / var(--tw-text-opacity, 1))}.dark\:text-red-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.dark\:text-red-300:is(.dark *){--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.dark\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\:text-yellow-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 240 138 / var(--tw-text-opacity, 1))}.dark\:hover\:bg-blue-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-gray-600:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-gray-700\/50:hover:is(.dark *){background-color:#37415180}.dark\:hover\:bg-gray-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-red-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity, 1))}.dark\:hover\:text-blue-400:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\:hover\:text-gray-200:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\:hover\:text-gray-300:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\:active\:bg-gray-700:active:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\:active\:bg-gray-800:active:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\:active\:bg-red-900\/20:active:is(.dark *){background-color:#7f1d1d33}@media (min-width: 768px){.tablet\:block{display:block}.tablet\:flex{display:flex}.tablet\:hidden{display:none}.tablet\:h-auto{height:auto}.tablet\:max-h-\[90vh\]{max-height:90vh}.tablet\:max-w-2xl{max-width:42rem}.tablet\:max-w-4xl{max-width:56rem}.tablet\:gap-4{gap:1rem}.tablet\:rounded-lg{border-radius:.5rem}.tablet\:p-4{padding:1rem}.tablet\:text-xl{font-size:1.25rem;line-height:1.75rem}}@keyframes svelte-1elxaub-slide-down{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1elxaub-slide-in-left{0%{transform:translate(-100%)}to{transform:translate(0)}}.animate-slide-down.svelte-1elxaub{animation:svelte-1elxaub-slide-down .2s ease-out}.animate-slide-in-left.svelte-1elxaub{animation:svelte-1elxaub-slide-in-left .3s ease-out}.line-clamp-2.svelte-nen7ht{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.cm-editor{height:100%}.cm-scroller{overflow-y:auto;overflow-x:hidden;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:14px;line-height:1.6;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.cm-content{padding:.5rem;min-height:100%}@media (min-width: 768px){.cm-content{padding:1rem}}@media (max-width: 767px){.cm-scroller::-webkit-scrollbar{width:8px;height:8px}.cm-scroller::-webkit-scrollbar-track{background:transparent}.cm-scroller::-webkit-scrollbar-thumb{background-color:#0003;border-radius:4px}.dark .cm-scroller::-webkit-scrollbar-thumb{background-color:#fff3}.cm-scroller::-webkit-scrollbar-thumb{opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.cm-scroller:hover::-webkit-scrollbar-thumb{opacity:1}}.cm-editor:not(.cm-theme-dark){background:#fff}.dark .cm-editor:not(.cm-theme-dark){background:#111827}.cm-editor:not(.cm-theme-dark) .cm-gutters{background-color:#f9fafb;border-right:1px solid rgb(229 231 235);color:#6b7280}.dark .cm-editor:not(.cm-theme-dark) .cm-gutters{background-color:#111827;border-right-color:#374151;color:#9ca3af}.cm-editor:not(.cm-theme-dark) .cm-activeLineGutter{background-color:#f3f4f6}.dark .cm-editor:not(.cm-theme-dark) .cm-activeLineGutter{background-color:#1f2937}.cm-editor:not(.cm-theme-dark) .cm-activeLine{background-color:#f9fafb}.dark .cm-editor:not(.cm-theme-dark) .cm-activeLine{background-color:#1f2937}.dark .cm-editor:not(.cm-theme-dark) .cm-content{color:#f3f4f6}.cm-content ::selection{background-color:#b3d7ff}.dark .cm-content ::selection{background-color:#264f78}.cm-content ::-moz-selection{background-color:#b3d7ff}.dark .cm-content ::-moz-selection{background-color:#264f78}.relative.svelte-ba3yhw{position:relative}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
